"use strict";(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[2387],{73367:(t,e,r)=>{r.d(e,{Ay:()=>l,gK:()=>b,sY:()=>f});var a=6,n="AJSAJS",o="AFAFAF",i=65,h=73,s=79,c=86,u=90;const l={forward:f,inverse:M,toPoint:b};function f(t,e){return e=e||5,m(d({lat:t[1],lon:t[0]}),e)}function M(t){var e=k(C(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function b(t){var e=k(C(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function g(t){return t*(Math.PI/180)}function v(t){return t/Math.PI*180}function d(t){var e,r,a,n,o,i,h,s,c,u=t.lat,l=t.lon,f=6378137,M=.00669438,b=.9996,v=g(u),d=g(l);c=Math.floor((l+180)/6)+1,180===l&&(c=60),u>=56&&u<64&&l>=3&&l<12&&(c=32),u>=72&&u<84&&(l>=0&&l<9?c=31:l>=9&&l<21?c=33:l>=21&&l<33?c=35:l>=33&&l<42&&(c=37)),e=6*(c-1)-180+3,s=g(e),r=M/(1-M),a=f/Math.sqrt(1-M*Math.sin(v)*Math.sin(v)),n=Math.tan(v)*Math.tan(v),o=r*Math.cos(v)*Math.cos(v),i=Math.cos(v)*(d-s),h=f*((1-M/4-3*M*M/64-5*M*M*M/256)*v-(3*M/8+3*M*M/32+45*M*M*M/1024)*Math.sin(2*v)+(15*M*M/256+45*M*M*M/1024)*Math.sin(4*v)-35*M*M*M/3072*Math.sin(6*v));var k=b*a*(i+(1-n+o)*i*i*i/6+(5-18*n+n*n+72*o-58*r)*i*i*i*i*i/120)+5e5,m=b*(h+a*Math.tan(v)*(i*i/2+(5-n+9*o+4*o*o)*i*i*i*i/24+(61-58*n+n*n+600*o-330*r)*i*i*i*i*i*i/720));return u<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(k),zoneNumber:c,zoneLetter:w(u)}}function k(t){var e=t.northing,r=t.easting,a=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,i,h,s,c,u,l,f,M,b,g=.9996,d=6378137,w=.00669438,m=(1-Math.sqrt(1-w))/(1+Math.sqrt(1-w)),A=r-5e5,p=e;a<"N"&&(p-=1e7),f=6*(n-1)-180+3,o=w/(1-w),l=p/g,M=l/(d*(1-w/4-3*w*w/64-5*w*w*w/256)),b=M+(3*m/2-27*m*m*m/32)*Math.sin(2*M)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*M)+151*m*m*m/96*Math.sin(6*M),i=d/Math.sqrt(1-w*Math.sin(b)*Math.sin(b)),h=Math.tan(b)*Math.tan(b),s=o*Math.cos(b)*Math.cos(b),c=d*(1-w)/Math.pow(1-w*Math.sin(b)*Math.sin(b),1.5),u=A/(i*g);var z=b-i*Math.tan(b)/c*(u*u/2-(5+3*h+10*s-4*s*s-9*o)*u*u*u*u/24+(61+90*h+298*s+45*h*h-252*o-3*s*s)*u*u*u*u*u*u/720);z=v(z);var C,S=(u-(1+2*h+s)*u*u*u/6+(5-2*s+28*h-3*s*s+8*o+24*h*h)*u*u*u*u*u/120)/Math.cos(b);if(S=f+v(S),t.accuracy){var N=k({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:N.lat,right:N.lon,bottom:z,left:S}}else C={lat:z,lon:S};return C}function w(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function m(t,e){var r="00000"+t.easting,a="00000"+t.northing;return t.zoneNumber+t.zoneLetter+A(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+a.substr(a.length-5,e)}function A(t,e,r){var a=p(r),n=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return z(n,o,a)}function p(t){var e=t%a;return 0===e&&(e=a),e}function z(t,e,r){var a=r-1,l=n.charCodeAt(a),f=o.charCodeAt(a),M=l+t-1,b=f+e,g=!1;M>u&&(M=M-u+i-1,g=!0),(M===h||l<h&&M>h||(M>h||l<h)&&g)&&M++,(M===s||l<s&&M>s||(M>s||l<s)&&g)&&(M++,M===h&&M++),M>u&&(M=M-u+i-1),b>c?(b=b-c+i-1,g=!0):g=!1,(b===h||f<h&&b>h||(b>h||f<h)&&g)&&b++,(b===s||f<s&&b>s||(b>s||f<s)&&g)&&(b++,b===h&&b++),b>c&&(b=b-c+i-1);var v=String.fromCharCode(M)+String.fromCharCode(b);return v}function C(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";var e,r=t.length,a=null,n="",o=0;while(!/[A-Z]/.test(e=t.charAt(o))){if(o>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,o++}var i=parseInt(n,10);if(0===o||o+3>r)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(o++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;a=t.substring(o,o+=2);var s=p(i),c=S(a.charAt(0),s),u=N(a.charAt(1),s);while(u<P(h))u+=2e6;var l=r-o;if(l%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,M,b,g,v,d=l/2,k=0,w=0;return d>0&&(f=1e5/Math.pow(10,d),M=t.substring(o,o+d),k=parseFloat(M)*f,b=t.substring(o+d),w=parseFloat(b)*f),g=k+c,v=w+u,{easting:g,northing:v,zoneLetter:h,zoneNumber:i,accuracy:f}}function S(t,e){var r=n.charCodeAt(e-1),a=1e5,o=!1;while(r!==t.charCodeAt(0)){if(r++,r===h&&r++,r===s&&r++,r>u){if(o)throw"Bad character: "+t;r=i,o=!0}a+=1e5}return a}function N(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var r=o.charCodeAt(e-1),a=0,n=!1;while(r!==t.charCodeAt(0)){if(r++,r===h&&r++,r===s&&r++,r>c){if(n)throw"Bad character: "+t;r=i,n=!0}a+=1e5}return a}function P(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}}}]);
//# sourceMappingURL=chunk-vendors-7efe5600.54e2168f.js.map