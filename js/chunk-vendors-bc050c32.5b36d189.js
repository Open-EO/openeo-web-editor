(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[3277],{30041:(t,e,r)=>{"use strict";var n=r(30655),i=r(58068),o=r(69675),s=r(75795);t.exports=function(t,e,r){if(!t||"object"!==typeof t&&"function"!==typeof t)throw new o("`obj` must be an object or a function`");if("string"!==typeof e&&"symbol"!==typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6&&arguments[6],u=!!s&&s(t,e);if(n)n(t,e,{configurable:null===c&&u?u.configurable:!c,enumerable:null===a&&u?u.enumerable:!a,value:r,writable:null===l&&u?u.writable:!l});else{if(!f&&(a||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},38452:(t,e,r)=>{"use strict";var n=r(1189),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=r(30041),l=function(t){return"function"===typeof t&&"[object Function]"===o.call(t)},c=r(30592)(),f=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if(!l(n)||!n())return;c?a(t,e,r,!0):a(t,e,r)},u=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)f(t,o[a],e[o[a]],r[o[a]])};u.supportsDescriptors=!!c,t.exports=u},30655:(t,e,r)=>{"use strict";var n=r(70453),i=n("%Object.defineProperty%",!0)||!1;if(i)try{i({},"a",{value:1})}catch(o){i=!1}t.exports=i},41237:t=>{"use strict";t.exports=EvalError},69383:t=>{"use strict";t.exports=Error},79290:t=>{"use strict";t.exports=RangeError},79538:t=>{"use strict";t.exports=ReferenceError},58068:t=>{"use strict";t.exports=SyntaxError},69675:t=>{"use strict";t.exports=TypeError},35345:t=>{"use strict";t.exports=URIError},37007:(t,e,r)=>{"use strict";var n,i=r(96763),o="object"===typeof Reflect?Reflect:null,s=o&&"function"===typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function a(t){i&&i.warn&&i.warn(t)}n=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var l=Number.isNaN||function(t){return t!==t};function c(){c.init.call(this)}t.exports=c,t.exports.once=A,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var f=10;function u(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function p(t,e,r,n){var i,o,s;if(u(r),o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"===typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=h(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a(l)}return t}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=y.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?S(i):w(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function w(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function b(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function S(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function A(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}P(t,e,o,{once:!0}),"error"!==e&&v(t,i,{once:!0})}))}function v(t,e,r){"function"===typeof t.on&&P(t,"error",e,r)}function P(t,e,r,n){if("function"===typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(t){if("number"!==typeof t||t<0||l(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");f=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[t];if(void 0===l)return!1;if("function"===typeof l)s(l,this,e);else{var c=l.length,f=w(l,c);for(r=0;r<c;++r)s(f[r],this,e)}return!0},c.prototype.addListener=function(t,e){return p(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return p(this,t,e,!0)},c.prototype.once=function(t,e){return u(e),this.on(t,g(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,g(this,t,e)),this},c.prototype.removeListener=function(t,e){var r,n,i,o,s;if(u(e),n=this._events,void 0===n)return this;if(r=n[t],void 0===r)return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)i=o[n],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},c.prototype.listeners=function(t){return d(this,t,!0)},c.prototype.rawListeners=function(t){return d(this,t,!1)},c.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},c.prototype.listenerCount=m,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},29252:t=>{"use strict";t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;0!==i--;)if(!t(e[i],r[i]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],r.get(i[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(i=n;0!==i--;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}},32017:t=>{"use strict";t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;0!==i--;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}},72492:t=>{"use strict";t.exports=function(t,e){e||(e={}),"function"===typeof e&&(e={cmp:e});var r="boolean"===typeof e.cycles&&e.cycles,n=e.cmp&&function(t){return function(e){return function(r,n){var i={key:r,value:e[r]},o={key:n,value:e[n]};return t(i,o)}}}(e.cmp),i=[];return function t(e){if(e&&e.toJSON&&"function"===typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!==typeof e)return JSON.stringify(e);var o,s;if(Array.isArray(e)){for(s="[",o=0;o<e.length;o++)o&&(s+=","),s+=t(e[o])||"null";return s+"]"}if(null===e)return"null";if(-1!==i.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=i.push(e)-1,l=Object.keys(e).sort(n&&n(e));for(s="",o=0;o<l.length;o++){var c=l[o],f=t(e[c]);f&&(s&&(s+=","),s+=JSON.stringify(c)+":"+f)}return i.splice(a,1),"{"+s+"}"}}(t)}},82682:(t,e,r)=>{"use strict";var n=r(69600),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},a=function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},l=function(t,e,r){for(var n in t)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},c=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),"[object Array]"===i.call(t)?s(t,e,o):"string"===typeof t?a(t,e,o):l(t,e,o)};t.exports=c},89353:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,n=Math.max,i="[object Function]",o=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r},s=function(t,e){for(var r=[],n=e||0,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r},a=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};t.exports=function(t){var l=this;if("function"!==typeof l||r.apply(l)!==i)throw new TypeError(e+l);for(var c,f=s(arguments,1),u=function(){if(this instanceof c){var e=l.apply(this,o(f,arguments));return Object(e)===e?e:this}return l.apply(t,o(f,arguments))},h=n(0,l.length-f.length),p=[],y=0;y<h;y++)p[y]="$"+y;if(c=Function("binder","return function ("+a(p,",")+"){ return binder.apply(this,arguments); }")(u),l.prototype){var g=function(){};g.prototype=l.prototype,c.prototype=new g,g.prototype=null}return c}},66743:(t,e,r)=>{"use strict";var n=r(89353);t.exports=Function.prototype.bind||n},70453:(t,e,r)=>{"use strict";var n,i=r(69383),o=r(41237),s=r(79290),a=r(79538),l=r(58068),c=r(69675),f=r(35345),u=Function,h=function(t){try{return u('"use strict"; return ('+t+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(U){p=null}var y=function(){throw new c},g=p?function(){try{return y}catch(t){try{return p(arguments,"callee").get}catch(e){return y}}}():y,d=r(64039)(),m=r(80024)(),w=Object.getPrototypeOf||(m?function(t){return t.__proto__}:null),b={},S="undefined"!==typeof Uint8Array&&w?w(Uint8Array):n,A={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d&&w?w([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":b,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&w?w(w([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d&&w?w((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d&&w?w((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&w?w(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":g,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet};if(w)try{null.error}catch(U){var v=w(w(U));A["%Error.prototype%"]=v}var P=function t(e){var r;if("%AsyncFunction%"===e)r=h("async function () {}");else if("%GeneratorFunction%"===e)r=h("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=h("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&w&&(r=w(i.prototype))}return A[e]=r,r},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=r(66743),E=r(9957),F=I.call(Function.call,Array.prototype.concat),T=I.call(Function.apply,Array.prototype.splice),D=I.call(Function.call,String.prototype.replace),M=I.call(Function.call,String.prototype.slice),x=I.call(Function.call,RegExp.prototype.exec),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,j=function(t){var e=M(t,0,1),r=M(t,-1);if("%"===e&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return D(t,_,(function(t,e,r,i){n[n.length]=r?D(i,R,"$1"):e||t})),n},C=function(t,e){var r,n=t;if(E(O,n)&&(r=O[n],n="%"+r[0]+"%"),E(A,n)){var i=A[n];if(i===b&&(i=P(n)),"undefined"===typeof i&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===x(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=j(t),n=r.length>0?r[0]:"",i=C("%"+n+"%",e),o=i.name,s=i.value,a=!1,f=i.alias;f&&(n=f[0],T(r,F([0,1],f)));for(var u=1,h=!0;u<r.length;u+=1){var y=r[u],g=M(y,0,1),d=M(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===d||"'"===d||"`"===d)&&g!==d)throw new l("property names with quotes must have matching quotes");if("constructor"!==y&&h||(a=!0),n+="."+y,o="%"+n+"%",E(A,o))s=A[o];else if(null!=s){if(!(y in s)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(p&&u+1>=r.length){var m=p(s,y);h=!!m,s=h&&"get"in m&&!("originalValue"in m.get)?m.get:s[y]}else h=E(s,y),s=s[y];h&&!a&&(A[o]=s)}}return s}},75795:(t,e,r)=>{"use strict";var n=r(70453),i=n("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(o){i=null}t.exports=i},30592:(t,e,r)=>{"use strict";var n=r(30655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},80024:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof r)}},64039:(t,e,r)=>{"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r(41333);t.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},41333:t=>{"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(e in t[e]=n,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},49092:(t,e,r)=>{"use strict";var n=r(41333);t.exports=function(){return n()&&!!Symbol.toStringTag}},9957:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(66743);t.exports=o.call(n,i)},251:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,c=l>>1,f=-7,u=r?i-1:0,h=r?-1:1,p=t[e+u];for(u+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+u],u+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+u],u+=h,f-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,l,c=8*o-i-1,f=(1<<c)-1,u=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+u>=1?h/l:h*Math.pow(2,1-u),e*l>=2&&(s++,l/=2),s+u>=f?(a=0,s=f):s+u>=1?(a=(e*l-1)*Math.pow(2,i),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=y,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=y,s/=256,c-=8);t[r+p-y]|=128*g}},56698:t=>{"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},47244:(t,e,r)=>{"use strict";var n=r(49092)(),i=r(38075),o=i("Object.prototype.toString"),s=function(t){return!(n&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!s(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},l=function(){return s(arguments)}();s.isLegacyArguments=a,t.exports=l?s:a},69600:t=>{"use strict";var e,r,n=Function.prototype.toString,i="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof i&&"function"===typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,e)}catch(b){b!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(t){try{var e=n.call(t);return o.test(e)}catch(r){return!1}},a=function(t){try{return!s(t)&&(n.call(t),!0)}catch(e){return!1}},l=Object.prototype.toString,c="[object Object]",f="[object Function]",u="[object GeneratorFunction]",h="[object HTMLAllCollection]",p="[object HTML document.all class]",y="[object HTMLCollection]",g="function"===typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),m=function(){return!1};if("object"===typeof document){var w=document.all;l.call(w)===l.call(document.all)&&(m=function(t){if((d||!t)&&("undefined"===typeof t||"object"===typeof t))try{var e=l.call(t);return(e===h||e===p||e===y||e===c)&&null==t("")}catch(r){}return!1})}t.exports=i?function(t){if(m(t))return!0;if(!t)return!1;if("function"!==typeof t&&"object"!==typeof t)return!1;try{i(t,null,e)}catch(n){if(n!==r)return!1}return!s(t)&&a(t)}:function(t){if(m(t))return!0;if(!t)return!1;if("function"!==typeof t&&"object"!==typeof t)return!1;if(g)return a(t);if(s(t))return!1;var e=l.call(t);return!(e!==f&&e!==u&&!/^\[object HTML/.test(e))&&a(t)}},48184:(t,e,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(49092)(),l=Object.getPrototypeOf,c=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}};t.exports=function(t){if("function"!==typeof t)return!1;if(s.test(o.call(t)))return!0;if(!a){var e=i.call(t);return"[object GeneratorFunction]"===e}if(!l)return!1;if("undefined"===typeof n){var r=c();n=!!r&&l(r)}return l(t)===n}},13003:t=>{"use strict";t.exports=function(t){return t!==t}},24133:(t,e,r)=>{"use strict";var n=r(10487),i=r(38452),o=r(13003),s=r(76642),a=r(92464),l=n(s(),Number);i(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},76642:(t,e,r)=>{"use strict";var n=r(13003);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},92464:(t,e,r)=>{"use strict";var n=r(38452),i=r(76642);t.exports=function(){var t=i();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},35680:(t,e,r)=>{"use strict";var n=r(25767);t.exports=function(t){return!!n(t)}},7106:t=>{"use strict";var e=t.exports=function(t,e,n){"function"==typeof e&&(n=e,e={}),n=e.cb||n;var i="function"==typeof n?n:n.pre||function(){},o=n.post||function(){};r(e,i,o,t,"",t)};function r(t,i,o,s,a,l,c,f,u,h){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var p in i(s,a,l,c,f,u,h),s){var y=s[p];if(Array.isArray(y)){if(p in e.arrayKeywords)for(var g=0;g<y.length;g++)r(t,i,o,y[g],a+"/"+p+"/"+g,l,a,p,s,g)}else if(p in e.propsKeywords){if(y&&"object"==typeof y)for(var d in y)r(t,i,o,y[d],a+"/"+p+"/"+n(d),l,a,p,s,d)}else(p in e.keywords||t.allKeys&&!(p in e.skipKeywords))&&r(t,i,o,y,a+"/"+p,l,a,p,s)}o(s,a,l,c,f,u,h)}}function n(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},70851:(t,e,r)=>{"use strict";r.d(e,{f:()=>o});const n=new Map;function i(t,e){Array.isArray(t)||(t=[t]),t.forEach((t=>n.set(t,e)))}async function o(t){const e=n.get(t.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${t.Compression}`);const r=await e();return new r(t)}i([void 0,1],(()=>r.e(5121).then(r.bind(r,35121)).then((t=>t.default)))),i(5,(()=>r.e(2764).then(r.bind(r,12764)).then((t=>t.default)))),i(6,(()=>{throw new Error("old style JPEG compression is not supported.")})),i(7,(()=>r.e(6457).then(r.bind(r,76457)).then((t=>t.default)))),i([8,32946],(()=>Promise.all([r.e(9237),r.e(424)]).then(r.bind(r,50424)).then((t=>t.default)))),i(32773,(()=>r.e(1030).then(r.bind(r,1030)).then((t=>t.default)))),i(34887,(()=>Promise.all([r.e(9237),r.e(6885)]).then(r.bind(r,56885)).then((async t=>(await t.zstd.init(),t))).then((t=>t.default)))),i(50001,(()=>r.e(6568).then(r.bind(r,6568)).then((t=>t.default))))},34099:(t,e,r)=>{"use strict";r.d(e,{_F:()=>Q,uz:()=>Z,Vj:()=>tt});var n=r(88022),i=r(85326);class o{constructor(t){this._dataView=new DataView(t)}get buffer(){return this._dataView.buffer}getUint64(t,e){const r=this.getUint32(t,e),n=this.getUint32(t+4,e);let i;if(e){if(i=r+2**32*n,!Number.isSafeInteger(i))throw new Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}if(i=2**32*r+n,!Number.isSafeInteger(i))throw new Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}getInt64(t,e){let r=0;const n=(128&this._dataView.getUint8(t+(e?7:0)))>0;let i=!0;for(let o=0;o<8;o++){let s=this._dataView.getUint8(t+(e?o:7-o));n&&(i?0!==s&&(s=255&~(s-1),i=!1):s=255&~s),r+=s*256**o}return n&&(r=-r),r}getUint8(t,e){return this._dataView.getUint8(t,e)}getInt8(t,e){return this._dataView.getInt8(t,e)}getUint16(t,e){return this._dataView.getUint16(t,e)}getInt16(t,e){return this._dataView.getInt16(t,e)}getUint32(t,e){return this._dataView.getUint32(t,e)}getInt32(t,e){return this._dataView.getInt32(t,e)}getFloat16(t,e){return(0,i.O)(this._dataView,t,e)}getFloat32(t,e){return this._dataView.getFloat32(t,e)}getFloat64(t,e){return this._dataView.getFloat64(t,e)}}class s{constructor(t,e,r,n){this._dataView=new DataView(t),this._sliceOffset=e,this._littleEndian=r,this._bigTiff=n}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(t,e){return this.sliceOffset<=t&&this.sliceTop>=t+e}readUint8(t){return this._dataView.getUint8(t-this._sliceOffset,this._littleEndian)}readInt8(t){return this._dataView.getInt8(t-this._sliceOffset,this._littleEndian)}readUint16(t){return this._dataView.getUint16(t-this._sliceOffset,this._littleEndian)}readInt16(t){return this._dataView.getInt16(t-this._sliceOffset,this._littleEndian)}readUint32(t){return this._dataView.getUint32(t-this._sliceOffset,this._littleEndian)}readInt32(t){return this._dataView.getInt32(t-this._sliceOffset,this._littleEndian)}readFloat32(t){return this._dataView.getFloat32(t-this._sliceOffset,this._littleEndian)}readFloat64(t){return this._dataView.getFloat64(t-this._sliceOffset,this._littleEndian)}readUint64(t){const e=this.readUint32(t),r=this.readUint32(t+4);let n;if(this._littleEndian){if(n=e+2**32*r,!Number.isSafeInteger(n))throw new Error(`${n} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return n}if(n=2**32*e+r,!Number.isSafeInteger(n))throw new Error(`${n} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return n}readInt64(t){let e=0;const r=(128&this._dataView.getUint8(t+(this._littleEndian?7:0)))>0;let n=!0;for(let i=0;i<8;i++){let o=this._dataView.getUint8(t+(this._littleEndian?i:7-i));r&&(n?0!==o&&(o=255&~(o-1),n=!1):o=255&~o),e+=o*256**i}return r&&(e=-e),e}readOffset(t){return this._bigTiff?this.readUint64(t):this.readUint32(t)}}const a="\r\n\r\n";function l(t){if("undefined"!==typeof Object.fromEntries)return Object.fromEntries(t);const e={};for(const[r,n]of t)e[r.toLowerCase()]=n;return e}function c(t){const e=t.split("\r\n").map((t=>{const e=t.split(":").map((t=>t.trim()));return e[0]=e[0].toLowerCase(),e}));return l(e)}function f(t){const[e,...r]=t.split(";").map((t=>t.trim())),n=r.map((t=>t.split("=")));return{type:e,params:l(n)}}function u(t){let e,r,n;return t&&([,e,r,n]=t.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),r=parseInt(r,10),n=parseInt(n,10)),{start:e,end:r,total:n}}function h(t,e){let r=null;const n=new TextDecoder("ascii"),i=[],o=`--${e}`,s=`${o}--`;for(let a=0;a<10;++a){const e=n.decode(new Uint8Array(t,a,o.length));e===o&&(r=a)}if(null===r)throw new Error("Could not find initial boundary");while(r<t.byteLength){const e=n.decode(new Uint8Array(t,r,Math.min(o.length+1024,t.byteLength-r)));if(0===e.length||e.startsWith(s))break;if(!e.startsWith(o))throw new Error("Part does not start with boundary");const l=e.substr(o.length+2);if(0===l.length)break;const f=l.indexOf(a),h=c(l.substr(0,f)),{start:p,end:y,total:g}=u(h["content-range"]),d=r+o.length+f+a.length,m=parseInt(y,10)+1-parseInt(p,10);i.push({headers:h,data:t.slice(d,d+m),offset:p,length:m,fileSize:g}),r=d+m+4}return i}class p{async fetch(t,e=void 0){return Promise.all(t.map((t=>this.fetchSlice(t,e))))}async fetchSlice(t){throw new Error(`fetching of slice ${t} not possible, not implemented`)}get fileSize(){return null}async close(){}}var y=r(82807);async function g(t){return new Promise((e=>setTimeout(e,t)))}function d(t,e){const r=Array.isArray(t)?t:Array.from(t),n=Array.isArray(e)?e:Array.from(e);return r.map(((t,e)=>[t,n[e]]))}class m extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,m),this.name="AbortError"}}class w extends Error{constructor(t,e){super(e),this.errors=t,this.message=e,this.name="AggregateError"}}const b=w;class S{constructor(t,e,r=null){this.offset=t,this.length=e,this.data=r}get top(){return this.offset+this.length}}class A{constructor(t,e,r){this.offset=t,this.length=e,this.blockIds=r}}class v extends p{constructor(t,{blockSize:e=65536,cacheSize:r=100}={}){super(),this.source=t,this.blockSize=e,this.blockCache=new y.A({maxSize:r,onEviction:(t,e)=>{this.evictedBlocks.set(t,e)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(t,e){const r=[],n=[],i=[];this.evictedBlocks.clear();for(const{offset:u,length:h}of t){let t=u+h;const{fileSize:e}=this;null!==e&&(t=Math.min(t,e));const o=Math.floor(u/this.blockSize)*this.blockSize;for(let s=o;s<t;s+=this.blockSize){const t=Math.floor(s/this.blockSize);this.blockCache.has(t)||this.blockRequests.has(t)||(this.blockIdsToFetch.add(t),n.push(t)),this.blockRequests.has(t)&&r.push(this.blockRequests.get(t)),i.push(t)}}await g(),this.fetchBlocks(e);const o=[];for(const u of n)this.blockRequests.has(u)&&o.push(this.blockRequests.get(u));await Promise.allSettled(r),await Promise.allSettled(o);const s=[],a=i.filter((t=>this.abortedBlockIds.has(t)||!this.blockCache.has(t)));if(a.forEach((t=>this.blockIdsToFetch.add(t))),a.length>0&&e&&!e.aborted){this.fetchBlocks(null);for(const t of a){const e=this.blockRequests.get(t);if(!e)throw new Error(`Block ${t} is not in the block requests`);s.push(e)}await Promise.allSettled(s)}if(e&&e.aborted)throw new m("Request was aborted");const l=i.map((t=>this.blockCache.get(t)||this.evictedBlocks.get(t))),c=l.filter((t=>!t));if(c.length)throw new b(c,"Request failed");const f=new Map(d(i,l));return this.readSliceData(t,f)}fetchBlocks(t){if(this.blockIdsToFetch.size>0){const e=this.groupBlocks(this.blockIdsToFetch),r=this.source.fetch(e,t);for(let n=0;n<e.length;++n){const i=e[n];for(const e of i.blockIds)this.blockRequests.set(e,(async()=>{try{const t=(await r)[n],i=e*this.blockSize,o=i-t.offset,s=Math.min(o+this.blockSize,t.data.byteLength),a=t.data.slice(o,s),l=new S(i,a.byteLength,a,e);this.blockCache.set(e,l),this.abortedBlockIds.delete(e)}catch(i){if("AbortError"!==i.name)throw i;i.signal=t,this.blockCache.delete(e),this.abortedBlockIds.add(e)}finally{this.blockRequests.delete(e)}})())}this.blockIdsToFetch.clear()}}groupBlocks(t){const e=Array.from(t).sort(((t,e)=>t-e));if(0===e.length)return[];let r=[],n=null;const i=[];for(const o of e)null===n||n+1===o?(r.push(o),n=o):(i.push(new A(r[0]*this.blockSize,r.length*this.blockSize,r)),r=[o],n=o);return i.push(new A(r[0]*this.blockSize,r.length*this.blockSize,r)),i}readSliceData(t,e){return t.map((t=>{let r=t.offset+t.length;null!==this.fileSize&&(r=Math.min(this.fileSize,r));const n=Math.floor(t.offset/this.blockSize),i=Math.floor(r/this.blockSize),o=new ArrayBuffer(t.length),s=new Uint8Array(o);for(let a=n;a<=i;++a){const n=e.get(a),i=n.offset-t.offset,o=n.top-r;let l,c=0,f=0;i<0?c=-i:i>0&&(f=i),l=o<0?n.length-c:r-n.offset-c;const u=new Uint8Array(n.data,c,l);s.set(u,f)}return o}))}}class P{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(t){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class O{constructor(t){this.url=t}async request({headers:t,signal:e}={}){throw new Error("request is not implemented")}}class I extends P{constructor(t){super(),this.response=t}get status(){return this.response.status}getHeader(t){return this.response.headers.get(t)}async getData(){const t=this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer;return t}}class E extends O{constructor(t,e){super(t),this.credentials=e}async request({headers:t,signal:e}={}){const r=await fetch(this.url,{headers:t,credentials:this.credentials,signal:e});return new I(r)}}class F extends P{constructor(t,e){super(),this.xhr=t,this.data=e}get status(){return this.xhr.status}getHeader(t){return this.xhr.getResponseHeader(t)}async getData(){return this.data}}class T extends O{constructRequest(t,e){return new Promise(((r,n)=>{const i=new XMLHttpRequest;i.open("GET",this.url),i.responseType="arraybuffer";for(const[e,o]of Object.entries(t))i.setRequestHeader(e,o);i.onload=()=>{const t=i.response;r(new F(i,t))},i.onerror=n,i.onabort=()=>n(new m("Request aborted")),i.send(),e&&(e.aborted&&i.abort(),e.addEventListener("abort",(()=>i.abort())))}))}async request({headers:t,signal:e}={}){const r=await this.constructRequest(t,e);return r}}var D=r(28625),M=r(56504),x=r(6580),_=r(48287)["Buffer"];class R extends P{constructor(t,e){super(),this.response=t,this.dataPromise=e}get status(){return this.response.statusCode}getHeader(t){return this.response.headers[t]}async getData(){const t=await this.dataPromise;return t}}class j extends O{constructor(t){super(t),this.parsedUrl=x.parse(this.url),this.httpApi="http:"===this.parsedUrl.protocol?D:M}constructRequest(t,e){return new Promise(((r,n)=>{const i=this.httpApi.get({...this.parsedUrl,headers:t},(t=>{const e=new Promise((e=>{const r=[];t.on("data",(t=>{r.push(t)})),t.on("end",(()=>{const t=_.concat(r).buffer;e(t)})),t.on("error",n)}));r(new R(t,e))}));i.on("error",n),e&&(e.aborted&&i.destroy(new m("Request aborted")),e.addEventListener("abort",(()=>i.destroy(new m("Request aborted")))))}))}async request({headers:t,signal:e}={}){const r=await this.constructRequest(t,e);return r}}class C extends p{constructor(t,e,r,n){super(),this.client=t,this.headers=e,this.maxRanges=r,this.allowFullFile=n,this._fileSize=null}async fetch(t,e){return this.maxRanges>=t.length?this.fetchSlices(t,e):(this.maxRanges>0&&t.length,Promise.all(t.map((t=>this.fetchSlice(t,e)))))}async fetchSlices(t,e){const r=await this.client.request({headers:{...this.headers,Range:`bytes=${t.map((({offset:t,length:e})=>`${t}-${t+e}`)).join(",")}`},signal:e});if(r.ok){if(206===r.status){const{type:n,params:i}=f(r.getHeader("content-type"));if("multipart/byteranges"===n){const t=h(await r.getData(),i.boundary);return this._fileSize=t[0].fileSize||null,t}const o=await r.getData(),{start:s,end:a,total:l}=u(r.getHeader("content-range"));this._fileSize=l||null;const c=[{data:o,offset:s,length:a-s}];if(t.length>1){const r=await Promise.all(t.slice(1).map((t=>this.fetchSlice(t,e))));return c.concat(r)}return c}{if(!this.allowFullFile)throw new Error("Server responded with full file");const t=await r.getData();return this._fileSize=t.byteLength,[{data:t,offset:0,length:t.byteLength}]}}throw new Error("Error fetching data.")}async fetchSlice(t,e){const{offset:r,length:n}=t,i=await this.client.request({headers:{...this.headers,Range:`bytes=${r}-${r+n}`},signal:e});if(i.ok){if(206===i.status){const t=await i.getData(),{total:e}=u(i.getHeader("content-range"));return this._fileSize=e||null,{data:t,offset:r,length:n}}{if(!this.allowFullFile)throw new Error("Server responded with full file");const t=await i.getData();return this._fileSize=t.byteLength,{data:t,offset:0,length:t.byteLength}}}throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function U(t,{blockSize:e,cacheSize:r}){return null===e?t:new v(t,{blockSize:e,cacheSize:r})}function k(t,{headers:e={},credentials:r,maxRanges:n=0,allowFullFile:i=!1,...o}={}){const s=new E(t,r),a=new C(s,e,n,i);return U(a,o)}function L(t,{headers:e={},maxRanges:r=0,allowFullFile:n=!1,...i}={}){const o=new T(t),s=new C(o,e,r,n);return U(s,i)}function G(t,{headers:e={},maxRanges:r=0,allowFullFile:n=!1,...i}={}){const o=new j(t),s=new C(o,e,r,n);return U(s,i)}function N(t,{forceXHR:e=!1,...r}={}){return"function"!==typeof fetch||e?"undefined"!==typeof XMLHttpRequest?L(t,r):G(t,r):k(t,r)}class B extends p{constructor(t){super(),this.file=t}async fetchSlice(t,e){return new Promise(((r,n)=>{const i=this.file.slice(t.offset,t.offset+t.length),o=new FileReader;o.onload=t=>r(t.target.result),o.onerror=n,o.onabort=n,o.readAsArrayBuffer(i),e&&e.addEventListener("abort",(()=>o.abort()))}))}}function V(t){return new B(t)}var K=r(98622);function $(t){switch(t){case K.s$.BYTE:case K.s$.ASCII:case K.s$.SBYTE:case K.s$.UNDEFINED:return 1;case K.s$.SHORT:case K.s$.SSHORT:return 2;case K.s$.LONG:case K.s$.SLONG:case K.s$.FLOAT:case K.s$.IFD:return 4;case K.s$.RATIONAL:case K.s$.SRATIONAL:case K.s$.DOUBLE:case K.s$.LONG8:case K.s$.SLONG8:case K.s$.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${t}`)}}function z(t){const e=t.GeoKeyDirectory;if(!e)return null;const r={};for(let n=4;n<=4*e[3];n+=4){const i=K.Hm[e[n]],o=e[n+1]?K.$[e[n+1]]:null,s=e[n+2],a=e[n+3];let l=null;if(o){if(l=t[o],"undefined"===typeof l||null===l)throw new Error(`Could not get value of geoKey '${i}'.`);"string"===typeof l?l=l.substring(a,a+s-1):l.subarray&&(l=l.subarray(a,a+s),1===s&&(l=l[0]))}else l=a;r[i]=l}return r}function q(t,e,r,n){let i=null,o=null;const s=$(e);switch(e){case K.s$.BYTE:case K.s$.ASCII:case K.s$.UNDEFINED:i=new Uint8Array(r),o=t.readUint8;break;case K.s$.SBYTE:i=new Int8Array(r),o=t.readInt8;break;case K.s$.SHORT:i=new Uint16Array(r),o=t.readUint16;break;case K.s$.SSHORT:i=new Int16Array(r),o=t.readInt16;break;case K.s$.LONG:case K.s$.IFD:i=new Uint32Array(r),o=t.readUint32;break;case K.s$.SLONG:i=new Int32Array(r),o=t.readInt32;break;case K.s$.LONG8:case K.s$.IFD8:i=new Array(r),o=t.readUint64;break;case K.s$.SLONG8:i=new Array(r),o=t.readInt64;break;case K.s$.RATIONAL:i=new Uint32Array(2*r),o=t.readUint32;break;case K.s$.SRATIONAL:i=new Int32Array(2*r),o=t.readInt32;break;case K.s$.FLOAT:i=new Float32Array(r),o=t.readFloat32;break;case K.s$.DOUBLE:i=new Float64Array(r),o=t.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e!==K.s$.RATIONAL&&e!==K.s$.SRATIONAL)for(let a=0;a<r;++a)i[a]=o.call(t,n+a*s);else for(let a=0;a<r;a+=2)i[a]=o.call(t,n+a*s),i[a+1]=o.call(t,n+(a*s+4));return e===K.s$.ASCII?new TextDecoder("utf-8").decode(i):i}class H{constructor(t,e,r){this.fileDirectory=t,this.geoKeyDirectory=e,this.nextIFDByteOffset=r}}class W extends Error{constructor(t){super(`No image at index ${t}`),this.index=t}}class Y{async readRasters(t={}){const{window:e,width:r,height:n}=t;let{resX:i,resY:o,bbox:s}=t;const a=await this.getImage();let l=a;const c=await this.getImageCount(),f=a.getBoundingBox();if(e&&s)throw new Error('Both "bbox" and "window" passed.');if(r||n){if(e){const[t,r]=a.getOrigin(),[n,i]=a.getResolution();s=[t+e[0]*n,r+e[1]*i,t+e[2]*n,r+e[3]*i]}const t=s||f;if(r){if(i)throw new Error("Both width and resX passed");i=(t[2]-t[0])/r}if(n){if(o)throw new Error("Both width and resY passed");o=(t[3]-t[1])/n}}if(i||o){const t=[];for(let e=0;e<c;++e){const r=await this.getImage(e),{SubfileType:n,NewSubfileType:i}=r.fileDirectory;(0===e||2===n||1&i)&&t.push(r)}t.sort(((t,e)=>t.getWidth()-e.getWidth()));for(let e=0;e<t.length;++e){const r=t[e],n=(f[2]-f[0])/r.getWidth(),s=(f[3]-f[1])/r.getHeight();if(l=r,i&&i>n||o&&o>s)break}}let u=e;if(s){const[t,e]=a.getOrigin(),[r,n]=l.getResolution(a);u=[Math.round((s[0]-t)/r),Math.round((s[1]-e)/n),Math.round((s[2]-t)/r),Math.round((s[3]-e)/n)],u=[Math.min(u[0],u[2]),Math.min(u[1],u[3]),Math.max(u[0],u[2]),Math.max(u[1],u[3])]}return l.readRasters({...t,window:u})}}class J extends Y{constructor(t,e,r,n,i={}){super(),this.source=t,this.littleEndian=e,this.bigTiff=r,this.firstIFDOffset=n,this.cache=i.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(t,e){const r=this.bigTiff?4048:1024;return new s((await this.source.fetch([{offset:t,length:"undefined"!==typeof e?e:r}]))[0],t,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(t){const e=this.bigTiff?20:12,r=this.bigTiff?8:2;let n=await this.getSlice(t);const i=this.bigTiff?n.readUint64(t):n.readUint16(t),o=i*e+(this.bigTiff?16:6);n.covers(t,o)||(n=await this.getSlice(t,o));const s={};let a=t+(this.bigTiff?8:2);for(let f=0;f<i;a+=e,++f){const t=n.readUint16(a),e=n.readUint16(a+2),r=this.bigTiff?n.readUint64(a+4):n.readUint32(a+4);let i,o;const l=$(e),c=a+(this.bigTiff?12:8);if(l*r<=(this.bigTiff?8:4))i=q(n,e,r,c);else{const t=n.readOffset(c),o=$(e)*r;if(n.covers(t,o))i=q(n,e,r,t);else{const n=await this.getSlice(t,o);i=q(n,e,r,t)}}o=1===r&&-1===K.NZ.indexOf(t)&&e!==K.s$.RATIONAL&&e!==K.s$.SRATIONAL?i[0]:i,s[K.$[t]]=o}const l=z(s),c=n.readOffset(t+r+e*i);return new H(s,l,c)}async requestIFD(t){if(this.ifdRequests[t])return this.ifdRequests[t];if(0===t)return this.ifdRequests[t]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[t];if(!this.ifdRequests[t-1])try{this.ifdRequests[t-1]=this.requestIFD(t-1)}catch(e){if(e instanceof W)throw new W(t);throw e}return this.ifdRequests[t]=(async()=>{const e=await this.ifdRequests[t-1];if(0===e.nextIFDByteOffset)throw new W(t);return this.parseFileDirectoryAt(e.nextIFDByteOffset)})(),this.ifdRequests[t]}async getImage(t=0){const e=await this.requestIFD(t);return new n.A(e.fileDirectory,e.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let t=0,e=!0;while(e)try{await this.requestIFD(t),++t}catch(r){if(!(r instanceof W))throw r;e=!1}return t}async getGhostValues(){const t=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const e="GDAL_STRUCTURAL_METADATA_SIZE=",r=e.length+100;let n=await this.getSlice(t,r);if(e===q(n,K.s$.ASCII,e.length,t)){const e=q(n,K.s$.ASCII,r,t),i=e.split("\n")[0],o=Number(i.split("=")[1].split(" ")[0])+i.length;o>r&&(n=await this.getSlice(t,o));const s=q(n,K.s$.ASCII,o,t);this.ghostValues={},s.split("\n").filter((t=>t.length>0)).map((t=>t.split("="))).forEach((([t,e])=>{this.ghostValues[t]=e}))}return this.ghostValues}static async fromSource(t,e,r){const n=(await t.fetch([{offset:0,length:1024}],r))[0],i=new o(n),s=i.getUint16(0,0);let a;if(18761===s)a=!0;else{if(19789!==s)throw new TypeError("Invalid byte order value.");a=!1}const l=i.getUint16(2,a);let c;if(42===l)c=!1;else{if(43!==l)throw new TypeError("Invalid magic number.");{c=!0;const t=i.getUint16(4,a);if(8!==t)throw new Error("Unsupported offset byte-size.")}}const f=c?i.getUint64(8,a):i.getUint32(4,a);return new J(t,a,c,f,e)}close(){return"function"===typeof this.source.close&&this.source.close()}}class X extends Y{constructor(t,e){super(),this.mainFile=t,this.overviewFiles=e,this.imageFiles=[t].concat(e),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const t=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map((t=>t.parseFileDirectoryAt(t.firstIFDOffset))));return this.fileDirectoriesPerFile=await Promise.all(t),this.fileDirectoriesPerFile}async getImage(t=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let e=0,r=0;for(let i=0;i<this.imageFiles.length;i++){const o=this.imageFiles[i];for(let s=0;s<this.imageCounts[i];s++){if(t===e){const t=await o.requestIFD(r);return new n.A(t.fileDirectory,t.geoKeyDirectory,o.dataView,o.littleEndian,o.cache,o.source)}e++,r++}r=0}throw new RangeError("Invalid image index")}async getImageCount(){if(null!==this.imageCount)return this.imageCount;const t=[this.mainFile.getImageCount()].concat(this.overviewFiles.map((t=>t.getImageCount())));return this.imageCounts=await Promise.all(t),this.imageCount=this.imageCounts.reduce(((t,e)=>t+e),0),this.imageCount}}async function Z(t,e={},r){return J.fromSource(N(t,e),r)}async function Q(t,e){return J.fromSource(V(t),e)}async function tt(t,e=[],r={},n){const i=await J.fromSource(N(t,r),n),o=await Promise.all(e.map((t=>J.fromSource(N(t,r)))));return new X(i,o)}},88022:(t,e,r)=>{"use strict";r.d(e,{A:()=>M});var n=r(85326),i=r(27379),o=r(60563),s=r(98622);function a(t,e){const{width:r,height:n}=t,i=new Uint8Array(r*n*3);let o;for(let s=0,a=0;s<t.length;++s,a+=3)o=256-t[s]/e*256,i[a]=o,i[a+1]=o,i[a+2]=o;return i}function l(t,e){const{width:r,height:n}=t,i=new Uint8Array(r*n*3);let o;for(let s=0,a=0;s<t.length;++s,a+=3)o=t[s]/e*256,i[a]=o,i[a+1]=o,i[a+2]=o;return i}function c(t,e){const{width:r,height:n}=t,i=new Uint8Array(r*n*3),o=e.length/3,s=e.length/3*2;for(let a=0,l=0;a<t.length;++a,l+=3){const r=t[a];i[l]=e[r]/65536*256,i[l+1]=e[r+o]/65536*256,i[l+2]=e[r+s]/65536*256}return i}function f(t){const{width:e,height:r}=t,n=new Uint8Array(e*r*3);for(let i=0,o=0;i<t.length;i+=4,o+=3){const e=t[i],r=t[i+1],s=t[i+2],a=t[i+3];n[o]=(255-e)/256*255*((255-a)/256),n[o+1]=(255-r)/256*255*((255-a)/256),n[o+2]=(255-s)/256*255*((255-a)/256)}return n}function u(t){const{width:e,height:r}=t,n=new Uint8ClampedArray(e*r*3);for(let i=0,o=0;i<t.length;i+=3,o+=3){const e=t[i],r=t[i+1],s=t[i+2];n[o]=e+1.402*(s-128),n[o+1]=e-.34414*(r-128)-.71414*(s-128),n[o+2]=e+1.772*(r-128)}return n}const h=.95047,p=1,y=1.08883;function g(t){const{width:e,height:r}=t,n=new Uint8Array(e*r*3);for(let i=0,o=0;i<t.length;i+=3,o+=3){const e=t[i+0],r=t[i+1]<<24>>24,s=t[i+2]<<24>>24;let a,l,c,f=(e+16)/116,u=r/500+f,g=f-s/200;u=h*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),f=p*(f*f*f>.008856?f*f*f:(f-16/116)/7.787),g=y*(g*g*g>.008856?g*g*g:(g-16/116)/7.787),a=3.2406*u+-1.5372*f+-.4986*g,l=-.9689*u+1.8758*f+.0415*g,c=.0557*u+-.204*f+1.057*g,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,l=l>.0031308?1.055*l**(1/2.4)-.055:12.92*l,c=c>.0031308?1.055*c**(1/2.4)-.055:12.92*c,n[o]=255*Math.max(0,Math.min(1,a)),n[o+1]=255*Math.max(0,Math.min(1,l)),n[o+2]=255*Math.max(0,Math.min(1,c))}return n}var d=r(70851);function m(t,e,r,n=1){return new(Object.getPrototypeOf(t).constructor)(e*r*n)}function w(t,e,r,n,i){const o=e/n,s=r/i;return t.map((t=>{const a=m(t,n,i);for(let l=0;l<i;++l){const i=Math.min(Math.round(s*l),r-1);for(let r=0;r<n;++r){const s=Math.min(Math.round(o*r),e-1),c=t[i*e+s];a[l*n+r]=c}}return a}))}function b(t,e,r){return(1-r)*t+r*e}function S(t,e,r,n,i){const o=e/n,s=r/i;return t.map((t=>{const a=m(t,n,i);for(let l=0;l<i;++l){const i=s*l,c=Math.floor(i),f=Math.min(Math.ceil(i),r-1);for(let r=0;r<n;++r){const s=o*r,u=s%1,h=Math.floor(s),p=Math.min(Math.ceil(s),e-1),y=t[c*e+h],g=t[c*e+p],d=t[f*e+h],m=t[f*e+p],w=b(b(y,g,u),b(d,m,u),i%1);a[l*n+r]=w}}return a}))}function A(t,e,r,n,i,o="nearest"){switch(o.toLowerCase()){case"nearest":return w(t,e,r,n,i);case"bilinear":case"linear":return S(t,e,r,n,i);default:throw new Error(`Unsupported resampling method: '${o}'`)}}function v(t,e,r,n,i,o){const s=e/n,a=r/i,l=m(t,n,i,o);for(let c=0;c<i;++c){const i=Math.min(Math.round(a*c),r-1);for(let r=0;r<n;++r){const a=Math.min(Math.round(s*r),e-1);for(let s=0;s<o;++s){const f=t[i*e*o+a*o+s];l[c*n*o+r*o+s]=f}}}return l}function P(t,e,r,n,i,o){const s=e/n,a=r/i,l=m(t,n,i,o);for(let c=0;c<i;++c){const i=a*c,f=Math.floor(i),u=Math.min(Math.ceil(i),r-1);for(let r=0;r<n;++r){const a=s*r,h=a%1,p=Math.floor(a),y=Math.min(Math.ceil(a),e-1);for(let s=0;s<o;++s){const a=t[f*e*o+p*o+s],g=t[f*e*o+y*o+s],d=t[u*e*o+p*o+s],m=t[u*e*o+y*o+s],w=b(b(a,g,h),b(d,m,h),i%1);l[c*n*o+r*o+s]=w}}}return l}function O(t,e,r,n,i,o,s="nearest"){switch(s.toLowerCase()){case"nearest":return v(t,e,r,n,i,o);case"bilinear":case"linear":return P(t,e,r,n,i,o);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function I(t,e,r){let n=0;for(let i=e;i<r;++i)n+=t[i];return n}function E(t,e,r){switch(t){case 1:if(e<=8)return new Uint8Array(r);if(e<=16)return new Uint16Array(r);if(e<=32)return new Uint32Array(r);break;case 2:if(8===e)return new Int8Array(r);if(16===e)return new Int16Array(r);if(32===e)return new Int32Array(r);break;case 3:switch(e){case 16:case 32:return new Float32Array(r);case 64:return new Float64Array(r);default:break}break;default:break}throw Error("Unsupported data format/bitsPerSample")}function F(t,e){return(1!==t&&2!==t||!(e<=32)||e%8!==0)&&(3!==t||16!==e&&32!==e&&64!==e)}function T(t,e,r,n,i,o,s){const a=new DataView(t),l=2===r?s*o:s*o*n,c=2===r?1:n,f=E(e,i,l),u=parseInt("1".repeat(i),2);if(1===e){let t;t=1===r?n*i:i;let e=o*t;0!==(7&e)&&(e=e+7&-8);for(let r=0;r<s;++r){const t=r*e;for(let e=0;e<o;++e){const n=t+e*c*i;for(let t=0;t<c;++t){const s=n+t*i,l=(r*o+e)*c+t,h=Math.floor(s/8),p=s%8;if(p+i<=8)f[l]=a.getUint8(h)>>8-i-p&u;else if(p+i<=16)f[l]=a.getUint16(h)>>16-i-p&u;else if(p+i<=24){const t=a.getUint16(h)<<8|a.getUint8(h+2);f[l]=t>>24-i-p&u}else f[l]=a.getUint32(h)>>32-i-p&u}}}}return f.buffer}class D{constructor(t,e,r,n,i,o){this.fileDirectory=t,this.geoKeys=e,this.dataView=r,this.littleEndian=n,this.tiles=i?{}:null,this.isTiled=!t.StripOffsets;const s=t.PlanarConfiguration;if(this.planarConfiguration="undefined"===typeof s?1:s,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=o}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(t){return this.isTiled||(t+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-t*this.getTileHeight()}getBytesPerPixel(){let t=0;for(let e=0;e<this.fileDirectory.BitsPerSample.length;++e)t+=this.getSampleByteSize(e);return t}getSampleByteSize(t){if(t>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${t} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[t]/8)}getReaderForSample(t){const e=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1,r=this.fileDirectory.BitsPerSample[t];switch(e){case 1:if(r<=8)return DataView.prototype.getUint8;if(r<=16)return DataView.prototype.getUint16;if(r<=32)return DataView.prototype.getUint32;break;case 2:if(r<=8)return DataView.prototype.getInt8;if(r<=16)return DataView.prototype.getInt16;if(r<=32)return DataView.prototype.getInt32;break;case 3:switch(r){case 16:return function(t,e){return(0,n.O)(this,t,e)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64;default:break}break;default:break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(t=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1}getBitsPerSample(t=0){return this.fileDirectory.BitsPerSample[t]}getArrayForSample(t,e){const r=this.getSampleFormat(t),n=this.getBitsPerSample(t);return E(r,n,e)}async getTileOrStrip(t,e,r,n,i){const o=Math.ceil(this.getWidth()/this.getTileWidth()),s=Math.ceil(this.getHeight()/this.getTileHeight());let a;const{tiles:l}=this;let c,f;1===this.planarConfiguration?a=e*o+t:2===this.planarConfiguration&&(a=r*o*s+e*o+t),this.isTiled?(c=this.fileDirectory.TileOffsets[a],f=this.fileDirectory.TileByteCounts[a]):(c=this.fileDirectory.StripOffsets[a],f=this.fileDirectory.StripByteCounts[a]);const u=(await this.source.fetch([{offset:c,length:f}],i))[0];let h;return null!==l&&l[a]?h=l[a]:(h=(async()=>{let t=await n.decode(this.fileDirectory,u);const r=this.getSampleFormat(),i=this.getBitsPerSample();return F(r,i)&&(t=T(t,r,this.planarConfiguration,this.getSamplesPerPixel(),i,this.getTileWidth(),this.getBlockHeight(e))),t})(),null!==l&&(l[a]=h)),{x:t,y:e,sample:r,data:await h}}async _readRaster(t,e,r,n,i,o,s,a,l){const c=this.getTileWidth(),f=this.getTileHeight(),u=this.getWidth(),h=this.getHeight(),p=Math.max(Math.floor(t[0]/c),0),y=Math.min(Math.ceil(t[2]/c),Math.ceil(u/c)),g=Math.max(Math.floor(t[1]/f),0),d=Math.min(Math.ceil(t[3]/f),Math.ceil(h/f)),m=t[2]-t[0];let w=this.getBytesPerPixel();const b=[],S=[];for(let A=0;A<e.length;++A)1===this.planarConfiguration?b.push(I(this.fileDirectory.BitsPerSample,0,e[A])/8):b.push(0),S.push(this.getReaderForSample(e[A]));const v=[],{littleEndian:P}=this;for(let A=g;A<d;++A)for(let o=p;o<y;++o){let s;1===this.planarConfiguration&&(s=this.getTileOrStrip(o,A,0,i,l));for(let a=0;a<e.length;++a){const p=a,y=e[a];2===this.planarConfiguration&&(w=this.getSampleByteSize(y),s=this.getTileOrStrip(o,A,y,i,l));const g=s.then((i=>{const o=i.data,s=new DataView(o),a=this.getBlockHeight(i.y),l=i.y*f,y=i.x*c,g=l+a,d=(i.x+1)*c,A=S[p],v=Math.min(a,a-(g-t[3]),h-l),O=Math.min(c,c-(d-t[2]),u-y);for(let f=Math.max(0,t[1]-l);f<v;++f)for(let i=Math.max(0,t[0]-y);i<O;++i){const o=(f*c+i)*w,a=A.call(s,o+b[p],P);let u;n?(u=(f+l-t[1])*m*e.length+(i+y-t[0])*e.length+p,r[u]=a):(u=(f+l-t[1])*m+i+y-t[0],r[p][u]=a)}}));v.push(g)}}if(await Promise.all(v),o&&t[2]-t[0]!==o||s&&t[3]-t[1]!==s){let i;return i=n?O(r,t[2]-t[0],t[3]-t[1],o,s,e.length,a):A(r,t[2]-t[0],t[3]-t[1],o,s,a),i.width=o,i.height=s,i}return r.width=o||t[2]-t[0],r.height=s||t[3]-t[1],r}async readRasters({window:t,samples:e=[],interleave:r,pool:n=null,width:i,height:o,resampleMethod:s,fillValue:a,signal:l}={}){const c=t||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const f=c[2]-c[0],u=c[3]-c[1],h=f*u,p=this.getSamplesPerPixel();if(e&&e.length){for(let d=0;d<e.length;++d)if(e[d]>=p)return Promise.reject(new RangeError(`Invalid sample index '${e[d]}'.`))}else for(let d=0;d<p;++d)e.push(d);let y;if(r){const t=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,r=Math.max.apply(null,this.fileDirectory.BitsPerSample);y=E(t,r,h*e.length),a&&y.fill(a)}else{y=[];for(let t=0;t<e.length;++t){const r=this.getArrayForSample(e[t],h);Array.isArray(a)&&t<a.length?r.fill(a[t]):a&&!Array.isArray(a)&&r.fill(a),y.push(r)}}const g=n||await(0,d.f)(this.fileDirectory),m=await this._readRaster(c,e,y,r,g,i,o,s,l);return m}async readRGB({window:t,interleave:e=!0,pool:r=null,width:n,height:i,resampleMethod:o,enableAlpha:h=!1,signal:p}={}){const y=t||[0,0,this.getWidth(),this.getHeight()];if(y[0]>y[2]||y[1]>y[3])throw new Error("Invalid subsets");const d=this.fileDirectory.PhotometricInterpretation;if(d===s.ub.RGB){let a=[0,1,2];if(this.fileDirectory.ExtraSamples!==s.AC.Unspecified&&h){a=[];for(let t=0;t<this.fileDirectory.BitsPerSample.length;t+=1)a.push(t)}return this.readRasters({window:t,interleave:e,samples:a,pool:r,width:n,height:i,resampleMethod:o,signal:p})}let m;switch(d){case s.ub.WhiteIsZero:case s.ub.BlackIsZero:case s.ub.Palette:m=[0];break;case s.ub.CMYK:m=[0,1,2,3];break;case s.ub.YCbCr:case s.ub.CIELab:m=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const w={window:y,interleave:!0,samples:m,pool:r,width:n,height:i,resampleMethod:o,signal:p},{fileDirectory:b}=this,S=await this.readRasters(w),A=2**this.fileDirectory.BitsPerSample[0];let v;switch(d){case s.ub.WhiteIsZero:v=a(S,A);break;case s.ub.BlackIsZero:v=l(S,A);break;case s.ub.Palette:v=c(S,b.ColorMap);break;case s.ub.CMYK:v=f(S);break;case s.ub.YCbCr:v=u(S);break;case s.ub.CIELab:v=g(S);break;default:throw new Error("Unsupported photometric interpretation.")}if(!e){const t=new Uint8Array(v.length/3),e=new Uint8Array(v.length/3),r=new Uint8Array(v.length/3);for(let n=0,i=0;n<v.length;n+=3,++i)t[i]=v[n],e[i]=v[n+1],r[i]=v[n+2];v=[t,e,r]}return v.width=S.width,v.height=S.height,v}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const t=[];for(let e=0;e<this.fileDirectory.ModelTiepoint.length;e+=6)t.push({i:this.fileDirectory.ModelTiepoint[e],j:this.fileDirectory.ModelTiepoint[e+1],k:this.fileDirectory.ModelTiepoint[e+2],x:this.fileDirectory.ModelTiepoint[e+3],y:this.fileDirectory.ModelTiepoint[e+4],z:this.fileDirectory.ModelTiepoint[e+5]});return t}getGDALMetadata(t=null){const e={};if(!this.fileDirectory.GDAL_METADATA)return null;const r=this.fileDirectory.GDAL_METADATA;let n=o(r,"Item");n=null===t?n.filter((t=>void 0===i(t,"sample"))):n.filter((e=>Number(i(e,"sample"))===t));for(let o=0;o<n.length;++o){const t=n[o];e[i(t,"name")]=t.inner}return e}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const t=this.fileDirectory.GDAL_NODATA;return Number(t.substring(0,t.length-1))}getOrigin(){const t=this.fileDirectory.ModelTiepoint,e=this.fileDirectory.ModelTransformation;if(t&&6===t.length)return[t[3],t[4],t[5]];if(e)return[e[3],e[7],e[11]];throw new Error("The image does not have an affine transformation.")}getResolution(t=null){const e=this.fileDirectory.ModelPixelScale,r=this.fileDirectory.ModelTransformation;if(e)return[e[0],-e[1],e[2]];if(r)return 0===r[1]&&0===r[4]?[r[0],-r[5],r[10]]:[Math.sqrt(r[0]*r[0]+r[4]*r[4]),-Math.sqrt(r[1]*r[1]+r[5]*r[5]),r[10]];if(t){const[e,r,n]=t.getResolution();return[e*t.getWidth()/this.getWidth(),r*t.getHeight()/this.getHeight(),n*t.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(t=!1){const e=this.getHeight(),r=this.getWidth();if(this.fileDirectory.ModelTransformation&&!t){const[t,n,i,o,s,a,l,c]=this.fileDirectory.ModelTransformation,f=[[0,0],[0,e],[r,0],[r,e]],u=f.map((([e,r])=>[o+t*e+n*r,c+s*e+a*r])),h=u.map((t=>t[0])),p=u.map((t=>t[1]));return[Math.min(...h),Math.min(...p),Math.max(...h),Math.max(...p)]}{const t=this.getOrigin(),n=this.getResolution(),i=t[0],o=t[1],s=i+n[0]*r,a=o+n[1]*e;return[Math.min(i,s),Math.min(o,a),Math.max(i,s),Math.max(o,a)]}}}const M=D},98622:(t,e,r)=>{"use strict";r.d(e,{$:()=>n,AC:()=>c,Hm:()=>h,NZ:()=>o,S3:()=>u,TZ:()=>f,s$:()=>a,ub:()=>l});const n={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},i={};for(const y in n)n.hasOwnProperty(y)&&(i[n[y]]=parseInt(y,10));const o=[i.BitsPerSample,i.ExtraSamples,i.SampleFormat,i.StripByteCounts,i.StripOffsets,i.StripRowCounts,i.TileByteCounts,i.TileOffsets,i.SubIFDs],s={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},a={};for(const y in s)s.hasOwnProperty(y)&&(a[s[y]]=parseInt(y,10));const l={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},c={Unspecified:0,Assocalpha:1,Unassalpha:2},f={Version:0,AddCompression:1},u={None:0,Deflate:1,Zstandard:2},h={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},p={};for(const y in h)h.hasOwnProperty(y)&&(p[h[y]]=parseInt(y,10))}}]);
//# sourceMappingURL=chunk-vendors-bc050c32.5b36d189.js.map