{"version":3,"file":"js/9882.d1d24d78.js","mappings":"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","sources":["webpack://@openeo/web-editor/src/components/maps/GeoJsonMixin.vue","webpack://@openeo/web-editor/./src/components/maps/GeoJsonMixin.vue?fc6d","webpack://@openeo/web-editor/./src/components/maps/GeoJsonMixin.vue","webpack://@openeo/web-editor/src/components/maps/ExtentMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ExtentMixin.vue?0e90","webpack://@openeo/web-editor/./src/components/maps/ExtentMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue","webpack://@openeo/web-editor/src/components/maps/ProgressControl.vue","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue?5a7a","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue?33a4","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue","webpack://@openeo/web-editor/src/components/maps/UserLocationControl.vue","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue?5ceb","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue?73c5","webpack://@openeo/web-editor/src/components/maps/MapMixin.vue","webpack://@openeo/web-editor/./src/components/maps/MapMixin.vue?c1da","webpack://@openeo/web-editor/./src/components/maps/MapMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ControlMixin.js"],"sourcesContent":["<script>\nimport Utils from '../../utils.js';\nimport EventBusMixin from '../EventBusMixin.js';\n\nimport { isEmpty as extentIsEmpty } from 'ol/extent';\nimport { singleClick } from 'ol/events/condition';\nimport GeoJSON from 'ol/format/GeoJSON';\nimport Select from 'ol/interaction/Select';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\n\n// Requires the MapMixin to be included, too.\nexport default {\n\tmixins: [\n\t\tEventBusMixin\n\t],\n\tmethods: {\n\t\taddGeoJson(geojson, selectable = false, title = \"GeoJSON\", fillOrStyle = true) {\n\t\t\tlet source;\n\t\t\tif (geojson instanceof VectorSource) {\n\t\t\t\tsource = geojson;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsource = this.createGeoJsonSource(geojson, this.map.getView().getProjection());\n\t\t\t}\n\n\t\t\tlet layer = new VectorLayer({title, source});\n\t\t\tif (Utils.isObject(fillOrStyle)) {\n\t\t\t\tlayer.setStyle(fillOrStyle);\n\t\t\t}\n\t\t\telse if(!fillOrStyle && this.removeLayerFill) {\n\t\t\t\tthis.removeLayerFill(layer);\n\t\t\t}\n\t\t\tthis.map.addLayer(layer);\n\t\t\tlet extent = source.getExtent();\n\t\t\tif (!extentIsEmpty(extent)) {\n\t\t\t\tthis.map.getView().fit(extent, this.getFitOptions());\n\t\t\t}\n\n\t\t\tif (selectable) {\n\t\t\t\tvar select = new Select({\n\t\t\t\t\thitTolerance: 5,\n\t\t\t\t\tmulti: false,\n\t\t\t\t\tcondition: singleClick,\n\t\t\t\t\tlayers: [\n\t\t\t\t\t\tlayer\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t\tselect.on('select', this.onSelect);\n\t\t\t\tthis.map.addInteraction(select);\n\t\t\t}\n\n\t\t\treturn layer;\n\t\t},\n\t\tonSelect(event) {\n\t\t\tif (event.selected.length > 0) {\n\t\t\t\tlet feature = event.selected[0];\n\t\t\t\tlet props = Utils.omitFromObject(feature.getProperties(), ['geometry']);\n\t\t\t\tlet title = feature.getId() || \"Feature Properties\";\n\t\t\t\tthis.broadcast('showDataModal', props, title);\n\t\t\t}\n\t\t},\n\t\tcreateGeoJsonSource(geojson, projection) {\n\t\t\tlet features = [];\n\t\t\tif (Utils.detectGeoJson(geojson)) {\n\t\t\t\tfeatures = (new GeoJSON()).readFeatures(geojson, { featureProjection: projection })\n\t\t\t}\n\t\t\treturn new VectorSource({\n\t\t\t\tfeatures,\n\t\t\t\twrapX: false\n\t\t\t});\n\t\t}\n\t}\n};\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GeoJsonMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GeoJsonMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./GeoJsonMixin.vue?vue&type=script&lang=js\"\nexport * from \"./GeoJsonMixin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport GeoJsonMixin from './GeoJsonMixin.vue';\nimport Utils from '../../utils.js';\n\nimport Feature from 'ol/Feature';\nimport { fromExtent as PolygonFromExtent } from 'ol/geom/Polygon';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\n\nexport default {\n\tmixins: [GeoJsonMixin],\n\tmethods: {\n\t\t// data can be:\n\t\t// bbox: Array of Array (west, south, east, north - WGS84) or STAC Collection\n\t\t// geometry: GeoJSON Object (WGS84) or STAC Item\n\t\taddExtent(data, fill = true) {\n\t\t\tlet footprint = null;\n\t\t\tif (Utils.isObject(data)) {\n\t\t\t\tif (typeof data.west !== 'undefined' && typeof data.east !== 'undefined' && typeof data.south !== 'undefined' && typeof data.north !== 'undefined') {\n\t\t\t\t\tfootprint = [data];\n\t\t\t\t}\n\t\t\t\telse if (data.type === 'Collection') {\n\t\t\t\t\tfootprint = data.extent.spatial.bbox.map(bbox => Utils.extentToBBox(bbox));\n\t\t\t\t}\n\t\t\t\telse if (data.type !== 'Feature' || data.geometry || data.bbox) {\n\t\t\t\t\tfootprint = data;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfootprint = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfootprint = data;\n\t\t\t}\n\n\t\t\tif (Array.isArray(footprint) && footprint.length > 0) {\n\t\t\t\treturn this.addRectangles(footprint, fill);\n\t\t\t}\n\t\t\telse if (footprint) {\n\t\t\t\treturn this.addGeoJson(footprint, false, \"Footprint\", fill);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\taddRectangles(rectangles, fill = true) {\n\t\t\tlet mapProj = this.map.getView().getProjection();\n\t\t\tlet features = rectangles.map(bbox => {\n\t\t\t\tlet polygon = PolygonFromExtent([bbox.west, bbox.south, bbox.east, bbox.north]).transform(\"EPSG:4326\", mapProj);\n\t\t\t\treturn new Feature(polygon);\n\t\t\t});\n\t\t\tlet source = new VectorSource({\n\t\t\t\tfeatures,\n\t\t\t\tprojection: mapProj,\n\t\t\t\twrapX: false\n\t\t\t});\n\t\t\tlet layer = new VectorLayer({\n\t\t\t\ttitle: \"Bounding Boxes\",\n\t\t\t\tdisplayInLayerSwitcher: false,\n\t\t\t\tsource\n\t\t\t});\n\t\t\tif (!fill) {\n\t\t\t\tthis.removeLayerFill(layer);\n\t\t\t}\n\t\t\tthis.map.addLayer(layer);\n\t\t\t// ToDo: The Collection component has some smart fitting behavior in setMapSize()\n\t\t\t// Implement something similar here, too.\n\t\t\tthis.map.getView().fit(source.getExtent(), this.getFitOptions());\n\t\t\treturn layer;\n\t\t},\n\n\t\tremoveLayerFill(layer) {\n\t\t\tlet style = layer.getStyle();\n\t\t\t// https://github.com/openlayers/openlayers/issues/10131\n\t\t\tif (typeof style === 'function') {\n\t\t\t\tstyle = style()[0];\n\t\t\t}\n\t\t\tstyle.setFill(null);\n\t\t}\n\n\t}\n\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExtentMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExtentMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./ExtentMixin.vue?vue&type=script&lang=js\"\nexport * from \"./ExtentMixin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"ol-unselectable ol-progress-control\"},[_c('div',{staticClass:\"progress-bar\"},[_c('div',{staticClass:\"progress-bar-inner\",style:({width: _vm.percent})})]),_c('div',{staticClass:\"progress-label\"},[_vm._v(_vm._s(_vm.label))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-show=\"show\" class=\"ol-unselectable ol-progress-control\">\n\t\t<div class=\"progress-bar\">\n\t\t\t<div class=\"progress-bar-inner\" :style=\"{width: percent}\" />\n\t\t</div>\n\t\t<div class=\"progress-label\">{{ label }}</div>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin';\n\nexport default {\n\tname: 'ProgressControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tloading: 0,\n\t\t\tloaded: 0\n\t\t};\n\t},\n\tcomputed: {\n\t\tshow() {\n\t\t\treturn (this.loading > 0 && this.loaded <= this.loading);\n\t\t},\n\t\tpercent() {\n\t\t\treturn (this.loaded / this.loading * 100).toFixed(1) + '%';\n\t\t},\n\t\tlabel() {\n\t\t\treturn \"Loading Tiles (\" + this.percent + \")\";\n\t\t}\n\t},\n\tmethods: {\n\t\taddLoading() {\n\t\t\tthis.loading++;\n\t\t\tthis.update();\n\t\t},\n\t\taddLoaded() {\n\t\t\tthis.loaded++;\n\t\t\tthis.update();\n\t\t},\n\t\tupdate() {\n\t\t\tif (this.loading === this.loaded) {\n\t\t\t\tthis.loading = 0;\n\t\t\t\tthis.loaded = 0;\n\t\t\t}\n\n\t\t\tif (this.loading === this.loaded) {\n\t\t\t\tthis.loading = 0;\n\t\t\t\tthis.loaded = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ol-progress-control {\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\tbottom: calc(22px + 1em);\n    left: 8px;\n\tposition: absolute;\n\tbackground-color: rgba(0,60,136,.5);\n\tborder-radius: 4px;\n\tpadding: 2px;\n\twidth: 150px;\n\ttext-align: center;\n}\n.ol-progress-control .progress-label {\n\tfont-size: 10px;\n\tcolor: #fff;\n\tmargin-top: 2px;\n}\n.ol-progress-control .progress-bar {\n\tborder-radius: 4px;\n\tborder: 1px solid #fff;\n\theight: 10px;\n}\n.ol-progress-control .progress-bar-inner {\n\tbackground-color: #fff;\n\theight: 10px;\n\twidth: 0;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressControl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressControl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProgressControl.vue?vue&type=template&id=3a0e8f20&scoped=true\"\nimport script from \"./ProgressControl.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressControl.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProgressControl.vue?vue&type=style&index=0&id=3a0e8f20&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a0e8f20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ol-location ol-unselectable ol-control\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"Go to your location\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.request.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-location-arrow\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"ol-location ol-unselectable ol-control\" style=\"pointer-events: auto;\">\n\t\t<button type=\"button\" @click.prevent.stop=\"request\" title=\"Go to your location\">\n\t\t\t<i class=\"fas fa-location-arrow\"></i>\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin';\nimport { fromLonLat } from 'ol/proj';\n\nexport default {\n\tname: 'UserLocationControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tmethods: {\n\t\trequest() {\n\t\t\tif (\"geolocation\" in navigator) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t\tposition => {\n\t\t\t\t\t\tlet view = this.map.getView();\n\t\t\t\t\t\tlet coords = [position.coords.longitude, position.coords.latitude];\n\t\t\t\t\t\tview.setCenter(fromLonLat(coords, view.getProjection()));\n\t\t\t\t\t},\n\t\t\t\t\terror => Utils.error(this, error, \"Location Error\"),\n\t\t\t\t\t{\n\t\t\t\t\t\tmaximumAge: Infinity\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ol-location {\n\tz-index: 0;\n\tleft: 0.5em;\n\ttop: calc(3.75em + 6px);\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLocationControl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLocationControl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserLocationControl.vue?vue&type=template&id=34b57b3b&scoped=true\"\nimport script from \"./UserLocationControl.vue?vue&type=script&lang=js\"\nexport * from \"./UserLocationControl.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserLocationControl.vue?vue&type=style&index=0&id=34b57b3b&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34b57b3b\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport EventBusMixin from '../EventBusMixin.js';\nimport Utils from '../../utils.js';\n\nimport 'ol/ol.css';\nimport { defaults as defaultControls, FullScreen, ScaleLine } from 'ol/control';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport { fromLonLat } from 'ol/proj';\nimport Projection from 'ol/proj/Projection';\nimport ProjManager from './projManager';\nimport TileLayer from 'ol/layer/Tile';\nimport XYZ from 'ol/source/XYZ';\n\nimport 'ol-ext/control/LayerSwitcher.css';\nimport LayerSwitcher from 'ol-ext/control/LayerSwitcher';\n\nimport ProgressControl from './ProgressControl.vue';\nimport UserLocationControl from './UserLocationControl.vue';\n\nlet idCounter = 1;\n\nexport default {\n\tcomponents: {\n\t\tProgressControl,\n\t\tUserLocationControl\n\t},\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tremovableLayers: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmap: null,\n\t\t\tid: `map_` + idCounter++,\n\t\t\toptions: {}\n\t\t};\n\t},\n\twatch: {\n\t\tasync show() {\n\t\t\tawait this.showMap();\n\t\t}\n\t},\n\tasync mounted() {\n\t\tawait this.showMap();\n\t},\n\tmethods: {\n\t\tasync showMap() {\n\t\t\tif (this.show) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tawait this.renderMap();\n\t\t\t\tthis.$emit('options', this.options);\n\t\t\t}\n\t\t},\n\t\tasync createMap(opts = 'EPSG:3857') {\n\t\t\tlet view;\n\t\t\tlet viewOpts = {\n\t\t\t\tshowFullExtent: true\n\t\t\t};\n\t\t\tif (typeof opts === 'string') { // A projection code\n\t\t\t\tviewOpts.projection = await ProjManager.get(opts);\n\t\t\t}\n\t\t\telse if (opts instanceof Projection) {\n\t\t\t\tviewOpts.projection = opts;\n\t\t\t}\n\t\t\telse if (opts instanceof View) {\n\t\t\t\tview = opts;\n\t\t\t}\n\t\t\telse if (Utils.isObject(opts)) {\n\t\t\t\tviewOpts = opts;\n\t\t\t}\n\n\t\t\tif (!view) {\n\t\t\t\tview = new View(viewOpts);\n\t\t\t\tif (!view.getCenter()) {\n\t\t\t\t\tlet location = this.$config.mapLocation;\n\t\t\t\t\tif (!Array.isArray(location) || location.length != 2) {\n\t\t\t\t\t\tlocation = [0,0];\n\t\t\t\t\t}\n\t\t\t\t\tview.setCenter(fromLonLat([location[1], location[0]], view.getProjection()));\n\t\t\t\t}\n\t\t\t\tif (!view.getZoom()) {\n\t\t\t\t\tview.setZoom(this.$config.mapZoom || 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.map !== null) {\n\t\t\t\tthis.map.updateSize();\n\t\t\t\tthis.map.render();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar customControls = [\n\t\t\t\tnew FullScreen(),\n\t\t\t\tnew ScaleLine()\n\t\t\t];\n\t\t\tvar mapOptions = {\n\t\t\t\ttarget: this.id,\n\t\t\t\tview\n\t\t\t};\n\t\t\tif (!this.editable) {\n\t\t\t\tmapOptions.interactions = [];\n\t\t\t\tmapOptions.controls = customControls;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmapOptions.controls = defaultControls().extend(customControls);\n\t\t\t}\n\t\t\tthis.map = new Map(mapOptions);\n\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\n\t\taddLayerSwitcher() {\n\t\t\tconst opts = {trash: this.removableLayers, extent: true};\n\t\t\tthis.map.addControl(new LayerSwitcher(opts));\n\t\t},\n\n\t\taddBasemaps() {\n\t\t\tlet basemapOptions = {\n\t\t\t\topaque: true,\n\t\t\t\tattributionsCollapsible: false,\n\t\t\t\twrapX: false\n\t\t\t};\n\t\t\tlet baselayers = [];\n\t\t\tif (Array.isArray(this.$config.basemaps)) {\n\t\t\t\tlet hasDefault = false;\n\t\t\t\tfor(let opts of this.$config.basemaps) {\n\t\t\t\t\tlet basemap = new XYZ(Object.assign({}, basemapOptions, opts));\n\t\t\t\t\tlet baselayer = new TileLayer({\n\t\t\t\t\t\tsource: this.trackTileProgress(basemap),\n\t\t\t\t\t\tbaseLayer: true,\n\t\t\t\t\t\ttitle: opts.title,\n\t\t\t\t\t\tnoSwitcherDelete: true,\n\t\t\t\t\t\tvisible: !hasDefault\n\t\t\t\t\t});\n\t\t\t\t\tbaselayers.push(baselayer);\n\t\t\t\t\tthis.map.addLayer(baselayer);\n\t\t\t\t\thasDefault = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn baselayers;\n\t\t},\n\n\t\tsetOptions(key, value) {\n\t\t\tthis.options[key] = value;\n\t\t\tthis.$emit('options', this.options);\n\t\t},\n\n\t\tonShow() {\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\t\tonHide() {\n\t\t\tthis.unlisten('windowResized');\n\t\t},\n\n\t\t// To be overridden by implementing components.\n\t\tasync renderMap() {\n\t\t\tawait this.createMap();\n\t\t\tthis.addBasemaps();\n\t\t},\n\n\t\tasync updateMapSize() {\n\t\t\tif (this.map) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.map.updateSize();\n\t\t\t}\n\t\t},\n\n\t\taddLayerToMap(layer) {\n\t\t\tlayer.set('userLayer', true);\n\t\t\tthis.map.addLayer(layer);\n\t\t},\n\t\tremoveLayerFromMap(id) {\n\t\t\tlet layer = this.getLayerFromMap(id);\n\t\t\tif (layer) {\n\t\t\t\tthis.map.removeLayer(layer);\n\t\t\t}\n\t\t},\n\t\tgetLayerFromMap(id) {\n\t\t\tlet layers = this.map.getLayers().getArray();\n\t\t\tfor(let layer of layers) {\n\t\t\t\tif (layer.get('id') === id) {\n\t\t\t\t\treturn layer;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetVisibleLayers() {\n\t\t\tlet shownLayers = [];\n\t\t\tlet layers = this.map.getLayers().getArray();\n\t\t\tfor(let layer of layers) {\n\t\t\t\tif (layer.get('userLayer') && layer.getVisible()) {\n\t\t\t\t\tshownLayers.push(layer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shownLayers;\n\t\t},\n\n\t\tgetFitOptions(paddingPc = 25) {\n\t\t\tlet fitOptions = {};\n\t\t\t// Make a bigger extent visible so that user can get a better overview\n\t\t\tvar size = this.map.getSize();\n\t\t\tif (size && paddingPc > 0) {\n\t\t\t\tfitOptions.padding = [size[0]*paddingPc/100, size[1]*paddingPc/100, size[0]*paddingPc/100, size[1]*paddingPc/100];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfitOptions.padding = [30,30,30,30];\n\t\t\t}\n\t\t\treturn fitOptions;\n\t\t},\n\n\t\ttrackTileProgress(source) {\n\t\t\tif (this.$refs.progress) {\n\t\t\t\tsource.on('tileloadstart', () => this.$refs.progress && this.$refs.progress.addLoading());\n\t\t\t\tlet loadedFn = () => this.$refs.progress && this.$refs.progress.addLoaded();\n\t\t\t\tsource.on('tileloadend', loadedFn);\n\t\t\t\tsource.on('tileloaderror', loadedFn);\n\t\t\t}\n\t\t\treturn source;\n\t\t},\n\n\t\tfromLonLat(coords) {\n\t\t\treturn fromLonLat(coords, this.map.getView().getProjection());\n\t\t},\n\t\ttoExtent(value) {\n\t\t\tlet extent = null;\n\t\t\tif (Utils.isObject(value) && \"west\" in value && \"south\" in value && \"east\" in value && \"north\" in value) {\n\t\t\t\textent = [value.west, value.south, value.east, value.north];\n\t\t\t}\n\t\t\telse if (Array.isArray(value) && value.length >= 4) {\n\t\t\t\textent = value;\n\t\t\t}\n\t\t\treturn extent;\n\t\t}\n\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./MapMixin.vue?vue&type=script&lang=js\"\nexport * from \"./MapMixin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Control } from 'ol/control.js';\n\nexport default {\n\tprops: {\n\t\tmap: {\n\t\t\ttype: Object\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcontrol: null\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.control = new Control({\n\t\t\telement: this.$el\n\t\t});\n\t},\n\twatch: {\n\t\tmap(newMap) {\n\t\t\tif (newMap) {\n\t\t\t\tthis.map.addControl(this.control);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tgetControl() {\n\t\t\treturn this.control;\n\t\t}\n\t}\n}"],"names":["mixins","EventBusMixin","methods","addGeoJson","geojson","selectable","title","fillOrStyle","source","VectorSource","createGeoJsonSource","map","getView","getProjection","layer","VectorLayer","Utils","isObject","setStyle","removeLayerFill","addLayer","extent","getExtent","extentIsEmpty","fit","getFitOptions","select","Select","hitTolerance","multi","condition","singleClick","layers","on","onSelect","addInteraction","event","selected","length","feature","props","omitFromObject","getProperties","getId","broadcast","projection","features","detectGeoJson","GeoJSON","readFeatures","featureProjection","wrapX","render","staticRenderFns","component","GeoJsonMixin","addExtent","data","fill","footprint","west","east","south","north","type","spatial","bbox","extentToBBox","geometry","Array","isArray","addRectangles","rectangles","mapProj","polygon","PolygonFromExtent","transform","Feature","displayInLayerSwitcher","style","getStyle","setFill","_vm","this","_c","_self","directives","name","rawName","value","show","expression","staticClass","width","percent","_v","_s","label","ControlMixin","loading","loaded","computed","toFixed","addLoading","update","addLoaded","staticStyle","attrs","$event","preventDefault","stopPropagation","request","apply","arguments","navigator","geolocation","getCurrentPosition","position","view","coords","longitude","latitude","setCenter","fromLonLat","error","maximumAge","Infinity","idCounter","components","ProgressControl","UserLocationControl","Boolean","default","editable","removableLayers","id","options","watch","showMap","mounted","$nextTick","renderMap","$emit","createMap","opts","viewOpts","showFullExtent","ProjManager","get","Projection","View","getCenter","location","$config","mapLocation","getZoom","setZoom","mapZoom","updateSize","customControls","FullScreen","ScaleLine","mapOptions","target","controls","defaultControls","extend","interactions","Map","listen","updateMapSize","addLayerSwitcher","trash","addControl","LayerSwitcher","addBasemaps","basemapOptions","opaque","attributionsCollapsible","baselayers","basemaps","hasDefault","basemap","XYZ","Object","assign","baselayer","TileLayer","trackTileProgress","baseLayer","noSwitcherDelete","visible","push","setOptions","key","onShow","onHide","unlisten","addLayerToMap","set","removeLayerFromMap","getLayerFromMap","removeLayer","getLayers","getArray","getVisibleLayers","shownLayers","getVisible","paddingPc","fitOptions","size","getSize","padding","$refs","progress","loadedFn","toExtent","control","Control","element","$el","newMap","getControl"],"sourceRoot":""}