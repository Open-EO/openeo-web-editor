{"version":3,"file":"js/9882.19424eaa.js","mappings":"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","sources":["webpack://@openeo/web-editor/./src/components/maps/ControlMixin.js","webpack://@openeo/web-editor/src/components/maps/GeoJsonMixin.vue","webpack://@openeo/web-editor/./src/components/maps/GeoJsonMixin.vue?fc6d","webpack://@openeo/web-editor/./src/components/maps/GeoJsonMixin.vue","webpack://@openeo/web-editor/src/components/maps/ExtentMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ExtentMixin.vue?0e90","webpack://@openeo/web-editor/./src/components/maps/ExtentMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue","webpack://@openeo/web-editor/src/components/maps/ProgressControl.vue","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue?5a7a","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue?33a4","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue","webpack://@openeo/web-editor/src/components/maps/UserLocationControl.vue","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue?5ceb","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue?73c5","webpack://@openeo/web-editor/src/components/maps/MapMixin.vue","webpack://@openeo/web-editor/./src/components/maps/MapMixin.vue?c1da","webpack://@openeo/web-editor/./src/components/maps/MapMixin.vue"],"sourcesContent":["import { Control } from 'ol/control.js';\n\nexport default {\n\tprops: {\n\t\tmap: {\n\t\t\ttype: Object\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcontrol: null\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.control = new Control({\n\t\t\telement: this.$el\n\t\t});\n\t},\n\twatch: {\n\t\tmap(newMap) {\n\t\t\tif (newMap) {\n\t\t\t\tthis.map.addControl(this.control);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tgetControl() {\n\t\t\treturn this.control;\n\t\t}\n\t}\n}","<script>\nimport Utils from '../../utils.js';\nimport EventBusMixin from '../EventBusMixin.js';\n\nimport { isEmpty as extentIsEmpty } from 'ol/extent';\nimport { singleClick } from 'ol/events/condition';\nimport GeoJSON from 'ol/format/GeoJSON';\nimport Select from 'ol/interaction/Select';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\n\n// Requires the MapMixin to be included, too.\nexport default {\n\tmixins: [\n\t\tEventBusMixin\n\t],\n\tmethods: {\n\t\taddGeoJson(geojson, selectable = false, title = \"GeoJSON\", fillOrStyle = true) {\n\t\t\tlet source;\n\t\t\tif (geojson instanceof VectorSource) {\n\t\t\t\tsource = geojson;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsource = this.createGeoJsonSource(geojson, this.map.getView().getProjection());\n\t\t\t}\n\n\t\t\tlet layer = new VectorLayer({title, source});\n\t\t\tif (Utils.isObject(fillOrStyle)) {\n\t\t\t\tlayer.setStyle(fillOrStyle);\n\t\t\t}\n\t\t\telse if(!fillOrStyle && this.removeLayerFill) {\n\t\t\t\tthis.removeLayerFill(layer);\n\t\t\t}\n\t\t\tthis.map.addLayer(layer);\n\t\t\tlet extent = source.getExtent();\n\t\t\tif (!extentIsEmpty(extent)) {\n\t\t\t\tthis.map.getView().fit(extent, this.getFitOptions());\n\t\t\t}\n\n\t\t\tif (selectable) {\n\t\t\t\tvar select = new Select({\n\t\t\t\t\thitTolerance: 5,\n\t\t\t\t\tmulti: false,\n\t\t\t\t\tcondition: singleClick,\n\t\t\t\t\tlayers: [\n\t\t\t\t\t\tlayer\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t\tselect.on('select', this.onSelect);\n\t\t\t\tthis.map.addInteraction(select);\n\t\t\t}\n\n\t\t\treturn layer;\n\t\t},\n\t\tonSelect(event) {\n\t\t\tif (event.selected.length > 0) {\n\t\t\t\tlet feature = event.selected[0];\n\t\t\t\tlet props = Utils.omitFromObject(feature.getProperties(), ['geometry']);\n\t\t\t\tlet title = feature.getId() || \"Feature Properties\";\n\t\t\t\tthis.broadcast('showDataModal', props, title);\n\t\t\t}\n\t\t},\n\t\tcreateGeoJsonSource(geojson, projection) {\n\t\t\tlet features = [];\n\t\t\tif (Utils.detectGeoJson(geojson)) {\n\t\t\t\tfeatures = (new GeoJSON()).readFeatures(geojson, { featureProjection: projection })\n\t\t\t}\n\t\t\treturn new VectorSource({\n\t\t\t\tfeatures,\n\t\t\t\twrapX: false\n\t\t\t});\n\t\t}\n\t}\n};\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GeoJsonMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GeoJsonMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./GeoJsonMixin.vue?vue&type=script&lang=js\"\nexport * from \"./GeoJsonMixin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport GeoJsonMixin from './GeoJsonMixin.vue';\nimport Utils from '../../utils.js';\n\nimport Feature from 'ol/Feature';\nimport { fromExtent as PolygonFromExtent } from 'ol/geom/Polygon';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\n\nexport default {\n\tmixins: [GeoJsonMixin],\n\tmethods: {\n\t\t// data can be:\n\t\t// bbox: Array of Array (west, south, east, north - WGS84) or STAC Collection\n\t\t// geometry: GeoJSON Object (WGS84) or STAC Item\n\t\taddExtent(data, fill = true) {\n\t\t\tlet footprint = null;\n\t\t\tif (Utils.isObject(data)) {\n\t\t\t\tif (typeof data.west == 'number' && typeof data.east == 'number' && typeof data.south == 'number' && typeof data.north == 'number') {\n\t\t\t\t\tfootprint = [data];\n\t\t\t\t}\n\t\t\t\telse if (data.type === 'Collection') {\n\t\t\t\t\tfootprint = data.extent.spatial.bbox.map(bbox => Utils.extentToBBox(bbox));\n\t\t\t\t}\n\t\t\t\telse if (data.type !== 'Feature' || data.geometry || data.bbox) {\n\t\t\t\t\tfootprint = data;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfootprint = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfootprint = data;\n\t\t\t}\n\n\t\t\tif (Array.isArray(footprint) && footprint.length > 0) {\n\t\t\t\treturn this.addRectangles(footprint, fill);\n\t\t\t}\n\t\t\telse if (footprint) {\n\t\t\t\treturn this.addGeoJson(footprint, false, \"Footprint\", fill);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\taddRectangles(rectangles, fill = true) {\n\t\t\tlet mapProj = this.map.getView().getProjection();\n\t\t\tlet features = rectangles.map(bbox => {\n\t\t\t\tlet polygon = PolygonFromExtent([bbox.west, bbox.south, bbox.east, bbox.north]).transform(\"EPSG:4326\", mapProj);\n\t\t\t\treturn new Feature(polygon);\n\t\t\t});\n\t\t\tlet source = new VectorSource({\n\t\t\t\tfeatures,\n\t\t\t\tprojection: mapProj,\n\t\t\t\twrapX: false\n\t\t\t});\n\t\t\tlet layer = new VectorLayer({\n\t\t\t\ttitle: \"Bounding Boxes\",\n\t\t\t\tdisplayInLayerSwitcher: false,\n\t\t\t\tsource\n\t\t\t});\n\t\t\tif (!fill) {\n\t\t\t\tthis.removeLayerFill(layer);\n\t\t\t}\n\t\t\tthis.map.addLayer(layer);\n\t\t\t// ToDo: The Collection component has some smart fitting behavior in setMapSize()\n\t\t\t// Implement something similar here, too.\n\t\t\tthis.map.getView().fit(source.getExtent(), this.getFitOptions());\n\t\t\treturn layer;\n\t\t},\n\n\t\tremoveLayerFill(layer) {\n\t\t\tlet style = layer.getStyle();\n\t\t\t// https://github.com/openlayers/openlayers/issues/10131\n\t\t\tif (typeof style === 'function') {\n\t\t\t\tstyle = style()[0];\n\t\t\t}\n\t\t\tstyle.setFill(null);\n\t\t}\n\n\t}\n\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExtentMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExtentMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./ExtentMixin.vue?vue&type=script&lang=js\"\nexport * from \"./ExtentMixin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"ol-unselectable ol-progress-control\"},[_c('div',{staticClass:\"progress-bar\"},[_c('div',{staticClass:\"progress-bar-inner\",style:({width: _vm.percent})})]),_c('div',{staticClass:\"progress-label\"},[_vm._v(_vm._s(_vm.label))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-show=\"show\" class=\"ol-unselectable ol-progress-control\">\n\t\t<div class=\"progress-bar\">\n\t\t\t<div class=\"progress-bar-inner\" :style=\"{width: percent}\" />\n\t\t</div>\n\t\t<div class=\"progress-label\">{{ label }}</div>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin';\n\nexport default {\n\tname: 'ProgressControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tloading: 0,\n\t\t\tloaded: 0\n\t\t};\n\t},\n\tcomputed: {\n\t\tshow() {\n\t\t\treturn (this.loading > 0 && this.loaded <= this.loading);\n\t\t},\n\t\tpercent() {\n\t\t\treturn (this.loaded / this.loading * 100).toFixed(1) + '%';\n\t\t},\n\t\tlabel() {\n\t\t\treturn \"Loading Tiles (\" + this.percent + \")\";\n\t\t}\n\t},\n\tmethods: {\n\t\taddLoading() {\n\t\t\tthis.loading++;\n\t\t\tthis.update();\n\t\t},\n\t\taddLoaded() {\n\t\t\tthis.loaded++;\n\t\t\tthis.update();\n\t\t},\n\t\tupdate() {\n\t\t\tif (this.loading === this.loaded) {\n\t\t\t\tthis.loading = 0;\n\t\t\t\tthis.loaded = 0;\n\t\t\t}\n\n\t\t\tif (this.loading === this.loaded) {\n\t\t\t\tthis.loading = 0;\n\t\t\t\tthis.loaded = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ol-progress-control {\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\tbottom: calc(22px + 1em);\n    left: 8px;\n\tposition: absolute;\n\tbackground-color: rgba(0,60,136,.5);\n\tborder-radius: 4px;\n\tpadding: 2px;\n\twidth: 150px;\n\ttext-align: center;\n}\n.ol-progress-control .progress-label {\n\tfont-size: 10px;\n\tcolor: #fff;\n\tmargin-top: 2px;\n}\n.ol-progress-control .progress-bar {\n\tborder-radius: 4px;\n\tborder: 1px solid #fff;\n\theight: 10px;\n}\n.ol-progress-control .progress-bar-inner {\n\tbackground-color: #fff;\n\theight: 10px;\n\twidth: 0;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressControl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressControl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProgressControl.vue?vue&type=template&id=3a0e8f20&scoped=true\"\nimport script from \"./ProgressControl.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressControl.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProgressControl.vue?vue&type=style&index=0&id=3a0e8f20&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a0e8f20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ol-location ol-unselectable ol-control\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"Go to your location\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.request.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-location-arrow\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"ol-location ol-unselectable ol-control\" style=\"pointer-events: auto;\">\n\t\t<button type=\"button\" @click.prevent.stop=\"request\" title=\"Go to your location\">\n\t\t\t<i class=\"fas fa-location-arrow\"></i>\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin';\nimport { fromLonLat } from 'ol/proj';\n\nexport default {\n\tname: 'UserLocationControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tmethods: {\n\t\trequest() {\n\t\t\tif (\"geolocation\" in navigator) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t\tposition => {\n\t\t\t\t\t\tlet view = this.map.getView();\n\t\t\t\t\t\tlet coords = [position.coords.longitude, position.coords.latitude];\n\t\t\t\t\t\tview.setCenter(fromLonLat(coords, view.getProjection()));\n\t\t\t\t\t},\n\t\t\t\t\terror => Utils.error(this, error, \"Location Error\"),\n\t\t\t\t\t{\n\t\t\t\t\t\tmaximumAge: Infinity\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ol-location {\n\tz-index: 0;\n\tleft: 0.5em;\n\ttop: calc(3.75em + 6px);\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLocationControl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLocationControl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserLocationControl.vue?vue&type=template&id=34b57b3b&scoped=true\"\nimport script from \"./UserLocationControl.vue?vue&type=script&lang=js\"\nexport * from \"./UserLocationControl.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserLocationControl.vue?vue&type=style&index=0&id=34b57b3b&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34b57b3b\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport EventBusMixin from '../EventBusMixin.js';\nimport Utils from '../../utils.js';\n\nimport 'ol/ol.css';\nimport { defaults as defaultControls, FullScreen, ScaleLine } from 'ol/control';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport { fromLonLat } from 'ol/proj';\nimport Projection from 'ol/proj/Projection';\nimport ProjManager from './projManager';\nimport TileLayer from 'ol/layer/Tile';\nimport XYZ from 'ol/source/XYZ';\n\nimport 'ol-ext/control/LayerSwitcher.css';\nimport LayerSwitcher from 'ol-ext/control/LayerSwitcher';\n\nimport ProgressControl from './ProgressControl.vue';\nimport UserLocationControl from './UserLocationControl.vue';\n\nlet idCounter = 1;\n\nexport default {\n\tcomponents: {\n\t\tProgressControl,\n\t\tUserLocationControl\n\t},\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tremovableLayers: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmap: null,\n\t\t\tid: `map_` + idCounter++,\n\t\t\toptions: {}\n\t\t};\n\t},\n\twatch: {\n\t\tasync show() {\n\t\t\tawait this.showMap();\n\t\t}\n\t},\n\tasync mounted() {\n\t\tawait this.showMap();\n\t},\n\tmethods: {\n\t\tasync showMap() {\n\t\t\tif (this.show) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tawait this.renderMap();\n\t\t\t\tthis.$emit('options', this.options);\n\t\t\t}\n\t\t},\n\t\tasync createMap(opts = 'EPSG:3857') {\n\t\t\tlet view;\n\t\t\tlet viewOpts = {\n\t\t\t\tshowFullExtent: true\n\t\t\t};\n\t\t\tif (typeof opts === 'string') { // A projection code\n\t\t\t\tviewOpts.projection = await ProjManager.get(opts);\n\t\t\t}\n\t\t\telse if (opts instanceof Projection) {\n\t\t\t\tviewOpts.projection = opts;\n\t\t\t}\n\t\t\telse if (opts instanceof View) {\n\t\t\t\tview = opts;\n\t\t\t}\n\t\t\telse if (Utils.isObject(opts)) {\n\t\t\t\tviewOpts = opts;\n\t\t\t}\n\n\t\t\tif (!view) {\n\t\t\t\tview = new View(viewOpts);\n\t\t\t\tif (!view.getCenter()) {\n\t\t\t\t\tlet location = this.$config.mapLocation;\n\t\t\t\t\tif (!Array.isArray(location) || location.length != 2) {\n\t\t\t\t\t\tlocation = [0,0];\n\t\t\t\t\t}\n\t\t\t\t\tview.setCenter(fromLonLat([location[1], location[0]], view.getProjection()));\n\t\t\t\t}\n\t\t\t\tif (!view.getZoom()) {\n\t\t\t\t\tview.setZoom(this.$config.mapZoom || 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.map !== null) {\n\t\t\t\tthis.map.updateSize();\n\t\t\t\tthis.map.render();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar customControls = [\n\t\t\t\tnew FullScreen(),\n\t\t\t\tnew ScaleLine()\n\t\t\t];\n\t\t\tvar mapOptions = {\n\t\t\t\ttarget: this.id,\n\t\t\t\tview\n\t\t\t};\n\t\t\tif (!this.editable) {\n\t\t\t\tmapOptions.interactions = [];\n\t\t\t\tmapOptions.controls = customControls;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmapOptions.controls = defaultControls().extend(customControls);\n\t\t\t}\n\t\t\tthis.map = new Map(mapOptions);\n\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\n\t\taddLayerSwitcher() {\n\t\t\tconst opts = {trash: this.removableLayers, extent: true};\n\t\t\tthis.map.addControl(new LayerSwitcher(opts));\n\t\t},\n\n\t\taddBasemaps() {\n\t\t\tlet basemapOptions = {\n\t\t\t\topaque: true,\n\t\t\t\tattributionsCollapsible: false,\n\t\t\t\twrapX: false\n\t\t\t};\n\t\t\tlet baselayers = [];\n\t\t\tif (Array.isArray(this.$config.basemaps)) {\n\t\t\t\tlet hasDefault = false;\n\t\t\t\tfor(let opts of this.$config.basemaps) {\n\t\t\t\t\tlet basemap = new XYZ(Object.assign({}, basemapOptions, opts));\n\t\t\t\t\tlet baselayer = new TileLayer({\n\t\t\t\t\t\tsource: this.trackTileProgress(basemap),\n\t\t\t\t\t\tbaseLayer: true,\n\t\t\t\t\t\ttitle: opts.title,\n\t\t\t\t\t\tnoSwitcherDelete: true,\n\t\t\t\t\t\tvisible: !hasDefault\n\t\t\t\t\t});\n\t\t\t\t\tbaselayers.push(baselayer);\n\t\t\t\t\tthis.map.addLayer(baselayer);\n\t\t\t\t\thasDefault = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn baselayers;\n\t\t},\n\n\t\tsetOptions(key, value) {\n\t\t\tthis.options[key] = value;\n\t\t\tthis.$emit('options', this.options);\n\t\t},\n\n\t\tonShow() {\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\t\tonHide() {\n\t\t\tthis.unlisten('windowResized');\n\t\t},\n\n\t\t// To be overridden by implementing components.\n\t\tasync renderMap() {\n\t\t\tawait this.createMap();\n\t\t\tthis.addBasemaps();\n\t\t},\n\n\t\tasync updateMapSize() {\n\t\t\tif (this.map) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.map.updateSize();\n\t\t\t}\n\t\t},\n\n\t\taddLayerToMap(layer) {\n\t\t\tlayer.set('userLayer', true);\n\t\t\tthis.map.addLayer(layer);\n\t\t},\n\t\tremoveLayerFromMap(id) {\n\t\t\tlet layer = this.getLayerFromMap(id);\n\t\t\tif (layer) {\n\t\t\t\tthis.map.removeLayer(layer);\n\t\t\t}\n\t\t},\n\t\tgetLayerFromMap(id) {\n\t\t\tlet layers = this.map.getLayers().getArray();\n\t\t\tfor(let layer of layers) {\n\t\t\t\tif (layer.get('id') === id) {\n\t\t\t\t\treturn layer;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetVisibleLayers() {\n\t\t\tlet shownLayers = [];\n\t\t\tlet layers = this.map.getLayers().getArray();\n\t\t\tfor(let layer of layers) {\n\t\t\t\tif (layer.get('userLayer') && layer.getVisible()) {\n\t\t\t\t\tshownLayers.push(layer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shownLayers;\n\t\t},\n\n\t\tgetFitOptions(paddingPc = 25) {\n\t\t\tlet fitOptions = {};\n\t\t\t// Make a bigger extent visible so that user can get a better overview\n\t\t\tvar size = this.map.getSize();\n\t\t\tif (size && paddingPc > 0) {\n\t\t\t\tfitOptions.padding = [size[1]*paddingPc/100, size[0]*paddingPc/100, size[1]*paddingPc/100, size[0]*paddingPc/100];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfitOptions.padding = [30,30,30,30];\n\t\t\t}\n\t\t\treturn fitOptions;\n\t\t},\n\n\t\ttrackTileProgress(source) {\n\t\t\tif (this.$refs.progress) {\n\t\t\t\tsource.on('tileloadstart', () => this.$refs.progress && this.$refs.progress.addLoading());\n\t\t\t\tlet loadedFn = () => this.$refs.progress && this.$refs.progress.addLoaded();\n\t\t\t\tsource.on('tileloadend', loadedFn);\n\t\t\t\tsource.on('tileloaderror', loadedFn);\n\t\t\t}\n\t\t\treturn source;\n\t\t},\n\n\t\tfromLonLat(coords) {\n\t\t\treturn fromLonLat(coords, this.map.getView().getProjection());\n\t\t},\n\t\ttoExtent(value) {\n\t\t\tlet extent = null;\n\t\t\tif (Utils.isObject(value) && \"west\" in value && \"south\" in value && \"east\" in value && \"north\" in value) {\n\t\t\t\textent = [value.west, value.south, value.east, value.north];\n\t\t\t}\n\t\t\telse if (Array.isArray(value) && value.length >= 4) {\n\t\t\t\textent = value;\n\t\t\t}\n\t\t\treturn extent;\n\t\t}\n\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./MapMixin.vue?vue&type=script&lang=js\"\nexport * from \"./MapMixin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["props","map","type","Object","data","control","mounted","this","Control","element","$el","watch","newMap","addControl","methods","getControl","mixins","EventBusMixin","addGeoJson","geojson","selectable","title","fillOrStyle","source","VectorSource","createGeoJsonSource","getView","getProjection","layer","VectorLayer","Utils","isObject","setStyle","removeLayerFill","addLayer","extent","getExtent","extentIsEmpty","fit","getFitOptions","select","Select","hitTolerance","multi","condition","singleClick","layers","on","onSelect","addInteraction","event","selected","length","feature","omitFromObject","getProperties","getId","broadcast","projection","features","detectGeoJson","GeoJSON","readFeatures","featureProjection","wrapX","render","staticRenderFns","component","GeoJsonMixin","addExtent","fill","footprint","west","east","south","north","spatial","bbox","extentToBBox","geometry","Array","isArray","addRectangles","rectangles","mapProj","polygon","PolygonFromExtent","transform","Feature","displayInLayerSwitcher","style","getStyle","setFill","_vm","_c","_self","directives","name","rawName","value","show","expression","staticClass","width","percent","_v","_s","label","ControlMixin","loading","loaded","computed","toFixed","addLoading","update","addLoaded","staticStyle","attrs","$event","preventDefault","stopPropagation","request","apply","arguments","navigator","geolocation","getCurrentPosition","position","view","coords","longitude","latitude","setCenter","fromLonLat","error","maximumAge","Infinity","idCounter","components","ProgressControl","UserLocationControl","Boolean","default","editable","removableLayers","id","options","showMap","$nextTick","renderMap","$emit","createMap","opts","viewOpts","showFullExtent","ProjManager","get","Projection","View","getCenter","location","$config","mapLocation","getZoom","setZoom","mapZoom","updateSize","customControls","FullScreen","ScaleLine","mapOptions","target","controls","defaultControls","extend","interactions","Map","listen","updateMapSize","addLayerSwitcher","trash","LayerSwitcher","addBasemaps","basemapOptions","opaque","attributionsCollapsible","baselayers","basemaps","hasDefault","basemap","XYZ","assign","baselayer","TileLayer","trackTileProgress","baseLayer","noSwitcherDelete","visible","push","setOptions","key","onShow","onHide","unlisten","addLayerToMap","set","removeLayerFromMap","getLayerFromMap","removeLayer","getLayers","getArray","getVisibleLayers","shownLayers","getVisible","paddingPc","fitOptions","size","getSize","padding","$refs","progress","loadedFn","toExtent"],"ignoreList":[],"sourceRoot":""}