(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[3249,3549,4389,5630],{35254:(t,e,s)=>{"use strict";s.d(e,{A:()=>i});const i={components:{FederationNotice:()=>s.e(2604).then(s.bind(s,52604)),FederationMissingNotice:()=>s.e(2869).then(s.bind(s,62869))},props:{federation:{type:Object,default:()=>({})}}}},44924:(t,e,s)=>{"use strict";s.d(e,{A:()=>c});var i=s(86975),n=s(31572),a=s(71321),o=s.n(a);const r=["image/apng","image/gif","image/png","image/jpeg","image/webp"],l=["gif","png","jpg","jpeg","webp"],c={components:{Description:()=>Promise.all([s.e(7261),s.e(1194)]).then(s.bind(s,27261)),DeprecationNotice:()=>s.e(6238).then(s.bind(s,36238)),LinkList:()=>s.e(2810).then(s.bind(s,52810)),StacAsset:()=>Promise.all([s.e(7261),s.e(2195),s.e(2919),s.e(4432),s.e(2263),s.e(1358),s.e(8053)]).then(s.bind(s,84890)),StacFields:()=>Promise.all([s.e(2195),s.e(2919),s.e(4432),s.e(2263),s.e(1358),s.e(7123)]).then(s.bind(s,67123))},props:{data:{type:Object,default:()=>({})},mapOptions:{type:Object,default:()=>({}),validator:function(t){const e={height:"string",width:"string",basemap:"string",attribution:"string",wrapAroundAntimeridian:"boolean",scrollWheelZoom:"boolean"},s=Object.keys(e);return"object"==typeof t&&Object.keys(t).every((i=>-1!=s.indexOf(i)&&typeof t[i]==e[i]))}}},data(){return{map:null}},computed:{stac(){let t=i.A.deepClone(this.data);return o().stac(t)},leafletOptions(){return{height:this.mapOptions.height||"250px",width:this.mapOptions.width||"auto",basemap:this.mapOptions.basemap||"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:this.mapOptions.attribution||'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>',noWrap:void 0===this.mapOptions.wrapAroundAntimeridian||!this.mapOptions.wrapAroundAntimeridian,scrollWheelZoom:void 0!==this.mapOptions.scrollWheelZoom&&this.mapOptions.scrollWheelZoom}},thumbnails(){return i.A.isObject(this.stac.assets)?Object.values(this.stac.assets).filter(this.assetIsImage):[]},hasAssets(){return i.A.size(this.stac.assets)>0}},watch:{data(){this.initMap()},showMap(t){t&&this.initMap()}},beforeCreate(){i.A.enableHtmlProps(this)},mounted(){this.initMap()},methods:{assetIsImage(t){let e="string"===typeof t.href?t.href.split(".").pop():"";return Array.isArray(t.roles)&&(t.roles.includes("thumbnail")||t.roles.includes("overview"))&&(r.includes(t.type)||l.includes(e))},initLeafletPlugins(){},async initMap(){if(this.$refs.mapContainer||await this.$nextTick(),!this.$refs.mapContainer||null!==this.map||!this.showMap)return!1;let t=window.L;try{this.map={leaflet:null,instance:null,geometries:null};let o=()=>i.A.isObject(window.L)&&n.Versions.validate(window.L.version)&&n.Versions.compare(window.L.version,"1.x.x","=");if(o()||(window.L=await Promise.resolve().then(s.t.bind(s,85525,23))),!o())return console.warn("Leaflet is not available"),!1;this.map.leaflet=window.L;let r=await s.e(6689).then(s.bind(s,16689));this.$root&&this.$root.$options.shadowRoot&&r.__inject__&&r.__inject__(this.$root.$options.shadowRoot);var e=this.map.leaflet.map(this.$refs.mapContainer,{scrollWheelZoom:this.leafletOptions.scrollWheelZoom});this.map.instance=e;var a=this.map.leaflet.tileLayer(this.leafletOptions.basemap,{name:"Basemap",attribution:this.leafletOptions.attribution,noWrap:this.leafletOptions.noWrap});return a.addTo(e),"function"===typeof this.addFeatures&&(this.map.geometries=this.addFeatures(),this.map.geometries&&this.map.geometries.addTo(e)),this.$refs.mapContainer.style.width=this.leafletOptions.width,this.$refs.mapContainer.style.height=this.leafletOptions.height,e.invalidateSize(!1),this.updateMapView(),"function"===typeof this.mapOptions.onAfterMapInit&&this.mapOptions.onAfterMapInit(e,this.map.geometries),window.L=t,!0}catch(o){return console.error(o),window.L=t,!1}},updateMapView(){if(this.map&&this.map.geometries){var t=this.map.geometries.getBounds(),e=this.map.instance.getBoundsZoom(t),s=Math.min(e,11);e>8?s-=3:e>5?s-=2:e>2&&s--,this.map.instance.fitBounds(t),this.map.instance.setZoom(s),this.map.instance.once("moveend zoomend",(()=>this.map.instance.invalidateSize(!1)))}}}}},3249:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var i=function(){var t=this,e=t._self._c;return e("article",{staticClass:"vue-component stac collection"},[t._t("title",(function(){return[e("a",{staticClass:"anchor",attrs:{name:t.stac.id}}),e("h2",[t._v(t._s(t.stac.id))])]}),null,t.$props),t.stac.title?e("summary",[t._v(t._s(t.stac.title))]):t._e(),t.hasElements(t.stac.keywords)?e("section",{staticClass:"keywords"},[e("ul",{staticClass:"badges"},t._l(t.stac.keywords,(function(s){return e("li",{key:s,staticClass:"badge"},[t._v(t._s(s))])})),0)]):t._e(),t._t("before-description",null,null,t.$props),t.stac.description?e("section",{staticClass:"description"},[e("h3",[t._v("Description")]),e("Description",{attrs:{description:t.stac.description}}),t.stac.deprecated?e("DeprecationNotice",{attrs:{entity:"collection"}}):t._e(),t.supportedBy?e("FederationNotice",{attrs:{backends:t.supportedBy,federation:t.federation,entity:"collection"}}):t._e(),t.stac["federation:missing"]?e("FederationMissing",{attrs:{missing:t.stac["federation:missing"],federation:t.federation}}):t._e()],1):t._e(),e("section",{staticClass:"license"},[e("h3",[t._v("License")]),e("span",{domProps:{innerHTML:t._s(t.license)}})]),e("section",{directives:[{name:"show",rawName:"v-show",value:t.thumbnails.length,expression:"thumbnails.length"}],staticClass:"preview"},[e("h3",[t._v("Previews")]),e("div",{staticClass:"thumbnails"},t._l(t.thumbnails,(function(t){return e("a",{key:t.href,attrs:{href:t.href,target:"_blank"}},[e("img",{attrs:{src:t.href,title:t.title,alt:t.title||"Preview"}})])})),0)]),t.temporalIntervals.length||t.boundingBoxes.length?e("section",{staticClass:"extent"},[t.boundingBoxes.length?e("div",[e("h3",[t._v("Spatial Extent")]),t._t("spatial-extents",(function(){return[t.worldwide?e("span",{staticClass:"worldwide"},[e("i",{staticClass:"fas fa-globe"}),t._v(" Worldwide")]):e("div",{ref:"mapContainer",staticClass:"map"},[t.map?t._e():t._l(t.boundingBoxes,(function(s,i){return e("ul",{key:i},[e("li",[t._v("Latitudes: "+t._s(s[1])+" / "+t._s(s[3])+", Longitudes: "+t._s(s[0])+" / "+t._s(s[2]))])])}))],2)]}),{extents:t.boundingBoxes,mapOptions:t.mapOptions,worldwide:t.worldwide})],2):t._e(),t.temporalIntervals.length?e("div",[e("h3",[t._v("Temporal Extent")]),t._t("temporal-extents",(function(){return[t.temporalIntervals.length>1?t._l(t.temporalIntervals,(function(s,i){return e("ul",{key:i},[0!==i?e("li",{domProps:{innerHTML:t._s(t.formatters.formatTemporalExtent(s))}}):t._e()])})):e("span",{domProps:{innerHTML:t._s(t.formatters.formatTemporalExtent(t.temporalIntervals[0]))}})]}),{extents:t.temporalIntervals.length>0})],2):t._e()]):t._e(),t.hasProviders?e("section",{staticClass:"providers"},[e("h3",[t._v("Providers")]),e("ol",t._l(t.stac.providers,(function(s){return e("li",{key:s.name},[s.url?e("a",{attrs:{href:s.url,target:"_blank"}},[t._v(t._s(s.name))]):[t._v(t._s(s.name))],t.hasElements(s.roles)?[e("ul",{staticClass:"badges small inline"},t._l(s.roles,(function(s){return e("li",{key:s,staticClass:"badge provider-role"},[t._v(t._s(s))])})),0)]:t._e(),s.description?e("Description",{attrs:{description:s.description,compact:!0}}):t._e()],2)})),0)]):t._e(),t.hasDimensions?e("section",{staticClass:"dimensions"},[e("h3",[t._v("Data Cube Dimensions")]),e("ul",t._l(t.stac["cube:dimensions"],(function(s,i){return e("li",{key:i,staticClass:"dimension"},[e("h4",["bands"===s.type?e("a",{staticClass:"name",attrs:{href:"#summary_bands"},on:{click:t.scrollToBands}},[t._v(t._s(i))]):e("span",{staticClass:"name"},[t._v(t._s(i))]),e("ul",{staticClass:"type badges small inline"},[e("li",{staticClass:"badge"},[t._v(t._s(s.type))])])]),s.description?e("Description",{attrs:{description:s.description}}):t._e(),s.axis?e("div",{staticClass:"tabular"},[e("label",[t._v("Axis:")]),e("div",{staticClass:"value"},[t._v(t._s(s.axis))])]):t._e(),e("div",{staticClass:"tabular"},[e("label",[t._v("Labels:")]),s.extent?e("div",{staticClass:"value"},["temporal"===s.type?e("span",{domProps:{innerHTML:t._s(t.formatters.formatTemporalExtent(s.extent))}}):e("span",{domProps:{innerHTML:t._s(t.formatters.formatExtent(s.extent))}})]):Array.isArray(s.values)&&s.values.length>0?e("ul",{staticClass:"value comma-separated-list"},t._l(s.values,(function(s){return e("li",{key:s},[t._v(t._s(s))])})),0):e("div",{staticClass:"value"},[e("i",[t._v("n/a")])])]),"undefined"!==typeof s.step?e("div",{staticClass:"tabular"},[e("label",[t._v("Steps:")]),e("div",{staticClass:"value"},[null===s.step?[t._v("irregularly spaced")]:"temporal"===s.type?[t._v(t._s(t.formatDuration(s.step)))]:[t._v(t._s(s.step))]],2)]):t._e(),"undefined"!==typeof s.reference_system?e("div",{staticClass:"tabular"},[e("label",[t._v("Reference System:")]),e("div",{staticClass:"value"},["number"===typeof s.reference_system?e("div",{staticClass:"epsg",domProps:{innerHTML:t._s(t.formatters.formatEPSG(s.reference_system))}}):"string"===typeof s.reference_system?e("div",{staticClass:"wkt2",domProps:{innerHTML:t._s(t.formatters.formatWKT2(s.reference_system))}}):"object"===typeof s.reference_system?e("ObjectTree",{staticClass:"projjson",attrs:{data:s.reference_system}}):[t._v(t._s(s.reference_system))]],2)]):t._e()],1)})),0)]):t._e(),e("StacFields",{staticClass:"summaries",attrs:{type:"Collection",metadata:t.stac,ignore:t.ignoredFields}}),t.hasAssets?e("section",{staticClass:"assets"},[e("h3",[t._v("Assets")]),e("ul",{staticClass:"list"},t._l(t.stac.assets,(function(s,i){return e("StacAsset",{key:i,attrs:{asset:s,id:i,context:t.stac}})})),1)]):t._e(),e("section",{staticClass:"links"},[e("LinkList",{attrs:{links:t.stac.links,heading:"See Also",headingTag:"h3",ignoreRel:["self","parent","root","license","cite-as"]}})],1),t._t("end",null,null,t.$props)],2)},n=[],a=s(86975),o=s(74870),r=s(35254),l=s(44924),c=s(99710);const h={name:"Collection",components:{ObjectTree:()=>s.e(2327).then(s.bind(s,2327))},mixins:[l.A,r.A],props:{...l.A.props,...r.A.props},data(){return{ignoredFields:["federation:backends"],formatters:o.Formatters}},computed:{supportedBy(){return a.A.isObject(this.stac.summary)&&Array.isArray(this.stac.summary["federation:backends"])?this.stac.summary["federation:backends"]:Array.isArray(this.stac["federation:backends"])?this.stac["federation:backends"]:void 0},showMap(){return this.boundingBoxes.length>0&&!this.worldwide},temporalIntervals(){let t=this.stac.extent;return a.A.isObject(t)&&a.A.isObject(t.temporal)&&a.A.size(t.temporal.interval)>0?t.temporal.interval.filter((t=>Array.isArray(t)&&t.length>=2&&t.filter((t=>"string"===typeof t)).length>0)):[]},boundingBoxes(){let t=this.stac.extent;return a.A.isObject(t)&&a.A.isObject(t.spatial)&&a.A.size(t.spatial.bbox)>0?t.spatial.bbox.filter((t=>Array.isArray(t)&&t.length>=4)):[]},worldwide(){if(1!==this.boundingBoxes.length)return!1;let t=this.boundingBoxes[0];return-180==Math.round(t[0])&&-90==Math.round(t[1])&&180==Math.round(t[2])&&90==Math.round(t[3])},hasProviders(){return a.A.size(this.stac.providers)>0},hasDimensions(){return a.A.size(this.stac["cube:dimensions"])>0},license(){return"string"===typeof this.stac.license&&0!==this.stac.license.length&&o.Formatters.formatLicense(this.stac.license,null,null,this.stac)}},methods:{addFeatures(){try{L.Wrapped=s(8859)}catch(i){console.warn(`Leaflet Antimeridian plugin is not available: ${i.message}`)}let t=L.featureGroup(),e=this.boundingBoxes.length>1?this.boundingBoxes.slice(1):this.boundingBoxes;for(let s of e){let e,i=[[s[1],s[0]],[s[3],s[0]],[s[3],s[2]],[s[1],s[2]]];e=L.Wrapped&&s[2]<s[0]?new L.Wrapped.Polygon(i):L.polygon(i),e.setStyle({color:"#3388ff",fillOpacity:.2}),t.addLayer(e)}return t},scrollToBands(t){let e=this.$el.querySelector("#field_bands");e&&(e.scrollIntoView(),e.classList.add("highlight-box"),setTimeout((()=>{e.classList.remove("highlight-box")}),5e3)),t.preventDefault()},hasElements(t){return"object"===typeof t&&null!==t&&Object.keys(t).length>0},formatDuration(t){if("string"===typeof t)try{return c.isoDuration.setLocales({en:c.en}),(0,c.isoDuration)(t).humanize("en")}catch(e){console.warn(e)}return"n/a"}}},p=h;var u=s(81656),d=(0,u.A)(p,i,n,!1,null,null,null);const m=d.exports},3549:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>p});var i=function(){var t=this,e=t._self._c;return e("BButton",{directives:[{name:"show",rawName:"v-show",value:t.fn,expression:"fn"}],staticClass:"async-button",class:{awesome:t.fa},attrs:{type:"button",title:t.title,disabled:t.disabled},on:{click:t.update}},[e("span",{staticClass:"button-content"},[t.loading?e("span",{staticClass:"icon loading"},[t.fa?e("i",{class:t.loadingClasses}):e("LoadingIcon",{attrs:{rotate:""}})],1):!0===t.asyncState?e("span",{staticClass:"icon success"},[t.fa?e("i",{staticClass:"fas fa-check"}):e("span",[t._v("✔️")])]):!1===t.asyncState?e("span",{staticClass:"icon error"},[t.fa?e("i",{staticClass:"fas fa-times"}):e("span",[t._v("❌")])]):e("span",{staticClass:"icon default"},[t.fa?e("i",{class:t.icon}):t.icon?e("span",[t._v(t._s(t.icon))]):e("LoadingIcon")],1),e("span",{staticClass:"text"},[t._t("default")],2)])])},n=[],a=s(42918),o=s(91144);const r={components:{BButton:o.A,LoadingIcon:a.A},name:"AsyncButton",props:{fn:{type:Function,required:!0},fa:{type:Boolean,default:!1},confirm:{type:Boolean,default:!1},icon:{type:String,default:""},title:{type:String,default:null},disabled:{type:Boolean,default:!1},consistent:{type:Boolean,default:!1},nativeTooltip:{type:Boolean,default:!1}},data(){return{loading:!1,asyncState:null}},computed:{loadingClasses(){let t=this.consistent?this.icon.split(" "):["fas","fa-spinner"];return t.push("fa-spin"),t}},methods:{async update(t){if(null===this.asyncState&&!this.disabled)try{this.$emit("before",t),this.loading=!0,this.asyncState=await this.fn(t),this.confirm?"boolean"!==typeof this.asyncState&&(this.asyncState=!0):this.asyncState=null}catch(e){this.asyncState=!1}finally{this.loading=!1,this.$emit("after",this.asyncState),this.confirm&&setTimeout((()=>this.asyncState=null),3e3)}}}},l=r;var c=s(81656),h=(0,c.A)(l,i,n,!1,null,"ec4b291e",null);const p=h.exports},91144:(t,e,s)=>{"use strict";s.d(e,{A:()=>c});var i=function(){var t=this,e=t._self._c;return e("button",{ref:"button",attrs:{type:"button",title:t.nativeTitle,disabled:t.disabled,name:t.name,value:t.value},on:{click:t.click,mouseover:t.mouseover,mouseleave:t.mouseleave,focus:t.focus,blur:t.blur}},[t._t("default",(function(){return[t._v(t._s(t.text))]}))],2)},n=[];const a={name:"BButton",props:{type:{type:String,default:"button"},text:{type:String,default:""},title:{type:String,default:null},disabled:{type:Boolean,default:!1},name:{type:String,default:null},value:{type:String,default:null},nativeTooltip:{type:Boolean,default:!1}},data(){return{showTooltip:!1,nativeTooltip_:this.nativeTooltip,element:null,container:null}},mounted(){this.container=document.getElementsByTagName("body")[0],this.container||(this.container=this.$refs.button.parentNode,this.container||(this.nativeTooltip_=!0))},beforeDestroy(){this.removeTooltip()},computed:{nativeTitle(){return this.nativeTooltip_?this.title:null}},watch:{nativeTooltip(t){this.nativeTooltip_=t},showTooltip(t){this.nativeTooltip_||(t?this.createTooltip():this.removeTooltip())},title(){this.title?this.updateTooltip():this.showTooltip=!1}},methods:{createTooltip(){this.container&&this.title&&(this.element&&this.removeTooltip(),this.element=document.createElement("div"),this.element.className="openeo-vue-tooltip",this.element.addEventListener("mouseover",(()=>this.showTooltip=!1)),this.container.appendChild(this.element),this.updateTooltip())},updateTooltip(){if(!this.element)return;this.element.innerText=this.title;const t=this.$refs.button,e=t.getBoundingClientRect();this.element.style.top=Math.max(0,e.top+t.offsetHeight)+1+"px",this.element.style.left=Math.max(0,e.left+t.offsetWidth/2-this.element.offsetWidth/2)+1+"px"},removeTooltip(){this.container&&this.element&&(this.container.contains(this.element)&&this.container.removeChild(this.element),this.element=null)},click(t){this.$emit("click",t)},mousemove(t){this.updateTooltip(),this.$emit("mousemove",t)},mouseover(t){this.showTooltip=!0,this.$emit("mouseover",t)},mouseleave(t){this.showTooltip=!1,this.$emit("mouseleave",t)},focus(t){this.showTooltip=!0,this.$emit("focus",t)},blur(t){this.showTooltip=!1,this.$emit("blur",t)}}},o=a;var r=s(81656),l=(0,r.A)(o,i,n,!1,null,null,null);const c=l.exports},74389:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>C});var i=function(){var t=this,e=t._self._c;return e("Modal",{staticClass:"collection",attrs:{width:"80%",height:"96%",title:t.collection.id},on:{closed:function(e){return t.$emit("closed")}}},[e("Tabs",{attrs:{id:"collection-modal",position:"bottom"}},[e("Tab",{staticClass:"docgen",attrs:{id:"metadata",name:"Overview",icon:"fa-info"}},[e("Collection",{attrs:{data:t.collection}})],1),e("Tab",{staticClass:"docgen",attrs:{id:"items",name:"Items",icon:"fa-images"},on:{show:function(e){t.showHiddenMap=!0},hide:function(e){t.showHiddenMap=!1}}},[t.currentItems?e("section",{staticClass:"items"},[e("Items",{attrs:{items:t.currentItems,showMap:""},scopedSlots:t._u([{key:"map",fn:function(s){return[e("MapExtentViewer",{ref:"overview",attrs:{show:t.showHiddenMap,footprint:s.geojson,fill:!1}})]}},{key:"after-search-box",fn:function(){return[e("div",{staticClass:"pagination"},[e("AsyncButton",{attrs:{fn:()=>t.paginate(-1),disabled:!t.hasPrevItems,fa:"",icon:"fas fa-arrow-left"}},[t._v("Previous Page")]),e("AsyncButton",{attrs:{fn:()=>t.paginate(1),disabled:!t.hasNextItems,fa:"",icon:"fas fa-arrow-right"}},[t._v("Next Page")])],1)]},proxy:!0},{key:"item-location",fn:function(s){return[e("MapExtentViewer",{attrs:{show:t.showHiddenMap,footprint:s.geometry}})]}}],null,!1,2516028733)}),e("div",{staticClass:"pagination"},[e("AsyncButton",{attrs:{fn:()=>t.paginate(-1),disabled:!t.hasPrevItems,fa:"",icon:"fas fa-arrow-left"}},[t._v("Previous Page")]),e("AsyncButton",{attrs:{fn:()=>t.paginate(1),disabled:!t.hasNextItems,fa:"",icon:"fas fa-arrow-right"}},[t._v("Next Page")])],1)],1):e("section",[t._v("Individual items are not available for this collection.")])])],1)],1)},n=[],a=(s(81454),s(23827)),o=function(){var t=this,e=t._self._c;return e("VueCollection",{attrs:{data:t.data},scopedSlots:t._u([{key:"spatial-extents",fn:function(s){return[s.worldwide?e("span",{staticClass:"worldwide"},[e("i",{staticClass:"fas fa-globe"}),t._v(" Worldwide")]):e("MapExtentViewer",{staticClass:"map",attrs:{footprint:s.extents}})]}}])})},r=[],l=s(3249),c=s(2566);const h={name:"Collection",components:{MapExtentViewer:()=>Promise.all([s.e(1160),s.e(5983),s.e(1323),s.e(5624),s.e(1189),s.e(6617),s.e(5640),s.e(2559),s.e(2365),s.e(3800),s.e(3291),s.e(3876),s.e(9882),s.e(6709)]).then(s.bind(s,85856)),VueCollection:l["default"]},props:{data:{type:Object,required:!0}},computed:{...c.A.mapState(["connection"]),...c.A.mapGetters(["supports"]),bbox(){try{return this.data.extent.spatial.bbox[0]}catch(t){return null}}}},p=h;var u=s(81656),d=(0,u.A)(p,o,r,!1,null,null,null);const m=d.exports;var f=s(71321),g=s.n(f),v=s(3549),_=s(4615),b=s(58379);const y={name:"CollectionModal",components:{AsyncButton:v["default"],MapExtentViewer:()=>Promise.all([s.e(1160),s.e(5983),s.e(1323),s.e(5624),s.e(1189),s.e(6617),s.e(5640),s.e(2559),s.e(2365),s.e(3800),s.e(3291),s.e(3876),s.e(9882),s.e(6709)]).then(s.bind(s,85856)),Modal:a.A,Collection:m,Items:()=>s.e(4066).then(s.bind(s,74066)),Tabs:_["default"],Tab:b["default"]},data(){return{items:[],itemsPage:0,itemPages:null,showHiddenMap:!1}},props:{collection:{type:Object}},computed:{...c.A.mapState(["connection","pageLimit"]),...c.A.mapGetters(["supports"]),currentItems(){return this.items.length>=this.itemsPage?this.items[this.itemsPage]:null},hasPrevItems(){return this.itemsPage>0},hasNextItems(){return this.itemPages.hasNextPage()||this.itemsPage<this.items.length-1}},async mounted(){this.supports("listCollectionItems")&&await this.nextItems()},methods:{async paginate(t){if(t>0)await this.nextItems();else if(0===this.itemsPage&&t<0)return;this.itemsPage+=t},async nextItems(){this.itemPages||(this.itemPages=await this.connection.listCollectionItems(this.collection.id,null,null,this.pageLimit));let t=await this.itemPages.nextPage();t=t.map((t=>g().item(t,this.collection,!1))),this.items.push(t)}}},w=y;var L=(0,u.A)(w,i,n,!1,null,null,null);const C=L.exports},23827:(t,e,s)=>{"use strict";s.d(e,{A:()=>p});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal",style:{"z-index":t.zIndex},on:{mousedown:t.backgroundClose}},[e(t.containerTag,{ref:"container",tag:"component",staticClass:"modal-container",class:{smooth:t.smooth},style:t.style,on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submitFunction.apply(null,arguments)}}},[e("header",{staticClass:"modal-header",on:{mousedown:t.startMove}},[t._t("header",(function(){return[e("h2",[t._v(t._s(t.title))]),e("span",{staticClass:"close",on:{click:t.close}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]}))],2),e("main",{staticClass:"modal-content"},[t._t("default")],2),e("footer",{staticClass:"modal-footer"},[t._t("footer",(function(){return[t.submitFunction?e("button",{attrs:{type:"submit"}},[t._v(t._s(t.submitButtonText))]):t._e()]}))],2)])],1)},n=[],a=s(61663),o=s(2566);const r={name:"Modal",mixins:[a.A],props:{title:{type:String,default:null},minWidth:{type:String,default:null},width:{type:String,default:"auto"},height:{type:String,default:"auto"},show:{type:Boolean,default:!0},submitFunction:{type:Function,default:null},submitButtonText:{type:String,default:"Submit"}},data(){return{zIndex:1e3,position:null,dragPosition:null,smooth:!1}},computed:{...o.A.mapState("editor",["hightestModalZIndex"]),style(){let t={width:this.width};return this.minWidth&&(t["min-width"]=this.minWidth),this.height&&(t["height"]=this.height),Array.isArray(this.position)&&(t.position="absolute",t.left=this.position[0]+"px",t.top=this.position[1]+"px"),t},containerTag(){return this.submitFunction?"form":"div"}},watch:{show:{immediate:!0,handler(t){t?this.open():this.close()}},width(){this.smoothResize()},minWidth(){this.smoothResize()}},methods:{...o.A.mapMutations("editor",["openModal","closeModal"]),smoothResize(){this.smooth=!0,setTimeout((()=>this.smooth=!1),600)},submit(t){this.submitFunction(t)},open(){this.openModal(),this.zIndex=this.hightestModalZIndex,window.addEventListener("keydown",this.escCloseListener),this.$emit("shown")},close(){window.removeEventListener("keydown",this.escCloseListener),this.closeModal(),this.$emit("closed")},startMove(t){"H2"!==t.target.tagName&&(this.dragPosition=[t.clientX,t.clientY],document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.stopMove),t.preventDefault(),t.stopPropagation())},stopMove(){document.removeEventListener("mousemove",this.move),document.removeEventListener("mouseup",this.stopMove)},move(t){t.preventDefault(),this.position=[this.$refs.container.offsetLeft-(this.dragPosition[0]-t.clientX),this.$refs.container.offsetTop-(this.dragPosition[1]-t.clientY)],this.dragPosition=[t.clientX,t.clientY]},escCloseListener(t){if("Escape"==t.key)return this.close(),t.preventDefault(),t.stopPropagation(),!1},backgroundClose(t){t.target===this.$el&&this.close()}}},l=r;var c=s(81656),h=(0,c.A)(l,i,n,!1,null,null,null);const p=h.exports},8859:function(t,e){(function(t,s){s(e)})(0,(function(t){"use strict";var e="1.0.0+master.7986dc5";function s(t){return"number"===typeof t?t?t<0?-1:1:0:NaN}function i(t,e){if(t instanceof L.LatLng&&e instanceof L.LatLng){if(t.lat>e.lat){var s=t;t=e,e=s}var i=360-Math.abs(t.lng-e.lng),n=e.lat-t.lat,a=Math.abs(180-Math.abs(t.lng));return t.lat+n*a/i}throw new Error("In order to calculate the Antimeridian latitude, two valid LatLngs are required.")}function n(t,e){if(t instanceof L.LatLng&&e instanceof L.LatLng)return s(t.lng)*s(e.lng)<0;throw new Error("In order to calculate whether two LatLngs cross a meridian, two valid LatLngs are required.")}function a(t,e,s,i){if(!(t instanceof Array&&e instanceof L.Bounds&&s instanceof L.LatLng&&i instanceof L.Map))throw new Error("In order to push a LatLng into a ring, the ring point array, the LatLng, the projectedBounds, and the map must all be valid.");t.push(i.latLngToLayerPoint(s)),e.extend(t[t.length-1])}function o(t,e){if(t instanceof L.LatLng&&e instanceof L.LatLng)return n(t,e)&&360-Math.abs(t.lng)-Math.abs(e.lng)<180;throw new Error("In order to calculate whether the ring created by two LatLngs should be broken, two valid LatLngs are required.")}function r(t,e,n,o,r){if(t instanceof L.LatLng&&e instanceof L.LatLng&&n instanceof Array&&o instanceof L.Bounds&&r instanceof L.Map){var l=n[n.length-1],c=i(t,e),h=[new L.LatLng(c,180),new L.LatLng(c,-180)];return s(t.lng)>0?a(l,o,h.shift(),r):a(l,o,h.pop(),r),h.pop()}throw new Error("In order to break a ring, all the inputs must exist and be valid.")}var l=L.Polyline.extend({_projectLatlngs:function(t,e,s){var i=t[0]instanceof L.LatLng;if(i)this._createRings(t,e,s);else for(var n=0;n<t.length;n++)this._projectLatlngs(t[n],e,s)},_createRings:function(t,e,s){var i=t.length;e.push([]);for(var n=0;n<i;n++){var l=this._getCompareLatLng(n,i,t),c=t[n];if(a(e[e.length-1],s,t[n],this._map),l&&o(l,c)){var h=r(c,l,e,s,this._map);this._startNextRing(e,s,h)}}},_getCompareLatLng:function(t,e,s){return t+1<e?s[t+1]:null},_startNextRing:function(t,e,s){var i=[];t.push(i),a(i,e,s,this._map)}});function c(t,e){return new L.Wrapped.Polyline(t,e)}var h=L.Polygon.extend({_projectLatlngs:function(t,e,s){var i=t[0]instanceof L.LatLng;if(i)this._createRings(t,e,s);else for(var n=0;n<t.length;n++)this._projectLatlngs(t[n],e,s)},_createRings:function(t,e,s){var i=t.length;e.push([]);for(var n=0;n<i;n++){var l=this._getCompareLatLng(n,i,t),c=t[n];if(a(e[e.length-1],s,c,this._map),o(l,c)){var h=r(c,l,e,s,this._map);this._startNextRing(e,s,h,n===i-1)}}this._checkConcaveRings(e),this._joinLastRing(e,t)},_startNextRing:function(t,e,s,i){var n;i?(n=t[0],n.unshift(this._map.latLngToLayerPoint(s)),e.extend(n[0])):(n=[],t.push(n),a(n,e,s,this._map))},_getCompareLatLng:function(t,e,s){return t+1<e?s[t+1]:s[0]},_joinLastRing:function(t,e){var s=t[0],i=t[t.length-1];if(t.length>1&&(2===s.length||2===i.length)&&!n(e[0],e[e.length-1])){for(var a=i.length,o=0;o<a;o++)s.unshift(i.pop());t.pop()}},_checkConcaveRings:function(t){for(var e=this._map.layerPointToLatLng(t[0][0]),s=0;s<=t.length-3;s++){var i=this._map.layerPointToLatLng(t[s+1][0]),a=this._map.layerPointToLatLng(t[s+2][0]);if(n(e,i)&&n(i,a)){var o=t[0],r=t[s+2],l=o.concat(r);t.splice(s+2,1),t.splice(0,1,l)}}}});function p(t,e){return new L.Wrapped.Polygon(t,e)}t.version=e,t.Polyline=l,t.wrappedPolyline=c,t.Polygon=h,t.wrappedPolygon=p,t.calculateAntimeridianLat=i,t.isCrossMeridian=n,t.isBreakRing=o,t.sign=s}))}}]);
//# sourceMappingURL=4389.a0cc26a8.js.map