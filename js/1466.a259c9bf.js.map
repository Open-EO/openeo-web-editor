{"version":3,"file":"js/1466.a259c9bf.js","mappings":"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","sources":["webpack://@openeo/web-editor/./src/components/datatypes/MapAreaSelect.vue","webpack://@openeo/web-editor/src/components/datatypes/MapAreaSelect.vue","webpack://@openeo/web-editor/./src/components/datatypes/MapAreaSelect.vue?ce3a","webpack://@openeo/web-editor/./src/components/datatypes/MapAreaSelect.vue?2622","webpack://@openeo/web-editor/./src/components/maps/TextControl.vue","webpack://@openeo/web-editor/src/components/maps/TextControl.vue","webpack://@openeo/web-editor/./src/components/maps/TextControl.vue?ab63","webpack://@openeo/web-editor/./src/components/maps/TextControl.vue?c848","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseBoundingBox.vue","webpack://@openeo/web-editor/src/components/wizards/tabs/ChooseBoundingBox.vue","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseBoundingBox.vue?45af","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseBoundingBox.vue?7107","webpack://@openeo/web-editor/./node_modules/ol/interaction/Extent.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":_vm.id}},[_c('ProgressControl',{ref:\"progress\",attrs:{\"map\":_vm.map}}),_c('UserLocationControl',{attrs:{\"map\":_vm.map}}),_c('TextControl',{attrs:{\"text\":_vm.help,\"map\":_vm.map}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :id=\"id\">\n\t\t<ProgressControl ref=\"progress\" :map=\"map\" />\n\t\t<UserLocationControl :map=\"map\" />\n\t\t<TextControl :text=\"help\" :map=\"map\" />\n\t</div>\n</template>\n\n<script>\nimport MapMixin from '../maps/MapMixin.vue';\nimport Utils from '../../utils.js';\nimport ExtentInteraction from 'ol/interaction/Extent';\nimport { transformExtent } from 'ol/proj';\nimport { containsXY } from 'ol/extent';\nimport { createDefaultStyle } from 'ol/style/Style';\nimport TextControl from '../maps/TextControl.vue';\n\nexport default {\n\tname: 'MapAreaSelect',\n\tmixins: [MapMixin],\n\tcomponents: {\n\t\tTextControl\n\t},\n\tprops: {\n\t\t// Either Object or Array, doesn't support the z-axis\n\t\t// Array is always in WGS84 with the following elements: 0 => west, 1 => south, 2 => east, 3 => north\n\t\t// Object is an bbox object as defined by the openEO API (with west, south, east, north properties).\n\t\tvalue: {\n\t\t\ttype: [Object, Array],\n\t\t\tdefault: () => null\n\t\t}\n\t},\n\tdata() {\n\t\tlet extent = null;\n\t\tif (Utils.isObject(this.value) && \"west\" in this.value && \"south\" in this.value && \"east\" in this.value && \"north\" in this.value) {\n\t\t\textent = [this.value.west, this.value.south, this.value.east, this.value.north];\n\t\t}\n\t\telse if (Array.isArray(this.value) && value.length >= 4) {\n\t\t\textent = this.value;\n\t\t}\n\n\t\treturn {\n\t\t\tinteraction: null,\n\t\t\textent\n\t\t};\n\t},\n\tcomputed: {\n\t\treturnAsObject() {\n\t\t\treturn !Array.isArray(this.value); // Only return as array if value given in prop is also an array\n\t\t},\n\t\tprojectedExtent() {\n\t\t\tif (this.extent) {\n\t\t\t\treturn transformExtent(this.extent, 'EPSG:4326', this.map.getView().getProjection());\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tbbox() {\n\t\t\treturn Utils.extentToBBox(this.extent);\n\t\t},\n\t\thelp() {\n\t\t\treturn this.extent ? 'Click inside the bounding box to remove it.' : 'Click on the map to add a bounding box.';\n\t\t}\n\t},\n\tmethods: {\n\t\tupdate(event) {\n\t\t\tif (event.extent) {\n\t\t\t\tthis.extent = transformExtent(event.extent, this.map.getView().getProjection(), 'EPSG:4326');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.extent = null;\n\t\t\t}\n\t\t\tthis.$emit('input', this.returnAsObject ? this.bbox : this.extent);\n\t\t},\n\t\tensureValidExtent(extent) {\n\t\t\tif (!extent) {\n\t\t\t\treturn extent;\n\t\t\t}\n\t\t\treturn [\n\t\t\t\tMath.max(extent[0], -180),\n\t\t\t\tMath.max(extent[1], -90),\n\t\t\t\tMath.min(extent[2], 180),\n\t\t\t\tMath.min(extent[3], 90)\n\t\t\t];\n\t\t},\n\t\tasync renderMap() {\n\t\t\tlet isWebMercatorCompatible = Utils.isBboxInWebMercator(this.bbox) !== false;\n\t\t\t\n\t\t\tawait this.createMap(isWebMercatorCompatible ? 'EPSG:3857' : 'EPSG:4326');\n\t\t\tthis.addBasemaps();\n\n\t\t\tlet condition = (event) => {\n\t\t\t\tif (!this.editable) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (event.type === 'singleclick') {\n\t\t\t\t\tif (!this.extent) {\n\t\t\t\t\t\tlet pixelSize = this.map.getSize().map(xy => xy * 0.2);\n\t\t\t\t\t\tlet extent = this.map.getView().calculateExtent(pixelSize);\n\t\t\t\t\t\tlet size = [\n\t\t\t\t\t\t\textent[2] - extent[0],\n\t\t\t\t\t\t\textent[3] - extent[1]\n\t\t\t\t\t\t];\n\t\t\t\t\t\tlet mouseExtent = [\n\t\t\t\t\t\t\tevent.coordinate[0] - size[0],\n\t\t\t\t\t\t\tevent.coordinate[1] - size[1],\n\t\t\t\t\t\t\tevent.coordinate[0] + size[0],\n\t\t\t\t\t\t\tevent.coordinate[1] + size[1],\n\t\t\t\t\t\t];\n\t\t\t\t\t\tthis.interaction.setExtent(mouseExtent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telse if (containsXY(this.projectedExtent, ...event.coordinate)) {\n\t\t\t\t\t\tthis.interaction.setExtent(null);\n\t\t\t\t\t\tthis.interaction.vertexOverlay_.getSource().clear();\n\t\t\t\t\t\tthis.interaction.vertexFeature_ = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (this.interaction.handlingDownUpSequence || this.interaction.snapToVertex_(event.pixel, event.map)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tthis.interaction = new ExtentInteraction({\n\t\t\t\textent: this.projectedExtent,\n\t\t\t\tcondition,\n\t\t\t\tboxStyle: createDefaultStyle(),\n\t\t\t\tpixelTolerance: 15\n\t\t\t});\n\n\t\t\t// let oldImplementation = this.interaction.setExtent.bind(this.interaction);\n\t\t\t// this.interaction.setExtent = extent => oldImplementation(this.ensureValidExtent(extent));\n\t\t\tif (this.editable) {\n\t\t\t\tthis.interaction.on('extentchanged', this.update);\n\t\t\t}\n\n\t\t\tthis.map.addInteraction(this.interaction);\n\n\t\t\t// If not ediable, make a bigger extent visible so that user can get a better overview\n\t\t\tif (this.projectedExtent) {\n\t\t\t\tvar fitOptions = this.getFitOptions(this.editable ? 10 : 33);\n\t\t\t\tthis.map.getView().fit(this.projectedExtent, fitOptions);\n\t\t\t}\n\t\t}\n\t}\n\n}\n</script>\n\n<style src=\"../maps/MapMixin.scss\" lang=\"scss\"></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapAreaSelect.vue?vue&type=template&id=608b41a2&\"\nimport script from \"./MapAreaSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./MapAreaSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"../maps/MapMixin.scss?vue&type=style&index=0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.texts.length > 0)?_c('div',{staticClass:\"ol-unselectable ol-control value\",class:{pointer: _vm.texts.length > 1},on:{\"click\":_vm.toggle}},[_vm._v(\" \"+_vm._s(_vm.current)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-if=\"texts.length > 0\" class=\"ol-unselectable ol-control value\" @click=\"toggle\" :class=\"{pointer: texts.length > 1}\">\n\t\t{{ current }}\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin.vue';\n\nexport default {\n\tname: 'TextControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tdata() {\n\t\treturn {\n\t\t\ti: 0\n\t\t};\t\n\t},\n\tcomputed: {\n\t\ttexts() {\n\t\t\tif (Array.isArray(this.text)) {\n\t\t\t\treturn this.text;\n\t\t\t}\n\t\t\telse if (typeof this.text === 'string' && this.text.length > 0) {\n\t\t\t\treturn [this.text];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tcurrent() {\n\t\t\tif (this.texts.length === 0) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.texts[this.i % this.text.length];\n\t\t\t}\n\t\t}\n\t},\n\tprops: {\n\t\ttext: {\n\t\t\ttext: [\n\t\t\t\tString,\n\t\t\t\tArray\n\t\t\t],\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle() {\n\t\t\tthis.i++;\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.value {\n\tposition: absolute;\n\ttop: 0.5em;\n\tleft: calc(2.375em + 6px);\n\tmax-width: calc(100% - 2*(2.375em + 6px));\n\tbox-sizing: border-box;\n\tbackground-color: rgba(255,255,255,0.6);\n}\n.pointer {\n\tcursor: pointer;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TextControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TextControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextControl.vue?vue&type=template&id=6d7a0f06&scoped=true&\"\nimport script from \"./TextControl.vue?vue&type=script&lang=js&\"\nexport * from \"./TextControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextControl.vue?vue&type=style&index=0&id=6d7a0f06&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d7a0f06\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"step choose-bbox\"},[_c('p',[_vm._v(\"Please select the area of interest which you want to download data for.\")]),_c('MapAreaSelect',{staticClass:\"map\",attrs:{\"show\":_vm.showMap,\"value\":_vm.value},on:{\"input\":_vm.update}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"step choose-bbox\">\n\t\t<p>Please select the area of interest which you want to download data for.</p>\n\t\t<MapAreaSelect class=\"map\" :show=\"showMap\" :value=\"value\" @input=\"update\" />\n\t</div>\n</template>\n\n<script>\nimport MapAreaSelect from '../../datatypes/MapAreaSelect.vue';\n\nexport default {\n\tname: 'ChooseBoundingBox',\n\tcomponents: {\n\t\tMapAreaSelect\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowMap: true\n\t\t};\n\t},\n\tmounted() {\n\t\twindow.setTimeout(() => this.showMap = true, 1000);\n\t},\n\tmethods: {\n\t\tupdate(bbox) {\n\t\t\tthis.$emit('input', bbox);\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.choose-bbox, .map {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChooseBoundingBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChooseBoundingBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChooseBoundingBox.vue?vue&type=template&id=7457938e&scoped=true&\"\nimport script from \"./ChooseBoundingBox.vue?vue&type=script&lang=js&\"\nexport * from \"./ChooseBoundingBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChooseBoundingBox.vue?vue&type=style&index=0&id=7457938e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7457938e\",\n  null\n  \n)\n\nexport default component.exports","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/Extent\n */\nimport Event from '../events/Event.js';\nimport Feature from '../Feature.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport Point from '../geom/Point.js';\nimport PointerInteraction from './Pointer.js';\nimport VectorLayer from '../layer/Vector.js';\nimport VectorSource from '../source/Vector.js';\nimport { always } from '../events/condition.js';\nimport { boundingExtent, getArea } from '../extent.js';\nimport { closestOnSegment, distance as coordinateDistance, squaredDistance as squaredCoordinateDistance, squaredDistanceToSegment, } from '../coordinate.js';\nimport { createEditingStyle } from '../style/Style.js';\nimport { fromExtent as polygonFromExtent } from '../geom/Polygon.js';\nimport { toUserExtent } from '../proj.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition.always}.\n * @property {import(\"../extent.js\").Extent} [extent] Initial extent. Defaults to no\n * initial extent.\n * @property {import(\"../style/Style.js\").StyleLike} [boxStyle]\n * Style for the drawn extent box. Defaults to the `Polygon` editing style\n * documented in {@link module:ol/style/Style~Style}\n * @property {number} [pixelTolerance=10] Pixel tolerance for considering the\n * pointer close enough to a segment or vertex for editing.\n * @property {import(\"../style/Style.js\").StyleLike} [pointerStyle]\n * Style for the cursor used to draw the extent. Defaults to the `Point` editing style\n * documented in {@link module:ol/style/Style~Style}\n * @property {boolean} [wrapX=false] Wrap the drawn extent across multiple maps\n * in the X direction? Only affects visuals, not functionality.\n */\n/**\n * @enum {string}\n */\nvar ExtentEventType = {\n    /**\n     * Triggered after the extent is changed\n     * @event ExtentEvent#extentchanged\n     * @api\n     */\n    EXTENTCHANGED: 'extentchanged',\n};\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Extent~Extent} instances are\n * instances of this type.\n */\nvar ExtentEvent = /** @class */ (function (_super) {\n    __extends(ExtentEvent, _super);\n    /**\n     * @param {import(\"../extent.js\").Extent} extent the new extent\n     */\n    function ExtentEvent(extent) {\n        var _this = _super.call(this, ExtentEventType.EXTENTCHANGED) || this;\n        /**\n         * The current extent.\n         * @type {import(\"../extent.js\").Extent}\n         * @api\n         */\n        _this.extent = extent;\n        return _this;\n    }\n    return ExtentEvent;\n}(Event));\nexport { ExtentEvent };\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<'extentchanged', ExtentEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active'|'extentchanged', Return>} ExtentOnSignature\n */\n/**\n * @classdesc\n * Allows the user to draw a vector box by clicking and dragging on the map.\n * Once drawn, the vector box can be modified by dragging its vertices or edges.\n * This interaction is only supported for mouse devices.\n *\n * @fires ExtentEvent\n * @api\n */\nvar Extent = /** @class */ (function (_super) {\n    __extends(Extent, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Extent(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        _this = _super.call(this, /** @type {import(\"./Pointer.js\").Options} */ (options)) || this;\n        /***\n         * @type {ExtentOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {ExtentOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {ExtentOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * Condition\n         * @type {import(\"../events/condition.js\").Condition}\n         * @private\n         */\n        _this.condition_ = options.condition ? options.condition : always;\n        /**\n         * Extent of the drawn box\n         * @type {import(\"../extent.js\").Extent}\n         * @private\n         */\n        _this.extent_ = null;\n        /**\n         * Handler for pointer move events\n         * @type {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null}\n         * @private\n         */\n        _this.pointerHandler_ = null;\n        /**\n         * Pixel threshold to snap to extent\n         * @type {number}\n         * @private\n         */\n        _this.pixelTolerance_ =\n            options.pixelTolerance !== undefined ? options.pixelTolerance : 10;\n        /**\n         * Is the pointer snapped to an extent vertex\n         * @type {boolean}\n         * @private\n         */\n        _this.snappedToVertex_ = false;\n        /**\n         * Feature for displaying the visible extent\n         * @type {Feature}\n         * @private\n         */\n        _this.extentFeature_ = null;\n        /**\n         * Feature for displaying the visible pointer\n         * @type {Feature<Point>}\n         * @private\n         */\n        _this.vertexFeature_ = null;\n        if (!opt_options) {\n            opt_options = {};\n        }\n        /**\n         * Layer for the extentFeature\n         * @type {VectorLayer}\n         * @private\n         */\n        _this.extentOverlay_ = new VectorLayer({\n            source: new VectorSource({\n                useSpatialIndex: false,\n                wrapX: !!opt_options.wrapX,\n            }),\n            style: opt_options.boxStyle\n                ? opt_options.boxStyle\n                : getDefaultExtentStyleFunction(),\n            updateWhileAnimating: true,\n            updateWhileInteracting: true,\n        });\n        /**\n         * Layer for the vertexFeature\n         * @type {VectorLayer}\n         * @private\n         */\n        _this.vertexOverlay_ = new VectorLayer({\n            source: new VectorSource({\n                useSpatialIndex: false,\n                wrapX: !!opt_options.wrapX,\n            }),\n            style: opt_options.pointerStyle\n                ? opt_options.pointerStyle\n                : getDefaultPointerStyleFunction(),\n            updateWhileAnimating: true,\n            updateWhileInteracting: true,\n        });\n        if (opt_options.extent) {\n            _this.setExtent(opt_options.extent);\n        }\n        return _this;\n    }\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel cursor location\n     * @param {import(\"../PluggableMap.js\").default} map map\n     * @return {import(\"../coordinate.js\").Coordinate|null} snapped vertex on extent\n     * @private\n     */\n    Extent.prototype.snapToVertex_ = function (pixel, map) {\n        var pixelCoordinate = map.getCoordinateFromPixelInternal(pixel);\n        var sortByDistance = function (a, b) {\n            return (squaredDistanceToSegment(pixelCoordinate, a) -\n                squaredDistanceToSegment(pixelCoordinate, b));\n        };\n        var extent = this.getExtentInternal();\n        if (extent) {\n            //convert extents to line segments and find the segment closest to pixelCoordinate\n            var segments = getSegments(extent);\n            segments.sort(sortByDistance);\n            var closestSegment = segments[0];\n            var vertex = closestOnSegment(pixelCoordinate, closestSegment);\n            var vertexPixel = map.getPixelFromCoordinateInternal(vertex);\n            //if the distance is within tolerance, snap to the segment\n            if (coordinateDistance(pixel, vertexPixel) <= this.pixelTolerance_) {\n                //test if we should further snap to a vertex\n                var pixel1 = map.getPixelFromCoordinateInternal(closestSegment[0]);\n                var pixel2 = map.getPixelFromCoordinateInternal(closestSegment[1]);\n                var squaredDist1 = squaredCoordinateDistance(vertexPixel, pixel1);\n                var squaredDist2 = squaredCoordinateDistance(vertexPixel, pixel2);\n                var dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n                this.snappedToVertex_ = dist <= this.pixelTolerance_;\n                if (this.snappedToVertex_) {\n                    vertex =\n                        squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n                }\n                return vertex;\n            }\n        }\n        return null;\n    };\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent pointer move event\n     * @private\n     */\n    Extent.prototype.handlePointerMove_ = function (mapBrowserEvent) {\n        var pixel = mapBrowserEvent.pixel;\n        var map = mapBrowserEvent.map;\n        var vertex = this.snapToVertex_(pixel, map);\n        if (!vertex) {\n            vertex = map.getCoordinateFromPixelInternal(pixel);\n        }\n        this.createOrUpdatePointerFeature_(vertex);\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent extent\n     * @return {Feature} extent as featrue\n     * @private\n     */\n    Extent.prototype.createOrUpdateExtentFeature_ = function (extent) {\n        var extentFeature = this.extentFeature_;\n        if (!extentFeature) {\n            if (!extent) {\n                extentFeature = new Feature({});\n            }\n            else {\n                extentFeature = new Feature(polygonFromExtent(extent));\n            }\n            this.extentFeature_ = extentFeature;\n            this.extentOverlay_.getSource().addFeature(extentFeature);\n        }\n        else {\n            if (!extent) {\n                extentFeature.setGeometry(undefined);\n            }\n            else {\n                extentFeature.setGeometry(polygonFromExtent(extent));\n            }\n        }\n        return extentFeature;\n    };\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} vertex location of feature\n     * @return {Feature} vertex as feature\n     * @private\n     */\n    Extent.prototype.createOrUpdatePointerFeature_ = function (vertex) {\n        var vertexFeature = this.vertexFeature_;\n        if (!vertexFeature) {\n            vertexFeature = new Feature(new Point(vertex));\n            this.vertexFeature_ = vertexFeature;\n            this.vertexOverlay_.getSource().addFeature(vertexFeature);\n        }\n        else {\n            var geometry = vertexFeature.getGeometry();\n            geometry.setCoordinates(vertex);\n        }\n        return vertexFeature;\n    };\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     */\n    Extent.prototype.handleEvent = function (mapBrowserEvent) {\n        if (!mapBrowserEvent.originalEvent || !this.condition_(mapBrowserEvent)) {\n            return true;\n        }\n        //display pointer (if not dragging)\n        if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE &&\n            !this.handlingDownUpSequence) {\n            this.handlePointerMove_(mapBrowserEvent);\n        }\n        //call pointer to determine up/down/drag\n        _super.prototype.handleEvent.call(this, mapBrowserEvent);\n        //return false to stop propagation\n        return false;\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    Extent.prototype.handleDownEvent = function (mapBrowserEvent) {\n        var pixel = mapBrowserEvent.pixel;\n        var map = mapBrowserEvent.map;\n        var extent = this.getExtentInternal();\n        var vertex = this.snapToVertex_(pixel, map);\n        //find the extent corner opposite the passed corner\n        var getOpposingPoint = function (point) {\n            var x_ = null;\n            var y_ = null;\n            if (point[0] == extent[0]) {\n                x_ = extent[2];\n            }\n            else if (point[0] == extent[2]) {\n                x_ = extent[0];\n            }\n            if (point[1] == extent[1]) {\n                y_ = extent[3];\n            }\n            else if (point[1] == extent[3]) {\n                y_ = extent[1];\n            }\n            if (x_ !== null && y_ !== null) {\n                return [x_, y_];\n            }\n            return null;\n        };\n        if (vertex && extent) {\n            var x = vertex[0] == extent[0] || vertex[0] == extent[2] ? vertex[0] : null;\n            var y = vertex[1] == extent[1] || vertex[1] == extent[3] ? vertex[1] : null;\n            //snap to point\n            if (x !== null && y !== null) {\n                this.pointerHandler_ = getPointHandler(getOpposingPoint(vertex));\n                //snap to edge\n            }\n            else if (x !== null) {\n                this.pointerHandler_ = getEdgeHandler(getOpposingPoint([x, extent[1]]), getOpposingPoint([x, extent[3]]));\n            }\n            else if (y !== null) {\n                this.pointerHandler_ = getEdgeHandler(getOpposingPoint([extent[0], y]), getOpposingPoint([extent[2], y]));\n            }\n            //no snap - new bbox\n        }\n        else {\n            vertex = map.getCoordinateFromPixelInternal(pixel);\n            this.setExtent([vertex[0], vertex[1], vertex[0], vertex[1]]);\n            this.pointerHandler_ = getPointHandler(vertex);\n        }\n        return true; //event handled; start downup sequence\n    };\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    Extent.prototype.handleDragEvent = function (mapBrowserEvent) {\n        if (this.pointerHandler_) {\n            var pixelCoordinate = mapBrowserEvent.coordinate;\n            this.setExtent(this.pointerHandler_(pixelCoordinate));\n            this.createOrUpdatePointerFeature_(pixelCoordinate);\n        }\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    Extent.prototype.handleUpEvent = function (mapBrowserEvent) {\n        this.pointerHandler_ = null;\n        //If bbox is zero area, set to null;\n        var extent = this.getExtentInternal();\n        if (!extent || getArea(extent) === 0) {\n            this.setExtent(null);\n        }\n        return false; //Stop handling downup sequence\n    };\n    /**\n     * Remove the interaction from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    Extent.prototype.setMap = function (map) {\n        this.extentOverlay_.setMap(map);\n        this.vertexOverlay_.setMap(map);\n        _super.prototype.setMap.call(this, map);\n    };\n    /**\n     * Returns the current drawn extent in the view projection (or user projection if set)\n     *\n     * @return {import(\"../extent.js\").Extent} Drawn extent in the view projection.\n     * @api\n     */\n    Extent.prototype.getExtent = function () {\n        return toUserExtent(this.getExtentInternal(), this.getMap().getView().getProjection());\n    };\n    /**\n     * Returns the current drawn extent in the view projection\n     *\n     * @return {import(\"../extent.js\").Extent} Drawn extent in the view projection.\n     * @api\n     */\n    Extent.prototype.getExtentInternal = function () {\n        return this.extent_;\n    };\n    /**\n     * Manually sets the drawn extent, using the view projection.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent\n     * @api\n     */\n    Extent.prototype.setExtent = function (extent) {\n        //Null extent means no bbox\n        this.extent_ = extent ? extent : null;\n        this.createOrUpdateExtentFeature_(extent);\n        this.dispatchEvent(new ExtentEvent(this.extent_));\n    };\n    return Extent;\n}(PointerInteraction));\n/**\n * Returns the default style for the drawn bbox\n *\n * @return {import(\"../style/Style.js\").StyleFunction} Default Extent style\n */\nfunction getDefaultExtentStyleFunction() {\n    var style = createEditingStyle();\n    return function (feature, resolution) {\n        return style['Polygon'];\n    };\n}\n/**\n * Returns the default style for the pointer\n *\n * @return {import(\"../style/Style.js\").StyleFunction} Default pointer style\n */\nfunction getDefaultPointerStyleFunction() {\n    var style = createEditingStyle();\n    return function (feature, resolution) {\n        return style['Point'];\n    };\n}\n/**\n * @param {import(\"../coordinate.js\").Coordinate} fixedPoint corner that will be unchanged in the new extent\n * @return {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent} event handler\n */\nfunction getPointHandler(fixedPoint) {\n    return function (point) {\n        return boundingExtent([fixedPoint, point]);\n    };\n}\n/**\n * @param {import(\"../coordinate.js\").Coordinate} fixedP1 first corner that will be unchanged in the new extent\n * @param {import(\"../coordinate.js\").Coordinate} fixedP2 second corner that will be unchanged in the new extent\n * @return {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null} event handler\n */\nfunction getEdgeHandler(fixedP1, fixedP2) {\n    if (fixedP1[0] == fixedP2[0]) {\n        return function (point) {\n            return boundingExtent([fixedP1, [point[0], fixedP2[1]]]);\n        };\n    }\n    else if (fixedP1[1] == fixedP2[1]) {\n        return function (point) {\n            return boundingExtent([fixedP1, [fixedP2[0], point[1]]]);\n        };\n    }\n    else {\n        return null;\n    }\n}\n/**\n * @param {import(\"../extent.js\").Extent} extent extent\n * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} extent line segments\n */\nfunction getSegments(extent) {\n    return [\n        [\n            [extent[0], extent[1]],\n            [extent[0], extent[3]],\n        ],\n        [\n            [extent[0], extent[3]],\n            [extent[2], extent[3]],\n        ],\n        [\n            [extent[2], extent[3]],\n            [extent[2], extent[1]],\n        ],\n        [\n            [extent[2], extent[1]],\n            [extent[0], extent[1]],\n        ],\n    ];\n}\nexport default Extent;\n//# sourceMappingURL=Extent.js.map"],"names":["render","_vm","this","_c","_self","attrs","id","ref","map","help","staticRenderFns","name","mixins","components","TextControl","props","value","type","default","data","extent","interaction","computed","returnAsObject","projectedExtent","bbox","methods","update","ensureValidExtent","Math","event","condition","boxStyle","pixelTolerance","component","texts","length","staticClass","class","pointer","on","toggle","_v","_s","current","_e","ControlMixin","i","text","String","Array","showMap","MapAreaSelect","mounted","window","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","call","TypeError","__","constructor","create","ExtentEventType","EXTENTCHANGED","ExtentEvent","_super","_this","Extent","opt_options","options","once","un","condition_","extent_","pointerHandler_","pixelTolerance_","undefined","snappedToVertex_","extentFeature_","vertexFeature_","extentOverlay_","source","useSpatialIndex","wrapX","style","getDefaultExtentStyleFunction","updateWhileAnimating","updateWhileInteracting","vertexOverlay_","pointerStyle","getDefaultPointerStyleFunction","setExtent","snapToVertex_","pixel","pixelCoordinate","getCoordinateFromPixelInternal","sortByDistance","a","getExtentInternal","segments","getSegments","sort","closestSegment","vertex","vertexPixel","getPixelFromCoordinateInternal","pixel1","pixel2","squaredDist1","squaredDist2","dist","sqrt","min","handlePointerMove_","mapBrowserEvent","createOrUpdatePointerFeature_","createOrUpdateExtentFeature_","extentFeature","setGeometry","getSource","addFeature","vertexFeature","geometry","getGeometry","setCoordinates","handleEvent","originalEvent","handlingDownUpSequence","handleDownEvent","getOpposingPoint","point","x_","y_","x","y","getPointHandler","getEdgeHandler","handleDragEvent","coordinate","handleUpEvent","setMap","getExtent","getMap","getView","getProjection","dispatchEvent","feature","resolution","fixedPoint","fixedP1","fixedP2"],"sourceRoot":""}