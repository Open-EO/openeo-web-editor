{"version":3,"file":"js/9911.824b6682.js","mappings":"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","sources":["webpack://@openeo/web-editor/src/components/maps/ControlMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ControlMixin.vue?2120","webpack://@openeo/web-editor/./src/components/maps/ControlMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue","webpack://@openeo/web-editor/src/components/maps/ProgressControl.vue","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue?c057","webpack://@openeo/web-editor/./src/components/maps/ProgressControl.vue?33a4","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue","webpack://@openeo/web-editor/src/components/maps/UserLocationControl.vue","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue?7a81","webpack://@openeo/web-editor/./src/components/maps/UserLocationControl.vue?73c5","webpack://@openeo/web-editor/src/components/maps/MapMixin.vue","webpack://@openeo/web-editor/./src/components/maps/MapMixin.vue?e588","webpack://@openeo/web-editor/./src/components/maps/MapMixin.vue","webpack://@openeo/web-editor/./node_modules/rbush/rbush.min.js","webpack://@openeo/web-editor/./node_modules/ol/vec/mat4.js","webpack://@openeo/web-editor/./node_modules/ol/webgl.js","webpack://@openeo/web-editor/./node_modules/ol/webgl/Buffer.js","webpack://@openeo/web-editor/./node_modules/ol/webgl/ContextEventType.js","webpack://@openeo/web-editor/./node_modules/ol/webgl/PostProcessingPass.js","webpack://@openeo/web-editor/./node_modules/ol/webgl/Helper.js","webpack://@openeo/web-editor/./node_modules/ol/webgl/RenderTarget.js","webpack://@openeo/web-editor/./node_modules/ol/worker/webgl.js"],"sourcesContent":["<script>\nimport { Control } from 'ol/control.js';\n\nexport default {\n\tprops: {\n\t\tmap: {\n\t\t\ttype: Object\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcontrol: null\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.control = new Control({\n\t\t\telement: this.$el\n\t\t});\n\t},\n\twatch: {\n\t\tmap(newMap) {\n\t\t\tif (newMap) {\n\t\t\t\tthis.map.addControl(this.control);\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tgetControl() {\n\t\t\treturn this.control;\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ControlMixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ControlMixin.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./ControlMixin.vue?vue&type=script&lang=js&\"\nexport * from \"./ControlMixin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"ol-unselectable ol-progress-control\"},[_c('div',{staticClass:\"progress-bar\"},[_c('div',{staticClass:\"progress-bar-inner\",style:({width: _vm.percent})})]),_c('div',{staticClass:\"progress-label\"},[_vm._v(_vm._s(_vm.label))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-show=\"show\" class=\"ol-unselectable ol-progress-control\">\n\t\t<div class=\"progress-bar\">\n\t\t\t<div class=\"progress-bar-inner\" :style=\"{width: percent}\" />\n\t\t</div>\n\t\t<div class=\"progress-label\">{{ label }}</div>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin.vue';\n\nexport default {\n\tname: 'ProgressControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tloading: 0,\n\t\t\tloaded: 0\n\t\t};\n\t},\n\tcomputed: {\n\t\tshow() {\n\t\t\treturn (this.loading > 0 && this.loaded <= this.loading);\n\t\t},\n\t\tpercent() {\n\t\t\treturn (this.loaded / this.loading * 100).toFixed(1) + '%';\n\t\t},\n\t\tlabel() {\n\t\t\treturn \"Loading Tiles (\" + this.percent + \")\";\n\t\t}\n\t},\n\tmethods: {\n\t\taddLoading() {\n\t\t\tthis.loading++;\n\t\t\tthis.update();\n\t\t},\n\t\taddLoaded() {\n\t\t\tthis.loaded++;\n\t\t\tthis.update();\n\t\t},\n\t\tupdate() {\n\t\t\tif (this.loading === this.loaded) {\n\t\t\t\tthis.loading = 0;\n\t\t\t\tthis.loaded = 0;\n\t\t\t}\n\n\t\t\tif (this.loading === this.loaded) {\n\t\t\t\tthis.loading = 0;\n\t\t\t\tthis.loaded = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ol-progress-control {\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\tbottom: calc(22px + 1em);\n    left: 8px;\n\tposition: absolute;\n\tbackground-color: rgba(0,60,136,.5);\n\tborder-radius: 4px;\n\tpadding: 2px;\n\twidth: 150px;\n\ttext-align: center;\n}\n.ol-progress-control .progress-label {\n\tfont-size: 10px;\n\tcolor: #fff;\n\tmargin-top: 2px;\n}\n.ol-progress-control .progress-bar {\n\tborder-radius: 4px;\n\tborder: 1px solid #fff;\n\theight: 10px;\n}\n.ol-progress-control .progress-bar-inner {\n\tbackground-color: #fff;\n\theight: 10px;\n\twidth: 0;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProgressControl.vue?vue&type=template&id=1da4d958&scoped=true&\"\nimport script from \"./ProgressControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ProgressControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProgressControl.vue?vue&type=style&index=0&id=1da4d958&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1da4d958\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ol-location ol-unselectable ol-control\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"Go to your location\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.request.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-location-arrow\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"ol-location ol-unselectable ol-control\" style=\"pointer-events: auto;\">\n\t\t<button type=\"button\" @click.prevent.stop=\"request\" title=\"Go to your location\">\n\t\t\t<i class=\"fas fa-location-arrow\"></i>\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin.vue';\nimport { fromLonLat } from 'ol/proj';\n\nexport default {\n\tname: 'UserLocationControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tmethods: {\n\t\trequest() {\n\t\t\tif (\"geolocation\" in navigator) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t\tposition => {\n\t\t\t\t\t\tlet view = this.map.getView();\n\t\t\t\t\t\tlet coords = [position.coords.longitude, position.coords.latitude];\n\t\t\t\t\t\tview.setCenter(fromLonLat(coords, view.getProjection()));\n\t\t\t\t\t},\n\t\t\t\t\terror => Utils.error(this, error, \"Location Error\"),\n\t\t\t\t\t{\n\t\t\t\t\t\tmaximumAge: Infinity\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ol-location {\n\tz-index: 0;\n\tleft: 0.5em;\n\ttop: calc(3.75em + 6px);\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLocationControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserLocationControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLocationControl.vue?vue&type=template&id=71051cba&scoped=true&\"\nimport script from \"./UserLocationControl.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLocationControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserLocationControl.vue?vue&type=style&index=0&id=71051cba&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71051cba\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport EventBusMixin from '../EventBusMixin.js';\nimport Utils from '../../utils.js';\n\nimport 'ol/ol.css';\nimport { defaults as defaultControls, FullScreen, ScaleLine } from 'ol/control';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport { fromLonLat } from 'ol/proj';\nimport Projection from 'ol/proj/Projection';\nimport ProjManager from './projManager';\nimport TileLayer from 'ol/layer/Tile';\nimport XYZ from 'ol/source/XYZ';\n\nimport 'ol-ext/control/LayerSwitcher.css';\nimport LayerSwitcher from 'ol-ext/control/LayerSwitcher';\n\nimport ProgressControl from './ProgressControl.vue';\nimport UserLocationControl from './UserLocationControl.vue';\n\nlet idCounter = 1;\n\nexport default {\n\tcomponents: {\n\t\tProgressControl,\n\t\tUserLocationControl\n\t},\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tremovableLayers: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmap: null,\n\t\t\tid: `map_` + idCounter++\n\t\t};\n\t},\n\twatch: {\n\t\tasync show() {\n\t\t\tawait this.showMap();\n\t\t}\n\t},\n\tasync mounted() {\n\t\tawait this.showMap();\n\t},\n\tmethods: {\n\t\tasync showMap() {\n\t\t\tif (this.show) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tawait this.renderMap();\n\t\t\t}\n\t\t},\n\t\tasync createMap(opts = 'EPSG:3857') {\n\t\t\tlet view;\n\t\t\tlet viewOpts = {\n\t\t\t\tshowFullExtent: true\n\t\t\t};\n\t\t\tif (typeof opts === 'string') { // A projection code\n\t\t\t\tviewOpts.projection = await ProjManager.get(opts);\n\t\t\t}\n\t\t\telse if (opts instanceof Projection) {\n\t\t\t\tviewOpts.projection = opts;\n\t\t\t}\n\t\t\telse if (opts instanceof View) {\n\t\t\t\tview = opts;\n\t\t\t}\n\t\t\telse if (Utils.isObject(opts)) {\n\t\t\t\tviewOpts = opts;\n\t\t\t}\n\n\t\t\tif (!view) {\n\t\t\t\tview = new View(viewOpts);\n\t\t\t\tif (!view.getCenter()) {\n\t\t\t\t\tlet location = this.$config.mapLocation;\n\t\t\t\t\tif (!Array.isArray(location) || location.length != 2) {\n\t\t\t\t\t\tlocation = [0,0];\n\t\t\t\t\t}\n\t\t\t\t\tview.setCenter(fromLonLat([location[1], location[0]], view.getProjection()));\n\t\t\t\t}\n\t\t\t\tif (!view.getZoom()) {\n\t\t\t\t\tview.setZoom(this.$config.mapZoom || 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.map !== null) {\n\t\t\t\tthis.map.updateSize();\n\t\t\t\tthis.map.render();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar customControls = [\n\t\t\t\tnew FullScreen(),\n\t\t\t\tnew ScaleLine()\n\t\t\t];\n\t\t\tvar mapOptions = {\n\t\t\t\ttarget: this.id,\n\t\t\t\tview\n\t\t\t};\n\t\t\tif (!this.editable) {\n\t\t\t\tmapOptions.interactions = [];\n\t\t\t\tmapOptions.controls = customControls;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmapOptions.controls = defaultControls().extend(customControls);\n\t\t\t}\n\t\t\tthis.map = new Map(mapOptions);\n\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t\t\n\t\t\tlet layers = this.map.getLayers();\n\t\t\tlayers.on('add', evt => {\n\t\t\t\tlet layer = evt.element;\n\n\t\t\t\tlet events = layer.get('events');\n\t\t\t\tfor(let event in events) {\n\t\t\t\t\tthis.map.on(event, events[event]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tlayers.on('remove', evt => {\n\t\t\t\tlet layer = evt.element;\n\n\t\t\t\tlet events = layer.get('events');\n\t\t\t\tfor(let event in events) {\n\t\t\t\t\tthis.map.un(event, events[event]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\taddLayerSwitcher() {\n\t\t\tthis.map.addControl(new LayerSwitcher({trash: this.removableLayers}));\n\t\t},\n\n\t\taddBasemaps() {\n\t\t\tlet basemapOptions = {\n\t\t\t\topaque: true,\n\t\t\t\tattributionsCollapsible: false,\n\t\t\t\twrapX: false\n\t\t\t};\n\t\t\tlet baselayers = [];\n\t\t\tif (Array.isArray(this.$config.basemaps)) {\n\t\t\t\tlet hasDefault = false;\n\t\t\t\tfor(let opts of this.$config.basemaps) {\n\t\t\t\t\tlet basemap = new XYZ(Object.assign({}, basemapOptions, opts));\n\t\t\t\t\tlet baselayer = new TileLayer({\n\t\t\t\t\t\tsource: this.trackTileProgress(basemap),\n\t\t\t\t\t\tbaseLayer: true,\n\t\t\t\t\t\ttitle: opts.title,\n\t\t\t\t\t\tnoSwitcherDelete: true,\n\t\t\t\t\t\tvisible: !hasDefault\n\t\t\t\t\t});\n\t\t\t\t\tbaselayers.push(baselayer);\n\t\t\t\t\tthis.map.addLayer(baselayer);\n\t\t\t\t\thasDefault = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn baselayers;\n\t\t},\n\n\t\tonShow() {\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\t\tonHide() {\n\t\t\tthis.unlisten('windowResized');\n\t\t},\n\n\t\t// To be overridden by implementing components.\n\t\tasync renderMap() {\n\t\t\tawait this.createMap();\n\t\t\tthis.addBasemaps();\n\t\t},\n\n\t\tasync updateMapSize() {\n\t\t\tif (this.map) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.map.updateSize();\n\t\t\t}\n\t\t},\n\n\t\taddLayerToMap(layer) {\n\t\t\tlayer.set('userLayer', true);\n\t\t\tthis.map.addLayer(layer);\n\t\t},\n\t\tremoveLayerFromMap(id) {\n\t\t\tlet layer = this.getLayerFromMap(id);\n\t\t\tif (layer) {\n\t\t\t\tthis.map.removeLayer(layer);\n\t\t\t}\n\t\t},\n\t\tgetLayerFromMap(id) {\n\t\t\tlet layers = this.map.getLayers().getArray();\n\t\t\tfor(let layer of layers) {\n\t\t\t\tif (layer.get('id') === id) {\n\t\t\t\t\treturn layer;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetVisibleLayers() {\n\t\t\tlet shownLayers = [];\n\t\t\tlet layers = this.map.getLayers().getArray();\n\t\t\tfor(let layer of layers) {\n\t\t\t\tif (layer.get('userLayer') && layer.getVisible()) {\n\t\t\t\t\tshownLayers.push(layer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shownLayers;\n\t\t},\n\n\t\tgetFitOptions(paddingPc = 25) {\n\t\t\tlet fitOptions = {};\n\t\t\t// Make a bigger extent visible so that user can get a better overview\n\t\t\tvar size = this.map.getSize();\n\t\t\tif (size && paddingPc > 0) {\n\t\t\t\tfitOptions.padding = [size[0]*paddingPc/100, size[1]*paddingPc/100, size[0]*paddingPc/100, size[1]*paddingPc/100];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfitOptions.padding = [30,30,30,30];\n\t\t\t}\n\t\t\treturn fitOptions;\n\t\t},\n\n\t\ttrackTileProgress(source) {\n\t\t\tif (this.$refs.progress) {\n\t\t\t\tsource.on('tileloadstart', () => this.$refs.progress && this.$refs.progress.addLoading());\n\t\t\t\tlet loadedFn = () => this.$refs.progress && this.$refs.progress.addLoaded();\n\t\t\t\tsource.on('tileloadend', loadedFn);\n\t\t\t\tsource.on('tileloaderror', loadedFn);\n\t\t\t}\n\t\t\treturn source;\n\t\t},\n\n\t\tfromLonLat(coords) {\n\t\t\treturn fromLonLat(coords, this.map.getView().getProjection());\n\t\t},\n\t\ttoExtent(value) {\n\t\t\tlet extent = null;\n\t\t\tif (Utils.isObject(value) && \"west\" in value && \"south\" in value && \"east\" in value && \"north\" in value) {\n\t\t\t\textent = [value.west, value.south, value.east, value.north];\n\t\t\t}\n\t\t\telse if (Array.isArray(value) && value.length >= 4) {\n\t\t\t\textent = value;\n\t\t\t}\n\t\t\treturn extent;\n\t\t}\n\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./MapMixin.vue?vue&type=script&lang=js&\"\nexport * from \"./MapMixin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","/**\n * @module ol/vec/mat4\n */\n\n/**\n * @return {Array<number>} \"4x4 matrix representing a 3D identity transform.\"\n */\nexport function create() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\n\n/**\n * @param {Array<number>} mat4 Flattened 4x4 matrix receiving the result.\n * @param {import(\"../transform.js\").Transform} transform Transformation matrix.\n * @return {Array<number>} \"2D transformation matrix as flattened 4x4 matrix.\"\n */\nexport function fromTransform(mat4, transform) {\n  mat4[0] = transform[0];\n  mat4[1] = transform[1];\n  mat4[4] = transform[2];\n  mat4[5] = transform[3];\n  mat4[12] = transform[4];\n  mat4[13] = transform[5];\n  return mat4;\n}\n","/**\n * @module ol/webgl\n */\n\nimport {SAFARI_BUG_237906} from './has.js';\n\n/**\n * Constants taken from goog.webgl\n */\n\n/**\n * Used by {@link module:ol/webgl/Helper~WebGLHelper} for buffers containing vertices data, such as\n * position, color, texture coordinate, etc. These vertices are then referenced by an index buffer\n * to be drawn on screen (see {@link module:ol/webgl.ELEMENT_ARRAY_BUFFER}).\n * @const\n * @type {number}\n * @api\n */\nexport const ARRAY_BUFFER = 0x8892;\n\n/**\n * Used by {@link module:ol/webgl/Helper~WebGLHelper} for buffers containing indices data.\n * Index buffers are essentially lists of references to vertices defined in a vertex buffer\n * (see {@link module:ol/webgl.ARRAY_BUFFER}), and define the primitives (triangles) to be drawn.\n * @const\n * @type {number}\n * @api\n */\nexport const ELEMENT_ARRAY_BUFFER = 0x8893;\n\n/**\n * Used by {link module:ol/webgl/Buffer~WebGLArrayBuffer}.\n * @const\n * @type {number}\n * @api\n */\nexport const STREAM_DRAW = 0x88e0;\n\n/**\n * Used by {link module:ol/webgl/Buffer~WebGLArrayBuffer}.\n * @const\n * @type {number}\n * @api\n */\nexport const STATIC_DRAW = 0x88e4;\n\n/**\n * Used by {link module:ol/webgl/Buffer~WebGLArrayBuffer}.\n * @const\n * @type {number}\n * @api\n */\nexport const DYNAMIC_DRAW = 0x88e8;\n\n/**\n * @const\n * @type {number}\n */\nexport const UNSIGNED_BYTE = 0x1401;\n\n/**\n * @const\n * @type {number}\n */\nexport const UNSIGNED_SHORT = 0x1403;\n\n/**\n * @const\n * @type {number}\n */\nexport const UNSIGNED_INT = 0x1405;\n\n/**\n * @const\n * @type {number}\n */\nexport const FLOAT = 0x1406;\n\n/** end of goog.webgl constants\n */\n\n/**\n * @const\n * @type {Array<string>}\n */\nconst CONTEXT_IDS = ['experimental-webgl', 'webgl', 'webkit-3d', 'moz-webgl'];\n\n/**\n * @param {HTMLCanvasElement} canvas Canvas.\n * @param {Object} [attributes] Attributes.\n * @return {WebGLRenderingContext} WebGL rendering context.\n */\nexport function getContext(canvas, attributes) {\n  attributes = Object.assign(\n    {\n      preserveDrawingBuffer: true,\n      antialias: SAFARI_BUG_237906 ? false : true, // https://bugs.webkit.org/show_bug.cgi?id=237906\n    },\n    attributes\n  );\n  const ii = CONTEXT_IDS.length;\n  for (let i = 0; i < ii; ++i) {\n    try {\n      const context = canvas.getContext(CONTEXT_IDS[i], attributes);\n      if (context) {\n        return /** @type {!WebGLRenderingContext} */ (context);\n      }\n    } catch (e) {\n      // pass\n    }\n  }\n  return null;\n}\n\n/**\n * @type {Array<string>}\n */\nlet supportedExtensions;\n\n/**\n * @return {Array<string>} List of supported WebGL extensions.\n */\nexport function getSupportedExtensions() {\n  if (!supportedExtensions) {\n    const canvas = document.createElement('canvas');\n    const gl = getContext(canvas);\n    if (gl) {\n      supportedExtensions = gl.getSupportedExtensions();\n    }\n  }\n  return supportedExtensions;\n}\n","/**\n * @module ol/webgl/Buffer\n */\nimport {\n  ARRAY_BUFFER,\n  DYNAMIC_DRAW,\n  ELEMENT_ARRAY_BUFFER,\n  STATIC_DRAW,\n  STREAM_DRAW,\n} from '../webgl.js';\nimport {assert} from '../asserts.js';\n\n/**\n * Used to describe the intended usage for the data: `STATIC_DRAW`, `STREAM_DRAW`\n * or `DYNAMIC_DRAW`.\n * @enum {number}\n */\nexport const BufferUsage = {\n  STATIC_DRAW: STATIC_DRAW,\n  STREAM_DRAW: STREAM_DRAW,\n  DYNAMIC_DRAW: DYNAMIC_DRAW,\n};\n\n/**\n * @classdesc\n * Object used to store an array of data as well as usage information for that data.\n * Stores typed arrays internally, either Float32Array or Uint16/32Array depending on\n * the buffer type (ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER) and available extensions.\n *\n * To populate the array, you can either use:\n * * A size using `#ofSize(buffer)`\n * * An `ArrayBuffer` object using `#fromArrayBuffer(buffer)`\n * * A plain array using `#fromArray(array)`\n *\n * Note:\n * See the documentation of [WebGLRenderingContext.bufferData](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bufferData)\n * for more info on buffer usage.\n * @api\n */\nclass WebGLArrayBuffer {\n  /**\n   * @param {number} type Buffer type, either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER.\n   * @param {number} [usage] Intended usage, either `STATIC_DRAW`, `STREAM_DRAW` or `DYNAMIC_DRAW`.\n   * Default is `DYNAMIC_DRAW`.\n   */\n  constructor(type, usage) {\n    /**\n     * @private\n     * @type {Float32Array|Uint32Array}\n     */\n    this.array = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.type = type;\n\n    assert(type === ARRAY_BUFFER || type === ELEMENT_ARRAY_BUFFER, 62);\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.usage = usage !== undefined ? usage : BufferUsage.STATIC_DRAW;\n  }\n\n  /**\n   * Populates the buffer with an array of the given size (all values will be zeroes).\n   * @param {number} size Array size\n   */\n  ofSize(size) {\n    this.array = new (getArrayClassForType(this.type))(size);\n  }\n\n  /**\n   * Populates the buffer with an array of the given size.\n   * @param {Array<number>} array Numerical array\n   */\n  fromArray(array) {\n    this.array = getArrayClassForType(this.type).from(array);\n  }\n\n  /**\n   * Populates the buffer with a raw binary array buffer.\n   * @param {ArrayBuffer} buffer Raw binary buffer to populate the array with. Note that this buffer must have been\n   * initialized for the same typed array class.\n   */\n  fromArrayBuffer(buffer) {\n    this.array = new (getArrayClassForType(this.type))(buffer);\n  }\n\n  /**\n   * @return {number} Buffer type.\n   */\n  getType() {\n    return this.type;\n  }\n\n  /**\n   * Will return null if the buffer was not initialized\n   * @return {Float32Array|Uint32Array} Array.\n   */\n  getArray() {\n    return this.array;\n  }\n\n  /**\n   * @return {number} Usage.\n   */\n  getUsage() {\n    return this.usage;\n  }\n\n  /**\n   * Will return 0 if the buffer is not initialized\n   * @return {number} Array size\n   */\n  getSize() {\n    return this.array ? this.array.length : 0;\n  }\n}\n\n/**\n * Returns a typed array constructor based on the given buffer type\n * @param {number} type Buffer type, either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER.\n * @return {Float32ArrayConstructor|Uint32ArrayConstructor} The typed array class to use for this buffer.\n */\nexport function getArrayClassForType(type) {\n  switch (type) {\n    case ARRAY_BUFFER:\n      return Float32Array;\n    case ELEMENT_ARRAY_BUFFER:\n      return Uint32Array;\n    default:\n      return Float32Array;\n  }\n}\n\nexport default WebGLArrayBuffer;\n","/**\n * @module ol/webgl/ContextEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  LOST: 'webglcontextlost',\n  RESTORED: 'webglcontextrestored',\n};\n","/**\n * @module ol/webgl/PostProcessingPass\n */\n\nimport {getUid} from '../util.js';\n\nconst DEFAULT_VERTEX_SHADER = `\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n`;\n\nconst DEFAULT_FRAGMENT_SHADER = `\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n`;\n\n/**\n * @typedef {Object} Options\n * @property {WebGLRenderingContext} webGlContext WebGL context; mandatory.\n * @property {number} [scaleRatio] Scale ratio; if < 1, the post process will render to a texture smaller than\n * the main canvas that will then be sampled up (useful for saving resource on blur steps).\n * @property {string} [vertexShader] Vertex shader source\n * @property {string} [fragmentShader] Fragment shader source\n * @property {Object<string,import(\"./Helper\").UniformValue>} [uniforms] Uniform definitions for the post process step\n */\n\n/**\n * @typedef {Object} UniformInternalDescription\n * @property {import(\"./Helper\").UniformValue} value Value\n * @property {WebGLUniformLocation} location Location\n * @property {WebGLTexture} [texture] Texture\n * @private\n */\n\n/**\n * @classdesc\n * This class is used to define Post Processing passes with custom shaders and uniforms.\n * This is used internally by {@link module:ol/webgl/Helper~WebGLHelper}.\n *\n * Please note that the final output on the DOM canvas is expected to have premultiplied alpha, which means that\n * a pixel which is 100% red with an opacity of 50% must have a color of (r=0.5, g=0, b=0, a=0.5).\n * Failing to provide pixel colors with premultiplied alpha will result in render anomalies.\n *\n * The default post-processing pass does *not* multiply color values with alpha value, it expects color values to be\n * premultiplied.\n *\n * Default shaders are shown hereafter:\n *\n * * Vertex shader:\n *\n *   ```\n *   precision mediump float;\n *\n *   attribute vec2 a_position;\n *   varying vec2 v_texCoord;\n *   varying vec2 v_screenCoord;\n *\n *   uniform vec2 u_screenSize;\n *\n *   void main() {\n *     v_texCoord = a_position * 0.5 + 0.5;\n *     v_screenCoord = v_texCoord * u_screenSize;\n *     gl_Position = vec4(a_position, 0.0, 1.0);\n *   }\n *   ```\n *\n * * Fragment shader:\n *\n *   ```\n *   precision mediump float;\n *\n *   uniform sampler2D u_image;\n *   uniform float u_opacity;\n *\n *   varying vec2 v_texCoord;\n *\n *   void main() {\n *     gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n *   }\n *   ```\n *\n * @api\n */\nclass WebGLPostProcessingPass {\n  /**\n   * @param {Options} options Options.\n   */\n  constructor(options) {\n    this.gl_ = options.webGlContext;\n    const gl = this.gl_;\n\n    this.scaleRatio_ = options.scaleRatio || 1;\n\n    this.renderTargetTexture_ = gl.createTexture();\n    this.renderTargetTextureSize_ = null;\n\n    this.frameBuffer_ = gl.createFramebuffer();\n\n    // compile the program for the frame buffer\n    // TODO: make compilation errors show up\n    const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(\n      vertexShader,\n      options.vertexShader || DEFAULT_VERTEX_SHADER\n    );\n    gl.compileShader(vertexShader);\n    const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(\n      fragmentShader,\n      options.fragmentShader || DEFAULT_FRAGMENT_SHADER\n    );\n    gl.compileShader(fragmentShader);\n    this.renderTargetProgram_ = gl.createProgram();\n    gl.attachShader(this.renderTargetProgram_, vertexShader);\n    gl.attachShader(this.renderTargetProgram_, fragmentShader);\n    gl.linkProgram(this.renderTargetProgram_);\n\n    // bind the vertices buffer for the frame buffer\n    this.renderTargetVerticesBuffer_ = gl.createBuffer();\n    const verticesArray = [-1, -1, 1, -1, -1, 1, 1, -1, 1, 1, -1, 1];\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.renderTargetVerticesBuffer_);\n    gl.bufferData(\n      gl.ARRAY_BUFFER,\n      new Float32Array(verticesArray),\n      gl.STATIC_DRAW\n    );\n\n    this.renderTargetAttribLocation_ = gl.getAttribLocation(\n      this.renderTargetProgram_,\n      'a_position'\n    );\n    this.renderTargetUniformLocation_ = gl.getUniformLocation(\n      this.renderTargetProgram_,\n      'u_screenSize'\n    );\n    this.renderTargetOpacityLocation_ = gl.getUniformLocation(\n      this.renderTargetProgram_,\n      'u_opacity'\n    );\n    this.renderTargetTextureLocation_ = gl.getUniformLocation(\n      this.renderTargetProgram_,\n      'u_image'\n    );\n\n    /**\n     * Holds info about custom uniforms used in the post processing pass\n     * @type {Array<UniformInternalDescription>}\n     * @private\n     */\n    this.uniforms_ = [];\n    options.uniforms &&\n      Object.keys(options.uniforms).forEach((name) => {\n        this.uniforms_.push({\n          value: options.uniforms[name],\n          location: gl.getUniformLocation(this.renderTargetProgram_, name),\n        });\n      });\n  }\n\n  /**\n   * Get the WebGL rendering context\n   * @return {WebGLRenderingContext} The rendering context.\n   * @api\n   */\n  getGL() {\n    return this.gl_;\n  }\n\n  /**\n   * Initialize the render target texture of the post process, make sure it is at the\n   * right size and bind it as a render target for the next draw calls.\n   * The last step to be initialized will be the one where the primitives are rendered.\n   * @param {import(\"../Map.js\").FrameState} frameState current frame state\n   * @api\n   */\n  init(frameState) {\n    const gl = this.getGL();\n    const textureSize = [\n      gl.drawingBufferWidth * this.scaleRatio_,\n      gl.drawingBufferHeight * this.scaleRatio_,\n    ];\n\n    // rendering goes to my buffer\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.getFrameBuffer());\n    gl.viewport(0, 0, textureSize[0], textureSize[1]);\n\n    // if size has changed: adjust canvas & render target texture\n    if (\n      !this.renderTargetTextureSize_ ||\n      this.renderTargetTextureSize_[0] !== textureSize[0] ||\n      this.renderTargetTextureSize_[1] !== textureSize[1]\n    ) {\n      this.renderTargetTextureSize_ = textureSize;\n\n      // create a new texture\n      const level = 0;\n      const internalFormat = gl.RGBA;\n      const border = 0;\n      const format = gl.RGBA;\n      const type = gl.UNSIGNED_BYTE;\n      const data = null;\n      gl.bindTexture(gl.TEXTURE_2D, this.renderTargetTexture_);\n      gl.texImage2D(\n        gl.TEXTURE_2D,\n        level,\n        internalFormat,\n        textureSize[0],\n        textureSize[1],\n        border,\n        format,\n        type,\n        data\n      );\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n      // bind the texture to the framebuffer\n      gl.framebufferTexture2D(\n        gl.FRAMEBUFFER,\n        gl.COLOR_ATTACHMENT0,\n        gl.TEXTURE_2D,\n        this.renderTargetTexture_,\n        0\n      );\n    }\n  }\n\n  /**\n   * Render to the next postprocessing pass (or to the canvas if final pass).\n   * @param {import(\"../Map.js\").FrameState} frameState current frame state\n   * @param {WebGLPostProcessingPass} [nextPass] Next pass, optional\n   * @param {function(WebGLRenderingContext, import(\"../Map.js\").FrameState):void} [preCompose] Called before composing.\n   * @param {function(WebGLRenderingContext, import(\"../Map.js\").FrameState):void} [postCompose] Called before composing.\n   * @api\n   */\n  apply(frameState, nextPass, preCompose, postCompose) {\n    const gl = this.getGL();\n    const size = frameState.size;\n\n    gl.bindFramebuffer(\n      gl.FRAMEBUFFER,\n      nextPass ? nextPass.getFrameBuffer() : null\n    );\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, this.renderTargetTexture_);\n\n    if (!nextPass) {\n      // clear the canvas if we are the first to render to it\n      // and preserveDrawingBuffer is true\n      const canvasId = getUid(gl.canvas);\n      if (!frameState.renderTargets[canvasId]) {\n        const attributes = gl.getContextAttributes();\n        if (attributes && attributes.preserveDrawingBuffer) {\n          gl.clearColor(0.0, 0.0, 0.0, 0.0);\n          gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n\n        frameState.renderTargets[canvasId] = true;\n      }\n    }\n\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.renderTargetVerticesBuffer_);\n\n    gl.useProgram(this.renderTargetProgram_);\n    gl.enableVertexAttribArray(this.renderTargetAttribLocation_);\n    gl.vertexAttribPointer(\n      this.renderTargetAttribLocation_,\n      2,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    gl.uniform2f(this.renderTargetUniformLocation_, size[0], size[1]);\n    gl.uniform1i(this.renderTargetTextureLocation_, 0);\n\n    const opacity = frameState.layerStatesArray[frameState.layerIndex].opacity;\n    gl.uniform1f(this.renderTargetOpacityLocation_, opacity);\n\n    this.applyUniforms(frameState);\n\n    if (preCompose) {\n      preCompose(gl, frameState);\n    }\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n    if (postCompose) {\n      postCompose(gl, frameState);\n    }\n  }\n\n  /**\n   * @return {WebGLFramebuffer} Frame buffer\n   * @api\n   */\n  getFrameBuffer() {\n    return this.frameBuffer_;\n  }\n\n  /**\n   * Sets the custom uniforms based on what was given in the constructor.\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   * @private\n   */\n  applyUniforms(frameState) {\n    const gl = this.getGL();\n\n    let value;\n    let textureSlot = 1;\n    this.uniforms_.forEach(function (uniform) {\n      value =\n        typeof uniform.value === 'function'\n          ? uniform.value(frameState)\n          : uniform.value;\n\n      // apply value based on type\n      if (value instanceof HTMLCanvasElement || value instanceof ImageData) {\n        // create a texture & put data\n        if (!uniform.texture) {\n          uniform.texture = gl.createTexture();\n        }\n        gl.activeTexture(gl[`TEXTURE${textureSlot}`]);\n        gl.bindTexture(gl.TEXTURE_2D, uniform.texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n        if (value instanceof ImageData) {\n          gl.texImage2D(\n            gl.TEXTURE_2D,\n            0,\n            gl.RGBA,\n            gl.RGBA,\n            value.width,\n            value.height,\n            0,\n            gl.UNSIGNED_BYTE,\n            new Uint8Array(value.data)\n          );\n        } else {\n          gl.texImage2D(\n            gl.TEXTURE_2D,\n            0,\n            gl.RGBA,\n            gl.RGBA,\n            gl.UNSIGNED_BYTE,\n            value\n          );\n        }\n\n        // fill texture slots\n        gl.uniform1i(uniform.location, textureSlot++);\n      } else if (Array.isArray(value)) {\n        switch (value.length) {\n          case 2:\n            gl.uniform2f(uniform.location, value[0], value[1]);\n            return;\n          case 3:\n            gl.uniform3f(uniform.location, value[0], value[1], value[2]);\n            return;\n          case 4:\n            gl.uniform4f(\n              uniform.location,\n              value[0],\n              value[1],\n              value[2],\n              value[3]\n            );\n            return;\n          default:\n            return;\n        }\n      } else if (typeof value === 'number') {\n        gl.uniform1f(uniform.location, value);\n      }\n    });\n  }\n}\n\nexport default WebGLPostProcessingPass;\n","/**\n * @module ol/webgl/Helper\n */\nimport ContextEventType from '../webgl/ContextEventType.js';\nimport Disposable from '../Disposable.js';\nimport WebGLPostProcessingPass from './PostProcessingPass.js';\nimport {\n  FLOAT,\n  UNSIGNED_BYTE,\n  UNSIGNED_INT,\n  UNSIGNED_SHORT,\n  getContext,\n} from '../webgl.js';\nimport {clear} from '../obj.js';\nimport {\n  compose as composeTransform,\n  create as createTransform,\n  reset as resetTransform,\n  rotate as rotateTransform,\n  scale as scaleTransform,\n} from '../transform.js';\nimport {create, fromTransform} from '../vec/mat4.js';\nimport {getUid} from '../util.js';\n\n/**\n * @typedef {Object} BufferCacheEntry\n * @property {import(\"./Buffer.js\").default} buffer Buffer.\n * @property {WebGLBuffer} webGlBuffer WebGlBuffer.\n */\n\n/**\n * Shader types, either `FRAGMENT_SHADER` or `VERTEX_SHADER`.\n * @enum {number}\n */\nexport const ShaderType = {\n  FRAGMENT_SHADER: 0x8b30,\n  VERTEX_SHADER: 0x8b31,\n};\n\n/**\n * Names of uniforms made available to all shaders.\n * Please note: changing these *will* break custom shaders!\n * @enum {string}\n */\nexport const DefaultUniform = {\n  PROJECTION_MATRIX: 'u_projectionMatrix',\n  OFFSET_SCALE_MATRIX: 'u_offsetScaleMatrix',\n  OFFSET_ROTATION_MATRIX: 'u_offsetRotateMatrix',\n  TIME: 'u_time',\n  ZOOM: 'u_zoom',\n  RESOLUTION: 'u_resolution',\n  SIZE_PX: 'u_sizePx',\n  PIXEL_RATIO: 'u_pixelRatio',\n};\n\n/**\n * Attribute types, either `UNSIGNED_BYTE`, `UNSIGNED_SHORT`, `UNSIGNED_INT` or `FLOAT`\n * Note: an attribute stored in a `Float32Array` should be of type `FLOAT`.\n * @enum {number}\n */\nexport const AttributeType = {\n  UNSIGNED_BYTE: UNSIGNED_BYTE,\n  UNSIGNED_SHORT: UNSIGNED_SHORT,\n  UNSIGNED_INT: UNSIGNED_INT,\n  FLOAT: FLOAT,\n};\n\n/**\n * Description of an attribute in a buffer\n * @typedef {Object} AttributeDescription\n * @property {string} name Attribute name to use in shaders\n * @property {number} size Number of components per attributes\n * @property {AttributeType} [type] Attribute type, i.e. number of bytes used to store the value. This is\n * determined by the class of typed array which the buffer uses (eg. `Float32Array` for a `FLOAT` attribute).\n * Default is `FLOAT`.\n */\n\n/**\n * @typedef {number|Array<number>|HTMLCanvasElement|HTMLImageElement|ImageData|import(\"../transform\").Transform} UniformLiteralValue\n */\n\n/**\n * Uniform value can be a number, array of numbers (2 to 4), canvas element or a callback returning\n * one of the previous types.\n * @typedef {UniformLiteralValue|function(import(\"../Map.js\").FrameState):UniformLiteralValue} UniformValue\n */\n\n/**\n * @typedef {Object} PostProcessesOptions\n * @property {number} [scaleRatio] Scale ratio; if < 1, the post process will render to a texture smaller than\n * the main canvas which will then be sampled up (useful for saving resource on blur steps).\n * @property {string} [vertexShader] Vertex shader source\n * @property {string} [fragmentShader] Fragment shader source\n * @property {Object<string,UniformValue>} [uniforms] Uniform definitions for the post process step\n */\n\n/**\n * @typedef {Object} Options\n * @property {Object<string,UniformValue>} [uniforms] Uniform definitions; property names must match the uniform\n * names in the provided or default shaders.\n * @property {Array<PostProcessesOptions>} [postProcesses] Post-processes definitions\n * @property {string} [canvasCacheKey] The cache key for the canvas.\n */\n\n/**\n * @typedef {Object} UniformInternalDescription\n * @property {string} name Name\n * @property {UniformValue} [value] Value\n * @property {UniformValue} [prevValue] The previous value.\n * @property {WebGLTexture} [texture] Texture\n * @private\n */\n\n/**\n * @typedef {Object} CanvasCacheItem\n * @property {HTMLCanvasElement} canvas Canvas element.\n * @property {number} users The count of users of this canvas.\n */\n\n/**\n * @type {Object<string,CanvasCacheItem>}\n */\nconst canvasCache = {};\n\n/**\n * @param {string} key The cache key for the canvas.\n * @return {string} The shared cache key.\n */\nfunction getSharedCanvasCacheKey(key) {\n  return 'shared/' + key;\n}\n\nlet uniqueCanvasCacheKeyCount = 0;\n\n/**\n * @return {string} The unique cache key.\n */\nfunction getUniqueCanvasCacheKey() {\n  const key = 'unique/' + uniqueCanvasCacheKeyCount;\n  uniqueCanvasCacheKeyCount += 1;\n  return key;\n}\n\n/**\n * @param {string} key The cache key for the canvas.\n * @return {HTMLCanvasElement} The canvas.\n */\nfunction getCanvas(key) {\n  let cacheItem = canvasCache[key];\n  if (!cacheItem) {\n    const canvas = document.createElement('canvas');\n    canvas.style.position = 'absolute';\n    canvas.style.left = '0';\n    cacheItem = {users: 0, canvas};\n    canvasCache[key] = cacheItem;\n  }\n\n  cacheItem.users += 1;\n  return cacheItem.canvas;\n}\n\n/**\n * @param {string} key The cache key for the canvas.\n */\nfunction releaseCanvas(key) {\n  const cacheItem = canvasCache[key];\n  if (!cacheItem) {\n    return;\n  }\n\n  cacheItem.users -= 1;\n  if (cacheItem.users > 0) {\n    return;\n  }\n\n  const canvas = cacheItem.canvas;\n  const gl = getContext(canvas);\n  const extension = gl.getExtension('WEBGL_lose_context');\n  if (extension) {\n    extension.loseContext();\n  }\n\n  delete canvasCache[key];\n}\n\n/**\n * @classdesc\n * This class is intended to provide low-level functions related to WebGL rendering, so that accessing\n * directly the WebGL API should not be required anymore.\n *\n * Several operations are handled by the `WebGLHelper` class:\n *\n * ### Define custom shaders and uniforms\n *\n *   *Shaders* are low-level programs executed on the GPU and written in GLSL. There are two types of shaders:\n *\n *   Vertex shaders are used to manipulate the position and attribute of *vertices* of rendered primitives (ie. corners of a square).\n *   Outputs are:\n *\n *   * `gl_Position`: position of the vertex in screen space\n *\n *   * Varyings usually prefixed with `v_` are passed on to the fragment shader\n *\n *   Fragment shaders are used to control the actual color of the pixels drawn on screen. Their only output is `gl_FragColor`.\n *\n *   Both shaders can take *uniforms* or *attributes* as input. Attributes are explained later. Uniforms are common, read-only values that\n *   can be changed at every frame and can be of type float, arrays of float or images.\n *\n *   Shaders must be compiled and assembled into a program like so:\n *   ```js\n *   // here we simply create two shaders and assemble them in a program which is then used\n *   // for subsequent rendering calls; note how a frameState is required to set up a program,\n *   // as several default uniforms are computed from it (projection matrix, zoom level, etc.)\n *   const vertexShader = new WebGLVertex(VERTEX_SHADER);\n *   const fragmentShader = new WebGLFragment(FRAGMENT_SHADER);\n *   const program = this.context.getProgram(fragmentShader, vertexShader);\n *   helper.useProgram(this.program, frameState);\n *   ```\n *\n *   Uniforms are defined using the `uniforms` option and can either be explicit values or callbacks taking the frame state as argument.\n *   You can also change their value along the way like so:\n *   ```js\n *   helper.setUniformFloatValue('u_value', valueAsNumber);\n *   ```\n *\n * ### Defining post processing passes\n *\n *   *Post processing* describes the act of rendering primitives to a texture, and then rendering this texture to the final canvas\n *   while applying special effects in screen space.\n *   Typical uses are: blurring, color manipulation, depth of field, filtering...\n *\n *   The `WebGLHelper` class offers the possibility to define post processes at creation time using the `postProcesses` option.\n *   A post process step accepts the following options:\n *\n *   * `fragmentShader` and `vertexShader`: text literals in GLSL language that will be compiled and used in the post processing step.\n *   * `uniforms`: uniforms can be defined for the post processing steps just like for the main render.\n *   * `scaleRatio`: allows using an intermediate texture smaller or higher than the final canvas in the post processing step.\n *     This is typically used in blur steps to reduce the performance overhead by using an already downsampled texture as input.\n *\n *   The {@link module:ol/webgl/PostProcessingPass~WebGLPostProcessingPass} class is used internally, refer to its documentation for more info.\n *\n * ### Binding WebGL buffers and flushing data into them\n *\n *   Data that must be passed to the GPU has to be transferred using {@link module:ol/webgl/Buffer~WebGLArrayBuffer} objects.\n *   A buffer has to be created only once, but must be bound every time the buffer content will be used for rendering.\n *   This is done using {@link bindBuffer}.\n *   When the buffer's array content has changed, the new data has to be flushed to the GPU memory; this is done using\n *   {@link flushBufferData}. Note: this operation is expensive and should be done as infrequently as possible.\n *\n *   When binding an array buffer, a `target` parameter must be given: it should be either {@link module:ol/webgl.ARRAY_BUFFER}\n *   (if the buffer contains vertices data) or {@link module:ol/webgl.ELEMENT_ARRAY_BUFFER} (if the buffer contains indices data).\n *\n *   Examples below:\n *   ```js\n *   // at initialization phase\n *   const verticesBuffer = new WebGLArrayBuffer([], DYNAMIC_DRAW);\n *   const indicesBuffer = new WebGLArrayBuffer([], DYNAMIC_DRAW);\n *\n *   // when array values have changed\n *   helper.flushBufferData(ARRAY_BUFFER, this.verticesBuffer);\n *   helper.flushBufferData(ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n *\n *   // at rendering phase\n *   helper.bindBuffer(ARRAY_BUFFER, this.verticesBuffer);\n *   helper.bindBuffer(ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n *   ```\n *\n * ### Specifying attributes\n *\n *   The GPU only receives the data as arrays of numbers. These numbers must be handled differently depending on what it describes (position, texture coordinate...).\n *   Attributes are used to specify these uses. Specify the attribute names with\n *   {@link module:ol/webgl/Helper~WebGLHelper#enableAttributes} (see code snippet below).\n *\n *   Please note that you will have to specify the type and offset of the attributes in the data array. You can refer to the documentation of [WebGLRenderingContext.vertexAttribPointer](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer) for more explanation.\n *   ```js\n *   // here we indicate that the data array has the following structure:\n *   // [posX, posY, offsetX, offsetY, texCoordU, texCoordV, posX, posY, ...]\n *   helper.enableAttributes([\n *     {\n *        name: 'a_position',\n *        size: 2\n *     },\n *     {\n *       name: 'a_offset',\n *       size: 2\n *     },\n *     {\n *       name: 'a_texCoord',\n *       size: 2\n *     }\n *   ])\n *   ```\n *\n * ### Rendering primitives\n *\n *   Once all the steps above have been achieved, rendering primitives to the screen is done using {@link prepareDraw}, {@link drawElements} and {@link finalizeDraw}.\n *   ```js\n *   // frame preparation step\n *   helper.prepareDraw(frameState);\n *\n *   // call this for every data array that has to be rendered on screen\n *   helper.drawElements(0, this.indicesBuffer.getArray().length);\n *\n *   // finalize the rendering by applying post processes\n *   helper.finalizeDraw(frameState);\n *   ```\n *\n * For an example usage of this class, refer to {@link module:ol/renderer/webgl/PointsLayer~WebGLPointsLayerRenderer}.\n */\nclass WebGLHelper extends Disposable {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super();\n    options = options || {};\n\n    /** @private */\n    this.boundHandleWebGLContextLost_ = this.handleWebGLContextLost.bind(this);\n\n    /** @private */\n    this.boundHandleWebGLContextRestored_ =\n      this.handleWebGLContextRestored.bind(this);\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.canvasCacheKey_ = options.canvasCacheKey\n      ? getSharedCanvasCacheKey(options.canvasCacheKey)\n      : getUniqueCanvasCacheKey();\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement}\n     */\n    this.canvas_ = getCanvas(this.canvasCacheKey_);\n\n    /**\n     * @private\n     * @type {WebGLRenderingContext}\n     */\n    this.gl_ = getContext(this.canvas_);\n\n    /**\n     * @private\n     * @type {!Object<string, BufferCacheEntry>}\n     */\n    this.bufferCache_ = {};\n\n    /**\n     * @private\n     * @type {Object<string, Object>}\n     */\n    this.extensionCache_ = {};\n\n    /**\n     * @private\n     * @type {WebGLProgram}\n     */\n    this.currentProgram_ = null;\n\n    this.canvas_.addEventListener(\n      ContextEventType.LOST,\n      this.boundHandleWebGLContextLost_\n    );\n    this.canvas_.addEventListener(\n      ContextEventType.RESTORED,\n      this.boundHandleWebGLContextRestored_\n    );\n\n    /**\n     * @private\n     * @type {import(\"../transform.js\").Transform}\n     */\n    this.offsetRotateMatrix_ = createTransform();\n\n    /**\n     * @private\n     * @type {import(\"../transform.js\").Transform}\n     */\n    this.offsetScaleMatrix_ = createTransform();\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.tmpMat4_ = create();\n\n    /**\n     * @private\n     * @type {Object<string, WebGLUniformLocation>}\n     */\n    this.uniformLocations_ = {};\n\n    /**\n     * @private\n     * @type {Object<string, number>}\n     */\n    this.attribLocations_ = {};\n\n    /**\n     * Holds info about custom uniforms used in the post processing pass.\n     * If the uniform is a texture, the WebGL Texture object will be stored here.\n     * @type {Array<UniformInternalDescription>}\n     * @private\n     */\n    this.uniforms_ = [];\n    if (options.uniforms) {\n      this.setUniforms(options.uniforms);\n    }\n\n    const gl = this.getGL();\n\n    /**\n     * An array of PostProcessingPass objects is kept in this variable, built from the steps provided in the\n     * options. If no post process was given, a default one is used (so as not to have to make an exception to\n     * the frame buffer logic).\n     * @type {Array<WebGLPostProcessingPass>}\n     * @private\n     */\n    this.postProcessPasses_ = options.postProcesses\n      ? options.postProcesses.map(function (options) {\n          return new WebGLPostProcessingPass({\n            webGlContext: gl,\n            scaleRatio: options.scaleRatio,\n            vertexShader: options.vertexShader,\n            fragmentShader: options.fragmentShader,\n            uniforms: options.uniforms,\n          });\n        })\n      : [new WebGLPostProcessingPass({webGlContext: gl})];\n\n    /**\n     * @type {string|null}\n     * @private\n     */\n    this.shaderCompileErrors_ = null;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.startTime_ = Date.now();\n  }\n\n  /**\n   * @param {Object<string, UniformValue>} uniforms Uniform definitions.\n   */\n  setUniforms(uniforms) {\n    this.uniforms_ = [];\n    for (const name in uniforms) {\n      this.uniforms_.push({\n        name: name,\n        value: uniforms[name],\n      });\n    }\n    this.uniformLocations_ = {};\n  }\n\n  /**\n   * @param {string} canvasCacheKey The canvas cache key.\n   * @return {boolean} The provided key matches the one this helper was constructed with.\n   */\n  canvasCacheKeyMatches(canvasCacheKey) {\n    return this.canvasCacheKey_ === getSharedCanvasCacheKey(canvasCacheKey);\n  }\n\n  /**\n   * Get a WebGL extension.  If the extension is not supported, null is returned.\n   * Extensions are cached after they are enabled for the first time.\n   * @param {string} name The extension name.\n   * @return {Object|null} The extension or null if not supported.\n   */\n  getExtension(name) {\n    if (name in this.extensionCache_) {\n      return this.extensionCache_[name];\n    }\n    const extension = this.gl_.getExtension(name);\n    this.extensionCache_[name] = extension;\n    return extension;\n  }\n\n  /**\n   * Just bind the buffer if it's in the cache. Otherwise create\n   * the WebGL buffer, bind it, populate it, and add an entry to\n   * the cache.\n   * @param {import(\"./Buffer\").default} buffer Buffer.\n   */\n  bindBuffer(buffer) {\n    const gl = this.getGL();\n    const bufferKey = getUid(buffer);\n    let bufferCache = this.bufferCache_[bufferKey];\n    if (!bufferCache) {\n      const webGlBuffer = gl.createBuffer();\n      bufferCache = {\n        buffer: buffer,\n        webGlBuffer: webGlBuffer,\n      };\n      this.bufferCache_[bufferKey] = bufferCache;\n    }\n    gl.bindBuffer(buffer.getType(), bufferCache.webGlBuffer);\n  }\n\n  /**\n   * Update the data contained in the buffer array; this is required for the\n   * new data to be rendered\n   * @param {import(\"./Buffer\").default} buffer Buffer.\n   */\n  flushBufferData(buffer) {\n    const gl = this.getGL();\n    this.bindBuffer(buffer);\n    gl.bufferData(buffer.getType(), buffer.getArray(), buffer.getUsage());\n  }\n\n  /**\n   * @param {import(\"./Buffer.js\").default} buf Buffer.\n   */\n  deleteBuffer(buf) {\n    const gl = this.getGL();\n    const bufferKey = getUid(buf);\n    const bufferCacheEntry = this.bufferCache_[bufferKey];\n    if (bufferCacheEntry && !gl.isContextLost()) {\n      gl.deleteBuffer(bufferCacheEntry.webGlBuffer);\n    }\n    delete this.bufferCache_[bufferKey];\n  }\n\n  /**\n   * Clean up.\n   */\n  disposeInternal() {\n    this.canvas_.removeEventListener(\n      ContextEventType.LOST,\n      this.boundHandleWebGLContextLost_\n    );\n    this.canvas_.removeEventListener(\n      ContextEventType.RESTORED,\n      this.boundHandleWebGLContextRestored_\n    );\n\n    releaseCanvas(this.canvasCacheKey_);\n\n    delete this.gl_;\n    delete this.canvas_;\n  }\n\n  /**\n   * Clear the buffer & set the viewport to draw.\n   * Post process passes will be initialized here, the first one being bound as a render target for\n   * subsequent draw calls.\n   * @param {import(\"../Map.js\").FrameState} frameState current frame state\n   * @param {boolean} [disableAlphaBlend] If true, no alpha blending will happen.\n   */\n  prepareDraw(frameState, disableAlphaBlend) {\n    const gl = this.getGL();\n    const canvas = this.getCanvas();\n    const size = frameState.size;\n    const pixelRatio = frameState.pixelRatio;\n\n    canvas.width = size[0] * pixelRatio;\n    canvas.height = size[1] * pixelRatio;\n    canvas.style.width = size[0] + 'px';\n    canvas.style.height = size[1] + 'px';\n\n    // loop backwards in post processes list\n    for (let i = this.postProcessPasses_.length - 1; i >= 0; i--) {\n      this.postProcessPasses_[i].init(frameState);\n    }\n\n    gl.bindTexture(gl.TEXTURE_2D, null);\n\n    gl.clearColor(0.0, 0.0, 0.0, 0.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, disableAlphaBlend ? gl.ZERO : gl.ONE_MINUS_SRC_ALPHA);\n  }\n\n  /**\n   * Clear the render target & bind it for future draw operations.\n   * This is similar to `prepareDraw`, only post processes will not be applied.\n   * Note: the whole viewport will be drawn to the render target, regardless of its size.\n   * @param {import(\"../Map.js\").FrameState} frameState current frame state\n   * @param {import(\"./RenderTarget.js\").default} renderTarget Render target to draw to\n   * @param {boolean} [disableAlphaBlend] If true, no alpha blending will happen.\n   */\n  prepareDrawToRenderTarget(frameState, renderTarget, disableAlphaBlend) {\n    const gl = this.getGL();\n    const size = renderTarget.getSize();\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, renderTarget.getFramebuffer());\n    gl.viewport(0, 0, size[0], size[1]);\n    gl.bindTexture(gl.TEXTURE_2D, renderTarget.getTexture());\n    gl.clearColor(0.0, 0.0, 0.0, 0.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, disableAlphaBlend ? gl.ZERO : gl.ONE_MINUS_SRC_ALPHA);\n  }\n\n  /**\n   * Execute a draw call based on the currently bound program, texture, buffers, attributes.\n   * @param {number} start Start index.\n   * @param {number} end End index.\n   */\n  drawElements(start, end) {\n    const gl = this.getGL();\n    this.getExtension('OES_element_index_uint');\n\n    const elementType = gl.UNSIGNED_INT;\n    const elementSize = 4;\n\n    const numItems = end - start;\n    const offsetInBytes = start * elementSize;\n    gl.drawElements(gl.TRIANGLES, numItems, elementType, offsetInBytes);\n  }\n\n  /**\n   * Apply the successive post process passes which will eventually render to the actual canvas.\n   * @param {import(\"../Map.js\").FrameState} frameState current frame state\n   * @param {function(WebGLRenderingContext, import(\"../Map.js\").FrameState):void} [preCompose] Called before composing.\n   * @param {function(WebGLRenderingContext, import(\"../Map.js\").FrameState):void} [postCompose] Called before composing.\n   */\n  finalizeDraw(frameState, preCompose, postCompose) {\n    // apply post processes using the next one as target\n    for (let i = 0, ii = this.postProcessPasses_.length; i < ii; i++) {\n      if (i === ii - 1) {\n        this.postProcessPasses_[i].apply(\n          frameState,\n          null,\n          preCompose,\n          postCompose\n        );\n      } else {\n        this.postProcessPasses_[i].apply(\n          frameState,\n          this.postProcessPasses_[i + 1]\n        );\n      }\n    }\n  }\n\n  /**\n   * @return {HTMLCanvasElement} Canvas.\n   */\n  getCanvas() {\n    return this.canvas_;\n  }\n\n  /**\n   * Get the WebGL rendering context\n   * @return {WebGLRenderingContext} The rendering context.\n   */\n  getGL() {\n    return this.gl_;\n  }\n\n  /**\n   * Sets the default matrix uniforms for a given frame state. This is called internally in `prepareDraw`.\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   */\n  applyFrameState(frameState) {\n    const size = frameState.size;\n    const rotation = frameState.viewState.rotation;\n    const pixelRatio = frameState.pixelRatio;\n\n    const offsetScaleMatrix = resetTransform(this.offsetScaleMatrix_);\n    scaleTransform(offsetScaleMatrix, 2 / size[0], 2 / size[1]);\n\n    const offsetRotateMatrix = resetTransform(this.offsetRotateMatrix_);\n    if (rotation !== 0) {\n      rotateTransform(offsetRotateMatrix, -rotation);\n    }\n\n    this.setUniformMatrixValue(\n      DefaultUniform.OFFSET_SCALE_MATRIX,\n      fromTransform(this.tmpMat4_, offsetScaleMatrix)\n    );\n    this.setUniformMatrixValue(\n      DefaultUniform.OFFSET_ROTATION_MATRIX,\n      fromTransform(this.tmpMat4_, offsetRotateMatrix)\n    );\n\n    this.setUniformFloatValue(\n      DefaultUniform.TIME,\n      (Date.now() - this.startTime_) * 0.001\n    );\n    this.setUniformFloatValue(DefaultUniform.ZOOM, frameState.viewState.zoom);\n    this.setUniformFloatValue(\n      DefaultUniform.RESOLUTION,\n      frameState.viewState.resolution\n    );\n    this.setUniformFloatValue(DefaultUniform.PIXEL_RATIO, pixelRatio);\n    this.setUniformFloatVec2(DefaultUniform.SIZE_PX, [size[0], size[1]]);\n  }\n\n  /**\n   * Sets the custom uniforms based on what was given in the constructor. This is called internally in `prepareDraw`.\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   */\n  applyUniforms(frameState) {\n    const gl = this.getGL();\n\n    let value;\n    let textureSlot = 0;\n    this.uniforms_.forEach((uniform) => {\n      value =\n        typeof uniform.value === 'function'\n          ? uniform.value(frameState)\n          : uniform.value;\n\n      // apply value based on type\n      if (\n        value instanceof HTMLCanvasElement ||\n        value instanceof HTMLImageElement ||\n        value instanceof ImageData\n      ) {\n        // create a texture & put data\n        if (!uniform.texture) {\n          uniform.prevValue = undefined;\n          uniform.texture = gl.createTexture();\n        }\n        gl.activeTexture(gl[`TEXTURE${textureSlot}`]);\n        gl.bindTexture(gl.TEXTURE_2D, uniform.texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n        const imageReady =\n          !(value instanceof HTMLImageElement) ||\n          /** @type {HTMLImageElement} */ (value).complete;\n        if (imageReady && uniform.prevValue !== value) {\n          uniform.prevValue = value;\n          gl.texImage2D(\n            gl.TEXTURE_2D,\n            0,\n            gl.RGBA,\n            gl.RGBA,\n            gl.UNSIGNED_BYTE,\n            value\n          );\n        }\n\n        // fill texture slots by increasing index\n        gl.uniform1i(this.getUniformLocation(uniform.name), textureSlot++);\n      } else if (Array.isArray(value) && value.length === 6) {\n        this.setUniformMatrixValue(\n          uniform.name,\n          fromTransform(this.tmpMat4_, value)\n        );\n      } else if (Array.isArray(value) && value.length <= 4) {\n        switch (value.length) {\n          case 2:\n            gl.uniform2f(\n              this.getUniformLocation(uniform.name),\n              value[0],\n              value[1]\n            );\n            return;\n          case 3:\n            gl.uniform3f(\n              this.getUniformLocation(uniform.name),\n              value[0],\n              value[1],\n              value[2]\n            );\n            return;\n          case 4:\n            gl.uniform4f(\n              this.getUniformLocation(uniform.name),\n              value[0],\n              value[1],\n              value[2],\n              value[3]\n            );\n            return;\n          default:\n            return;\n        }\n      } else if (typeof value === 'number') {\n        gl.uniform1f(this.getUniformLocation(uniform.name), value);\n      }\n    });\n  }\n\n  /**\n   * Set up a program for use. The program will be set as the current one. Then, the uniforms used\n   * in the program will be set based on the current frame state and the helper configuration.\n   * @param {WebGLProgram} program Program.\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   */\n  useProgram(program, frameState) {\n    const gl = this.getGL();\n    gl.useProgram(program);\n    this.currentProgram_ = program;\n    this.uniformLocations_ = {};\n    this.attribLocations_ = {};\n    this.applyFrameState(frameState);\n    this.applyUniforms(frameState);\n  }\n\n  /**\n   * Will attempt to compile a vertex or fragment shader based on source\n   * On error, the shader will be returned but\n   * `gl.getShaderParameter(shader, gl.COMPILE_STATUS)` will return `true`\n   * Use `gl.getShaderInfoLog(shader)` to have details\n   * @param {string} source Shader source\n   * @param {ShaderType} type VERTEX_SHADER or FRAGMENT_SHADER\n   * @return {WebGLShader} Shader object\n   */\n  compileShader(source, type) {\n    const gl = this.getGL();\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    return shader;\n  }\n\n  /**\n   * Create a program for a vertex and fragment shader.  Throws if shader compilation fails.\n   * @param {string} fragmentShaderSource Fragment shader source.\n   * @param {string} vertexShaderSource Vertex shader source.\n   * @return {WebGLProgram} Program\n   */\n  getProgram(fragmentShaderSource, vertexShaderSource) {\n    const gl = this.getGL();\n\n    const fragmentShader = this.compileShader(\n      fragmentShaderSource,\n      gl.FRAGMENT_SHADER\n    );\n\n    const vertexShader = this.compileShader(\n      vertexShaderSource,\n      gl.VERTEX_SHADER\n    );\n\n    const program = gl.createProgram();\n    gl.attachShader(program, fragmentShader);\n    gl.attachShader(program, vertexShader);\n    gl.linkProgram(program);\n\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n      const message = `Fragment shader compilation failed: ${gl.getShaderInfoLog(\n        fragmentShader\n      )}`;\n      throw new Error(message);\n    }\n    gl.deleteShader(fragmentShader);\n\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n      const message = `Vertex shader compilation failed: ${gl.getShaderInfoLog(\n        vertexShader\n      )}`;\n      throw new Error(message);\n    }\n    gl.deleteShader(vertexShader);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      const message = `GL program linking failed: ${gl.getShaderInfoLog(\n        vertexShader\n      )}`;\n      throw new Error(message);\n    }\n\n    return program;\n  }\n\n  /**\n   * Will get the location from the shader or the cache\n   * @param {string} name Uniform name\n   * @return {WebGLUniformLocation} uniformLocation\n   */\n  getUniformLocation(name) {\n    if (this.uniformLocations_[name] === undefined) {\n      this.uniformLocations_[name] = this.getGL().getUniformLocation(\n        this.currentProgram_,\n        name\n      );\n    }\n    return this.uniformLocations_[name];\n  }\n\n  /**\n   * Will get the location from the shader or the cache\n   * @param {string} name Attribute name\n   * @return {number} attribLocation\n   */\n  getAttributeLocation(name) {\n    if (this.attribLocations_[name] === undefined) {\n      this.attribLocations_[name] = this.getGL().getAttribLocation(\n        this.currentProgram_,\n        name\n      );\n    }\n    return this.attribLocations_[name];\n  }\n\n  /**\n   * Modifies the given transform to apply the rotation/translation/scaling of the given frame state.\n   * The resulting transform can be used to convert world space coordinates to view coordinates.\n   * @param {import(\"../Map.js\").FrameState} frameState Frame state.\n   * @param {import(\"../transform\").Transform} transform Transform to update.\n   * @return {import(\"../transform\").Transform} The updated transform object.\n   */\n  makeProjectionTransform(frameState, transform) {\n    const size = frameState.size;\n    const rotation = frameState.viewState.rotation;\n    const resolution = frameState.viewState.resolution;\n    const center = frameState.viewState.center;\n\n    resetTransform(transform);\n    composeTransform(\n      transform,\n      0,\n      0,\n      2 / (resolution * size[0]),\n      2 / (resolution * size[1]),\n      -rotation,\n      -center[0],\n      -center[1]\n    );\n    return transform;\n  }\n\n  /**\n   * Give a value for a standard float uniform\n   * @param {string} uniform Uniform name\n   * @param {number} value Value\n   */\n  setUniformFloatValue(uniform, value) {\n    this.getGL().uniform1f(this.getUniformLocation(uniform), value);\n  }\n\n  /**\n   * Give a value for a vec2 uniform\n   * @param {string} uniform Uniform name\n   * @param {Array<number>} value Array of length 4.\n   */\n  setUniformFloatVec2(uniform, value) {\n    this.getGL().uniform2fv(this.getUniformLocation(uniform), value);\n  }\n\n  /**\n   * Give a value for a vec4 uniform\n   * @param {string} uniform Uniform name\n   * @param {Array<number>} value Array of length 4.\n   */\n  setUniformFloatVec4(uniform, value) {\n    this.getGL().uniform4fv(this.getUniformLocation(uniform), value);\n  }\n\n  /**\n   * Give a value for a standard matrix4 uniform\n   * @param {string} uniform Uniform name\n   * @param {Array<number>} value Matrix value\n   */\n  setUniformMatrixValue(uniform, value) {\n    this.getGL().uniformMatrix4fv(\n      this.getUniformLocation(uniform),\n      false,\n      value\n    );\n  }\n\n  /**\n   * Will set the currently bound buffer to an attribute of the shader program. Used by `#enableAttributes`\n   * internally.\n   * @param {string} attribName Attribute name\n   * @param {number} size Number of components per attributes\n   * @param {number} type UNSIGNED_INT, UNSIGNED_BYTE, UNSIGNED_SHORT or FLOAT\n   * @param {number} stride Stride in bytes (0 means attribs are packed)\n   * @param {number} offset Offset in bytes\n   * @private\n   */\n  enableAttributeArray_(attribName, size, type, stride, offset) {\n    const location = this.getAttributeLocation(attribName);\n    // the attribute has not been found in the shaders; do not enable it\n    if (location < 0) {\n      return;\n    }\n    this.getGL().enableVertexAttribArray(location);\n    this.getGL().vertexAttribPointer(\n      location,\n      size,\n      type,\n      false,\n      stride,\n      offset\n    );\n  }\n\n  /**\n   * Will enable the following attributes to be read from the currently bound buffer,\n   * i.e. tell the GPU where to read the different attributes in the buffer. An error in the\n   * size/type/order of attributes will most likely break the rendering and throw a WebGL exception.\n   * @param {Array<AttributeDescription>} attributes Ordered list of attributes to read from the buffer\n   */\n  enableAttributes(attributes) {\n    const stride = computeAttributesStride(attributes);\n    let offset = 0;\n    for (let i = 0; i < attributes.length; i++) {\n      const attr = attributes[i];\n      this.enableAttributeArray_(\n        attr.name,\n        attr.size,\n        attr.type || FLOAT,\n        stride,\n        offset\n      );\n      offset += attr.size * getByteSizeFromType(attr.type);\n    }\n  }\n\n  /**\n   * WebGL context was lost\n   * @private\n   */\n  handleWebGLContextLost() {\n    clear(this.bufferCache_);\n    this.currentProgram_ = null;\n  }\n\n  /**\n   * WebGL context was restored\n   * @private\n   */\n  handleWebGLContextRestored() {}\n\n  /**\n   * Will create or reuse a given webgl texture and apply the given size. If no image data\n   * specified, the texture will be empty, otherwise image data will be used and the `size`\n   * parameter will be ignored.\n   * Note: wrap parameters are set to clamp to edge, min filter is set to linear.\n   * @param {Array<number>} size Expected size of the texture\n   * @param {ImageData|HTMLImageElement|HTMLCanvasElement} [data] Image data/object to bind to the texture\n   * @param {WebGLTexture} [texture] Existing texture to reuse\n   * @return {WebGLTexture} The generated texture\n   */\n  createTexture(size, data, texture) {\n    const gl = this.getGL();\n    texture = texture || gl.createTexture();\n\n    // set params & size\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const border = 0;\n    const format = gl.RGBA;\n    const type = gl.UNSIGNED_BYTE;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    if (data) {\n      gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, format, type, data);\n    } else {\n      gl.texImage2D(\n        gl.TEXTURE_2D,\n        level,\n        internalFormat,\n        size[0],\n        size[1],\n        border,\n        format,\n        type,\n        null\n      );\n    }\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n    return texture;\n  }\n}\n\n/**\n * Compute a stride in bytes based on a list of attributes\n * @param {Array<AttributeDescription>} attributes Ordered list of attributes\n * @return {number} Stride, ie amount of values for each vertex in the vertex buffer\n */\nexport function computeAttributesStride(attributes) {\n  let stride = 0;\n  for (let i = 0; i < attributes.length; i++) {\n    const attr = attributes[i];\n    stride += attr.size * getByteSizeFromType(attr.type);\n  }\n  return stride;\n}\n\n/**\n * Computes the size in byte of an attribute type.\n * @param {AttributeType} type Attribute type\n * @return {number} The size in bytes\n */\nfunction getByteSizeFromType(type) {\n  switch (type) {\n    case AttributeType.UNSIGNED_BYTE:\n      return Uint8Array.BYTES_PER_ELEMENT;\n    case AttributeType.UNSIGNED_SHORT:\n      return Uint16Array.BYTES_PER_ELEMENT;\n    case AttributeType.UNSIGNED_INT:\n      return Uint32Array.BYTES_PER_ELEMENT;\n    case AttributeType.FLOAT:\n    default:\n      return Float32Array.BYTES_PER_ELEMENT;\n  }\n}\n\nexport default WebGLHelper;\n","/**\n * A wrapper class to simplify rendering to a texture instead of the final canvas\n * @module ol/webgl/RenderTarget\n */\nimport {equals} from '../array.js';\n\n// for pixel color reading\nconst tmpArray4 = new Uint8Array(4);\n\n/**\n * @classdesc\n * This class is a wrapper around the association of both a `WebGLTexture` and a `WebGLFramebuffer` instances,\n * simplifying initialization and binding for rendering.\n * @api\n */\nclass WebGLRenderTarget {\n  /**\n   * @param {import(\"./Helper.js\").default} helper WebGL helper; mandatory.\n   * @param {Array<number>} [size] Expected size of the render target texture; note: this can be changed later on.\n   */\n  constructor(helper, size) {\n    /**\n     * @private\n     * @type {import(\"./Helper.js\").default}\n     */\n    this.helper_ = helper;\n    const gl = helper.getGL();\n\n    /**\n     * @private\n     * @type {WebGLTexture}\n     */\n    this.texture_ = gl.createTexture();\n\n    /**\n     * @private\n     * @type {WebGLFramebuffer}\n     */\n    this.framebuffer_ = gl.createFramebuffer();\n\n    /**\n     * @type {Array<number>}\n     * @private\n     */\n    this.size_ = size || [1, 1];\n\n    /**\n     * @type {Uint8Array}\n     * @private\n     */\n    this.data_ = new Uint8Array(0);\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.dataCacheDirty_ = true;\n\n    this.updateSize_();\n  }\n\n  /**\n   * Changes the size of the render target texture. Note: will do nothing if the size\n   * is already the same.\n   * @param {Array<number>} size Expected size of the render target texture\n   * @api\n   */\n  setSize(size) {\n    if (equals(size, this.size_)) {\n      return;\n    }\n    this.size_[0] = size[0];\n    this.size_[1] = size[1];\n    this.updateSize_();\n  }\n\n  /**\n   * Returns the size of the render target texture\n   * @return {Array<number>} Size of the render target texture\n   * @api\n   */\n  getSize() {\n    return this.size_;\n  }\n\n  /**\n   * This will cause following calls to `#readAll` or `#readPixel` to download the content of the\n   * render target into memory, which is an expensive operation.\n   * This content will be kept in cache but should be cleared after each new render.\n   * @api\n   */\n  clearCachedData() {\n    this.dataCacheDirty_ = true;\n  }\n\n  /**\n   * Returns the full content of the frame buffer as a series of r, g, b, a components\n   * in the 0-255 range (unsigned byte).\n   * @return {Uint8Array} Integer array of color values\n   * @api\n   */\n  readAll() {\n    if (this.dataCacheDirty_) {\n      const size = this.size_;\n      const gl = this.helper_.getGL();\n\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer_);\n      gl.readPixels(\n        0,\n        0,\n        size[0],\n        size[1],\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        this.data_\n      );\n      this.dataCacheDirty_ = false;\n    }\n    return this.data_;\n  }\n\n  /**\n   * Reads one pixel of the frame buffer as an array of r, g, b, a components\n   * in the 0-255 range (unsigned byte).\n   * If x and/or y are outside of existing data, an array filled with 0 is returned.\n   * @param {number} x Pixel coordinate\n   * @param {number} y Pixel coordinate\n   * @return {Uint8Array} Integer array with one color value (4 components)\n   * @api\n   */\n  readPixel(x, y) {\n    if (x < 0 || y < 0 || x > this.size_[0] || y >= this.size_[1]) {\n      tmpArray4[0] = 0;\n      tmpArray4[1] = 0;\n      tmpArray4[2] = 0;\n      tmpArray4[3] = 0;\n      return tmpArray4;\n    }\n\n    this.readAll();\n    const index =\n      Math.floor(x) + (this.size_[1] - Math.floor(y) - 1) * this.size_[0];\n    tmpArray4[0] = this.data_[index * 4];\n    tmpArray4[1] = this.data_[index * 4 + 1];\n    tmpArray4[2] = this.data_[index * 4 + 2];\n    tmpArray4[3] = this.data_[index * 4 + 3];\n    return tmpArray4;\n  }\n\n  /**\n   * @return {WebGLTexture} Texture to render to\n   */\n  getTexture() {\n    return this.texture_;\n  }\n\n  /**\n   * @return {WebGLFramebuffer} Frame buffer of the render target\n   */\n  getFramebuffer() {\n    return this.framebuffer_;\n  }\n\n  /**\n   * @private\n   */\n  updateSize_() {\n    const size = this.size_;\n    const gl = this.helper_.getGL();\n\n    this.texture_ = this.helper_.createTexture(size, null, this.texture_);\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer_);\n    gl.viewport(0, 0, size[0], size[1]);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture_,\n      0\n    );\n\n    this.data_ = new Uint8Array(size[0] * size[1] * 4);\n  }\n}\n\nexport default WebGLRenderTarget;\n","\n        export function create() {\n          const source = \"const e=\\\"GENERATE_POLYGON_BUFFERS\\\",t=\\\"GENERATE_POINT_BUFFERS\\\",n=\\\"GENERATE_LINE_STRING_BUFFERS\\\",r={1:\\\"The view center is not defined\\\",2:\\\"The view resolution is not defined\\\",3:\\\"The view rotation is not defined\\\",4:\\\"`image` and `src` cannot be provided at the same time\\\",5:\\\"`imgSize` must be set when `image` is provided\\\",7:\\\"`format` must be set when `url` is set\\\",8:\\\"Unknown `serverType` configured\\\",9:\\\"`url` must be configured or set using `#setUrl()`\\\",10:\\\"The default `geometryFunction` can only handle `Point` geometries\\\",11:\\\"`options.featureTypes` must be an Array\\\",12:\\\"`options.geometryName` must also be provided when `options.bbox` is set\\\",13:\\\"Invalid corner\\\",14:\\\"Invalid color\\\",15:\\\"Tried to get a value for a key that does not exist in the cache\\\",16:\\\"Tried to set a value for a key that is used already\\\",17:\\\"`resolutions` must be sorted in descending order\\\",18:\\\"Either `origin` or `origins` must be configured, never both\\\",19:\\\"Number of `tileSizes` and `resolutions` must be equal\\\",20:\\\"Number of `origins` and `resolutions` must be equal\\\",22:\\\"Either `tileSize` or `tileSizes` must be configured, never both\\\",24:\\\"Invalid extent or geometry provided as `geometry`\\\",25:\\\"Cannot fit empty extent provided as `geometry`\\\",26:\\\"Features must have an id set\\\",27:\\\"Features must have an id set\\\",28:'`renderMode` must be `\\\"hybrid\\\"` or `\\\"vector\\\"`',30:\\\"The passed `feature` was already added to the source\\\",31:\\\"Tried to enqueue an `element` that was already added to the queue\\\",32:\\\"Transformation matrix cannot be inverted\\\",33:\\\"Invalid units\\\",34:\\\"Invalid geometry layout\\\",36:\\\"Unknown SRS type\\\",37:\\\"Unknown geometry type found\\\",38:\\\"`styleMapValue` has an unknown type\\\",39:\\\"Unknown geometry type\\\",40:\\\"Expected `feature` to have a geometry\\\",41:\\\"Expected an `ol/style/Style` or an array of `ol/style/Style.js`\\\",42:\\\"Question unknown, the answer is 42\\\",43:\\\"Expected `layers` to be an array or a `Collection`\\\",47:\\\"Expected `controls` to be an array or an `ol/Collection`\\\",48:\\\"Expected `interactions` to be an array or an `ol/Collection`\\\",49:\\\"Expected `overlays` to be an array or an `ol/Collection`\\\",50:\\\"`options.featureTypes` should be an Array\\\",51:\\\"Either `url` or `tileJSON` options must be provided\\\",52:\\\"Unknown `serverType` configured\\\",53:\\\"Unknown `tierSizeCalculation` configured\\\",55:\\\"The {-y} placeholder requires a tile grid with extent\\\",56:\\\"mapBrowserEvent must originate from a pointer event\\\",57:\\\"At least 2 conditions are required\\\",59:\\\"Invalid command found in the PBF\\\",60:\\\"Missing or invalid `size`\\\",61:\\\"Cannot determine IIIF Image API version from provided image information JSON\\\",62:\\\"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`\\\",64:\\\"Layer opacity must be a number\\\",66:\\\"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`\\\",67:\\\"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both\\\",68:\\\"A VectorTile source can only be rendered if it has a projection compatible with the view projection\\\",69:\\\"`width` or `height` cannot be provided together with `scale`\\\"};class o extends Error{constructor(e){const t=r[e];super(t),this.code=e,this.name=\\\"AssertionError\\\",this.message=t}}var i=o;function a(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function s(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new i(t)}(0!==n,32);const o=t[0],a=t[1],s=t[2],u=t[3],f=t[4],x=t[5];return e[0]=u/n,e[1]=-a/n,e[2]=-s/n,e[3]=o/n,e[4]=(s*x-u*f)/n,e[5]=-(o*x-a*f)/n,e}new Array(6);var u={};function f(e,t,n){n=n||2;var r,o,i,a,s,u,f,l=t&&t.length,c=l?t[0]*n:e.length,v=x(e,0,c,n,!0),d=[];if(!v||v.next===v.prev)return d;if(l&&(v=function(e,t,n,r){var o,i,a,s=[];for(o=0,i=t.length;o<i;o++)(a=x(e,t[o]*r,o<i-1?t[o+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(w(a));for(s.sort(p),o=0;o<s.length;o++)n=b(s[o],n);return n}(e,t,v,n)),e.length>80*n){r=i=e[0],o=a=e[1];for(var y=n;y<c;y+=n)(s=e[y])<r&&(r=s),(u=e[y+1])<o&&(o=u),s>i&&(i=s),u>a&&(a=u);f=0!==(f=Math.max(i-r,a-o))?32767/f:0}return h(v,d,n,r,o,f,0),d}function x(e,t,n,r,o){var i,a;if(o===B(e,t,n,r)>0)for(i=t;i<n;i+=r)a=k(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=k(i,e[i],e[i+1],a);return a&&M(a,a.next)&&(z(a),a=a.next),a}function l(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!M(r,r.next)&&0!==Z(r.prev,r,r.next))r=r.next;else{if(z(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function h(e,t,n,r,o,i,a){if(e){!a&&i&&function(e,t,n,r){var o=e;do{0===o.z&&(o.z=m(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,a,s,u,f=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;t<f&&(s++,r=r.nextZ);t++);for(u=f;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,f*=2}while(a>1)}(o)}(e,r,o,i);for(var s,u,f=e;e.prev!==e.next;)if(s=e.prev,u=e.next,i?v(e,r,o,i):c(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),z(e),e=u.next,f=u.next;else if((e=u)===f){a?1===a?h(e=d(l(e),t,n),t,n,r,o,i,2):2===a&&y(e,t,n,r,o,i):h(l(e),t,n,r,o,i,1);break}}}function c(e){var t=e.prev,n=e,r=e.next;if(Z(t,n,r)>=0)return!1;for(var o=t.x,i=n.x,a=r.x,s=t.y,u=n.y,f=r.y,x=o<i?o<a?o:a:i<a?i:a,l=s<u?s<f?s:f:u<f?u:f,h=o>i?o>a?o:a:i>a?i:a,c=s>u?s>f?s:f:u>f?u:f,v=r.next;v!==t;){if(v.x>=x&&v.x<=h&&v.y>=l&&v.y<=c&&A(o,s,i,u,a,f,v.x,v.y)&&Z(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function v(e,t,n,r){var o=e.prev,i=e,a=e.next;if(Z(o,i,a)>=0)return!1;for(var s=o.x,u=i.x,f=a.x,x=o.y,l=i.y,h=a.y,c=s<u?s<f?s:f:u<f?u:f,v=x<l?x<h?x:h:l<h?l:h,d=s>u?s>f?s:f:u>f?u:f,y=x>l?x>h?x:h:l>h?l:h,p=m(c,v,t,n,r),b=m(d,y,t,n,r),g=e.prevZ,w=e.nextZ;g&&g.z>=p&&w&&w.z<=b;){if(g.x>=c&&g.x<=d&&g.y>=v&&g.y<=y&&g!==o&&g!==a&&A(s,x,u,l,f,h,g.x,g.y)&&Z(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,w.x>=c&&w.x<=d&&w.y>=v&&w.y<=y&&w!==o&&w!==a&&A(s,x,u,l,f,h,w.x,w.y)&&Z(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;g&&g.z>=p;){if(g.x>=c&&g.x<=d&&g.y>=v&&g.y<=y&&g!==o&&g!==a&&A(s,x,u,l,f,h,g.x,g.y)&&Z(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;w&&w.z<=b;){if(w.x>=c&&w.x<=d&&w.y>=v&&w.y<=y&&w!==o&&w!==a&&A(s,x,u,l,f,h,w.x,w.y)&&Z(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function d(e,t,n){var r=e;do{var o=r.prev,i=r.next.next;!M(o,i)&&F(o,r,r.next,i)&&S(o,i)&&S(i,o)&&(t.push(o.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),z(r),z(r.next),r=e=i),r=r.next}while(r!==e);return l(r)}function y(e,t,n,r,o,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&E(a,s)){var u=U(a,s);return a=l(a,a.next),u=l(u,u.next),h(a,t,n,r,o,i,0),void h(u,t,n,r,o,i,0)}s=s.next}a=a.next}while(a!==e)}function p(e,t){return e.x-t.x}function b(e,t){var n=function(e,t){var n,r=t,o=e.x,i=e.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===o))return n}r=r.next}while(r!==t);if(!n)return null;var u,f=n,x=n.x,l=n.y,h=1/0;r=n;do{o>=r.x&&r.x>=x&&o!==r.x&&A(i<l?o:a,i,x,l,i<l?a:o,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(o-r.x),S(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&g(n,r)))&&(n=r,h=u)),r=r.next}while(r!==f);return n}(e,t);if(!n)return t;var r=U(n,e);return l(r,r.next),l(n,n.next)}function g(e,t){return Z(e.prev,e,t.prev)<0&&Z(t.next,e,e.next)<0}function m(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function w(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function A(e,t,n,r,o,i,a,s){return(o-a)*(t-s)>=(e-a)*(i-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(i-s)>=(o-a)*(r-s)}function E(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&F(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(S(e,t)&&S(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Z(e.prev,e,t.prev)||Z(e,t.prev,t))||M(e,t)&&Z(e.prev,e,e.next)>0&&Z(t.prev,t,t.next)>0)}function Z(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function M(e,t){return e.x===t.x&&e.y===t.y}function F(e,t,n,r){var o=I(Z(e,t,n)),i=I(Z(e,t,r)),a=I(Z(n,r,e)),s=I(Z(n,r,t));return o!==i&&a!==s||(!(0!==o||!T(e,n,t))||(!(0!==i||!T(e,r,t))||(!(0!==a||!T(n,e,r))||!(0!==s||!T(n,t,r)))))}function T(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function S(e,t){return Z(e.prev,e,e.next)<0?Z(e,t,e.next)>=0&&Z(e,e.prev,t)>=0:Z(e,t,e.prev)<0||Z(e,e.next,t)<0}function U(e,t){var n=new R(e.i,e.x,e.y),r=new R(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function k(e,t,n,r){var o=new R(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function z(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function B(e,t,n,r){for(var o=0,i=t,a=n-r;i<n;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}({get exports(){return u},set exports(e){u=e}}).exports=f,u.default=f,f.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,a=Math.abs(B(e,0,i,n));if(o)for(var s=0,u=t.length;s<u;s++){var f=t[s]*n,x=s<u-1?t[s+1]*n:e.length;a-=Math.abs(B(e,f,x,n))}var l=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,c=r[s+1]*n,v=r[s+2]*n;l+=Math.abs((e[h]-e[v])*(e[c+1]-e[h+1])-(e[h]-e[c])*(e[v+1]-e[h+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},f.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n};const N=[],P={vertexPosition:0,indexPosition:0};function C(e,t,n,r,o){e[t+0]=n,e[t+1]=r,e[t+2]=o}function _(e,t,n,r,o,i){const a=3+o,s=e[t+0],u=e[t+1],f=N;f.length=o;for(let n=0;n<f.length;n++)f[n]=e[t+2+n];let x=i?i.vertexPosition:0,l=i?i.indexPosition:0;const h=x/a;return C(n,x,s,u,0),f.length&&n.set(f,x+3),x+=a,C(n,x,s,u,1),f.length&&n.set(f,x+3),x+=a,C(n,x,s,u,2),f.length&&n.set(f,x+3),x+=a,C(n,x,s,u,3),f.length&&n.set(f,x+3),x+=a,r[l++]=h,r[l++]=h+1,r[l++]=h+3,r[l++]=h+1,r[l++]=h+2,r[l++]=h+3,P.vertexPosition=x,P.indexPosition=l,P}function q(e,t,n,r,o,i,s,u,f,x){const l=5+u.length,h=i.length/l,c=[e[t+0],e[t+1]],v=[e[n],e[n+1]],d=a(x,[...c]),y=a(x,[...v]);function p(e,t,n){const r=1e4;return Math.round(1500*t)+Math.round(1500*n)*r+e*r*r}function b(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),o=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-o[1],o[0]],a=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),s=[(n[0]-e[0])/a,(n[1]-e[1])/a],u=0===r||0===a?0:Math.acos((f=s[0]*o[0]+s[1]*o[1],x=-1,l=1,Math.min(Math.max(f,x),l)));var f,x,l;return s[0]*i[0]+s[1]*i[1]>0?u:2*Math.PI-u}const g=null!==o;let m=0,w=0;if(null!==r){m=b(d,y,a(x,[...[e[r],e[r+1]]]))}if(g){w=b(y,d,a(x,[...[e[o],e[o+1]]]))}i.push(c[0],c[1],v[0],v[1],p(0,m,w)),i.push(...u),i.push(c[0],c[1],v[0],v[1],p(1,m,w)),i.push(...u),i.push(c[0],c[1],v[0],v[1],p(2,m,w)),i.push(...u),i.push(c[0],c[1],v[0],v[1],p(3,m,w)),i.push(...u),s.push(h,h+1,h+2,h+1,h+3,h+2)}function L(e,t,n,r,o){const i=2+o;let a=t;const s=e.slice(a,a+o);a+=o;const f=e[a++];let x=0;const l=new Array(f-1);for(let t=0;t<f;t++)x+=e[a++],t<f-1&&(l[t]=x);const h=e.slice(a,a+2*x),c=u(h,l,2);for(let e=0;e<c.length;e++)r.push(c[e]+n.length/i);for(let e=0;e<h.length;e+=2)n.push(h[e],h[e+1],...s);return a+2*x}const G=self;G.onmessage=r=>{const o=r.data;switch(o.type){case t:{const e=3,t=2,n=o.customAttributesCount,r=t+n,i=new Float32Array(o.renderInstructions),a=i.length/r,s=4*a*(n+e),u=new Uint32Array(6*a),f=new Float32Array(s);let x;for(let e=0;e<i.length;e+=r)x=_(i,e,f,u,n,x);const l=Object.assign({vertexBuffer:f.buffer,indexBuffer:u.buffer,renderInstructions:i.buffer},o);G.postMessage(l,[f.buffer,u.buffer,i.buffer]);break}case n:{const e=[],t=[],n=o.customAttributesCount,r=2,i=new Float32Array(o.renderInstructions);let a=0;const u=o.renderInstructionsTransform,f=[1,0,0,1,0,0];let x,l;for(s(f,u);a<i.length;){l=Array.from(i.slice(a,a+n)),a+=n,x=i[a++];for(let n=0;n<x-1;n++)q(i,a+n*r,a+(n+1)*r,n>0?a+(n-1)*r:null,n<x-2?a+(n+2)*r:null,e,t,l,0,f);a+=x*r}const h=Uint32Array.from(t),c=Float32Array.from(e),v=Object.assign({vertexBuffer:c.buffer,indexBuffer:h.buffer,renderInstructions:i.buffer},o);G.postMessage(v,[c.buffer,h.buffer,i.buffer]);break}case e:{const e=[],t=[],n=o.customAttributesCount,r=new Float32Array(o.renderInstructions);let i=0;for(;i<r.length;)i=L(r,i,e,t,n);const a=Uint32Array.from(t),s=Float32Array.from(e),u=Object.assign({vertexBuffer:s.buffer,indexBuffer:a.buffer,renderInstructions:r.buffer},o);G.postMessage(u,[s.buffer,a.buffer,r.buffer]);break}}};\";\n          return new Worker(typeof Blob === 'undefined'\n            ? 'data:application/javascript;base64,' + Buffer.from(source, 'binary').toString('base64')\n            : URL.createObjectURL(new Blob([source], {type: 'application/javascript'})));\n        }\n      \n"],"names":["props","map","type","data","control","mounted","element","watch","methods","getControl","render","staticRenderFns","component","_vm","this","_c","_self","directives","name","rawName","value","show","expression","staticClass","style","width","percent","_v","_s","label","mixins","ControlMixin","loading","loaded","computed","addLoading","addLoaded","update","staticStyle","attrs","on","$event","preventDefault","stopPropagation","request","apply","arguments","navigator","position","view","error","maximumAge","idCounter","components","ProgressControl","UserLocationControl","default","editable","removableLayers","id","showFullExtent","viewOpts","location","target","mapOptions","layers","addLayerSwitcher","trash","addBasemaps","opaque","attributionsCollapsible","wrapX","source","baseLayer","title","noSwitcherDelete","visible","baselayers","hasDefault","onShow","onHide","addLayerToMap","layer","removeLayerFromMap","getLayerFromMap","getVisibleLayers","shownLayers","getFitOptions","fitOptions","trackTileProgress","fromLonLat","toExtent","extent","t","i","module","exports","r","e","a","h","n","o","s","l","Math","log","f","exp","u","sqrt","m","max","floor","c","min","p","d","x","length","_maxEntries","_minEntries","ceil","clear","indexOf","children","minX","minY","maxX","maxY","leaf","height","pop","push","prototype","all","_all","search","toBBox","collides","load","insert","_build","slice","_splitRoot","_insert","remove","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","pow","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","v","M","_allDistMargin","sort","create","fromTransform","mat4","transform","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","STREAM_DRAW","STATIC_DRAW","DYNAMIC_DRAW","UNSIGNED_BYTE","UNSIGNED_SHORT","UNSIGNED_INT","FLOAT","CONTEXT_IDS","getContext","canvas","attributes","Object","assign","preserveDrawingBuffer","antialias","ii","context","BufferUsage","WebGLArrayBuffer","constructor","usage","array","undefined","ofSize","size","getArrayClassForType","fromArray","from","fromArrayBuffer","buffer","getType","getArray","getUsage","getSize","Float32Array","Uint32Array","LOST","RESTORED","DEFAULT_VERTEX_SHADER","DEFAULT_FRAGMENT_SHADER","WebGLPostProcessingPass","options","gl_","webGlContext","gl","scaleRatio_","scaleRatio","renderTargetTexture_","createTexture","renderTargetTextureSize_","frameBuffer_","createFramebuffer","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","renderTargetProgram_","createProgram","attachShader","linkProgram","renderTargetVerticesBuffer_","createBuffer","verticesArray","bindBuffer","bufferData","renderTargetAttribLocation_","getAttribLocation","renderTargetUniformLocation_","getUniformLocation","renderTargetOpacityLocation_","renderTargetTextureLocation_","uniforms_","uniforms","keys","forEach","getGL","init","frameState","textureSize","drawingBufferWidth","drawingBufferHeight","bindFramebuffer","FRAMEBUFFER","getFrameBuffer","viewport","level","internalFormat","RGBA","border","format","bindTexture","TEXTURE_2D","texImage2D","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","framebufferTexture2D","COLOR_ATTACHMENT0","nextPass","preCompose","postCompose","activeTexture","TEXTURE0","canvasId","renderTargets","getContextAttributes","clearColor","COLOR_BUFFER_BIT","enable","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","useProgram","enableVertexAttribArray","vertexAttribPointer","uniform2f","uniform1i","opacity","layerStatesArray","layerIndex","uniform1f","applyUniforms","drawArrays","TRIANGLES","textureSlot","uniform","HTMLCanvasElement","ImageData","texture","Uint8Array","Array","isArray","uniform3f","uniform4f","DefaultUniform","PROJECTION_MATRIX","OFFSET_SCALE_MATRIX","OFFSET_ROTATION_MATRIX","TIME","ZOOM","RESOLUTION","SIZE_PX","PIXEL_RATIO","AttributeType","canvasCache","getSharedCanvasCacheKey","key","uniqueCanvasCacheKeyCount","getUniqueCanvasCacheKey","getCanvas","cacheItem","document","createElement","left","users","releaseCanvas","extension","getExtension","loseContext","WebGLHelper","Disposable","super","boundHandleWebGLContextLost_","handleWebGLContextLost","bind","boundHandleWebGLContextRestored_","handleWebGLContextRestored","canvasCacheKey_","canvasCacheKey","canvas_","bufferCache_","extensionCache_","currentProgram_","addEventListener","ContextEventType","offsetRotateMatrix_","offsetScaleMatrix_","tmpMat4_","uniformLocations_","attribLocations_","setUniforms","postProcessPasses_","postProcesses","shaderCompileErrors_","startTime_","Date","now","canvasCacheKeyMatches","bufferKey","bufferCache","webGlBuffer","flushBufferData","deleteBuffer","buf","bufferCacheEntry","isContextLost","disposeInternal","removeEventListener","prepareDraw","disableAlphaBlend","pixelRatio","ZERO","prepareDrawToRenderTarget","renderTarget","getFramebuffer","getTexture","drawElements","start","end","elementType","elementSize","numItems","offsetInBytes","finalizeDraw","applyFrameState","rotation","viewState","offsetScaleMatrix","offsetRotateMatrix","setUniformMatrixValue","setUniformFloatValue","zoom","resolution","setUniformFloatVec2","HTMLImageElement","prevValue","imageReady","complete","program","shader","getProgram","fragmentShaderSource","vertexShaderSource","getShaderParameter","COMPILE_STATUS","message","getShaderInfoLog","Error","deleteShader","getProgramParameter","LINK_STATUS","getAttributeLocation","makeProjectionTransform","center","uniform2fv","setUniformFloatVec4","uniform4fv","uniformMatrix4fv","enableAttributeArray_","attribName","stride","offset","enableAttributes","computeAttributesStride","attr","getByteSizeFromType","BYTES_PER_ELEMENT","Uint16Array","tmpArray4","WebGLRenderTarget","helper","helper_","texture_","framebuffer_","size_","data_","dataCacheDirty_","updateSize_","setSize","clearCachedData","readAll","readPixels","readPixel","y","index","Worker","Blob","Buffer","toString","URL","createObjectURL"],"sourceRoot":""}