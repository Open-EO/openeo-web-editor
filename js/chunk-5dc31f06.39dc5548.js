(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dc31f06"],{"050e":function(t,e,i){"use strict";e["a"]={IMAGE:"image",VECTOR:"vector"}},"0adb":function(t,e,i){"use strict";e["a"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},"1af9":function(t,e,i){"use strict";i.d(e,"b",(function(){return p}));var n=i("1e8d"),o=i("01d4"),r=i("1300"),a=i("e269"),s=i("5564"),h=i("df4c"),c=i("38f3"),u=i("070d"),d=i("6d83"),l=function(t){function e(e){var i=Object(c["a"])({},e);delete i.source,t.call(this,i),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(n["a"])(this,Object(a["b"])(h["a"].SOURCE),this.handleSourcePropertyChange_,this);var o=e.source?e.source:null;this.setSource(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){var t=this.get(h["a"].SOURCE);return t||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():d["a"].UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(n["e"])(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(n["a"])(t,o["a"].CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(n["e"])(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(n["e"])(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(n["a"])(t,u["a"].PRECOMPOSE,(function(t){var e=t,i=this.getLayerState();i.managed=!1,void 0===this.getZIndex()&&(i.zIndex=1/0),e.frameState.layerStatesArray.push(i),e.frameState.layerStates[Object(r["c"])(this)]=i}),this),this.mapRenderKey_=Object(n["a"])(this,o["a"].CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(h["a"].SOURCE,t)},e}(s["a"]);function p(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e["a"]=l},"2ce2":function(t,e,i){"use strict";var n=i("1300"),o=i("183a"),r=i("9f5e"),a=i("1e8d"),s=i("cef7"),h=i("06f8"),c=i("57cb"),u=i("f623"),d=i("4334"),l=i("3e6b"),p=i("38f3"),_=i("5831"),f=i("6c77"),g={SELECT:"select"},y=function(t){function e(e,i,n,o){t.call(this,e),this.selected=i,this.deselected=n,this.mapBrowserEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["a"]),v=function(t){function e(e){t.call(this,{handleEvent:m});var i=e||{};this.condition_=i.condition?i.condition:h["m"],this.addCondition_=i.addCondition?i.addCondition:h["h"],this.removeCondition_=i.removeCondition?i.removeCondition:h["h"],this.toggleCondition_=i.toggleCondition?i.toggleCondition:h["l"],this.multi_=!!i.multi&&i.multi,this.filter_=i.filter?i.filter:c["b"],this.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var n,s=new l["a"]({source:new _["a"]({useSpatialIndex:!1,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:E(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=s,i.layers)if("function"===typeof i.layers)n=i.layers;else{var u=i.layers;n=function(t){return Object(r["f"])(u,t)}}else n=c["b"];this.layerFilter_=n,this.featureLayerAssociation_={};var d=this.getFeatures();Object(a["a"])(d,o["a"].ADD,this.addFeature_,this),Object(a["a"])(d,o["a"].REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(n["c"])(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(n["c"])(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap(),n=this.getFeatures();i&&n.forEach(i.unskipFeature.bind(i)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&n.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(n["c"])(t)]},e}(d["a"]);function m(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),o=!e&&!i&&!n,a=t.map,s=this.getFeatures(),c=[],u=[];if(o){Object(p["b"])(this.featureLayerAssociation_),a.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return u.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=s.getLength()-1;d>=0;--d){var l=s.item(d),_=u.indexOf(l);_>-1?u.splice(_,1):(s.remove(l),c.push(l))}0!==u.length&&s.extend(u)}else{a.forEachFeatureAtPixel(t.pixel,function(t,o){if(this.filter_(t,o))return!e&&!n||Object(r["f"])(s.getArray(),t)?(i||n)&&Object(r["f"])(s.getArray(),t)&&(c.push(t),this.removeFeatureLayerAssociation_(t)):(u.push(t),this.addFeatureLayerAssociation_(t,o)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=c.length-1;f>=0;--f)s.remove(c[f]);s.extend(u)}return(u.length>0||c.length>0)&&this.dispatchEvent(new y(g.SELECT,u,c,t)),Object(h["j"])(t)}function E(){var t=Object(f["b"])();return Object(r["c"])(t[u["a"].POLYGON],t[u["a"].LINE_STRING]),Object(r["c"])(t[u["a"].GEOMETRY_COLLECTION],t[u["a"].LINE_STRING]),function(e,i){return e.getGeometry()?t[e.getGeometry().getType()]:null}}e["a"]=v},"38f3":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return a}));var n="function"===typeof Object.assign?Object.assign:function(t,e){var i=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,r=arguments.length;o<r;++o){var a=i[o];if(void 0!==a&&null!==a)for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])}return n};function o(t){for(var e in t)delete t[e]}function r(t){var e=[];for(var i in t)e.push(t[i]);return e}function a(t){var e;for(e in t)return!1;return!e}},"3a39":function(t,e,i){"use strict";i.d(e,"a",(function(){return q}));var n=i("e300"),o=i("25c1"),r=i("0b2d"),a=i("4334"),s=function(t){function e(e){t.call(this,{handleEvent:h});var i=e||{};this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]);function h(t){var e=!1;if(t.type==r["a"].DBLCLICK){var i=t.originalEvent,n=t.map,o=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,h=n.getView();Object(a["f"])(h,s,o,this.duration_),t.preventDefault(),e=!0}return!e}var c=s,u=i("496f"),d=i("a568"),l=i("ca42"),p=i("06f8"),_=i("57cb"),f=i("4105"),g=function(t){function e(e){t.call(this,{stopDown:_["a"]});var i=e||{};this.kinetic_=i.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=i.condition?i.condition:p["i"],this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(u["a"].INTERACTING,1));var e=this.targetPointers,i=Object(f["a"])(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var n=this.lastCentroid[0]-i[0],o=i[1]-this.lastCentroid[1],r=t.map,a=r.getView(),s=[n,o];Object(d["g"])(s,a.getResolution()),Object(d["f"])(s,a.getRotation()),Object(d["a"])(s,a.getCenter()),s=a.constrainCenter(s),a.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=i.getCenter(),a=e.getPixelFromCoordinate(r),s=e.getCoordinateFromPixel([a[0]-n*Math.cos(o),a[1]-n*Math.sin(o)]);i.animate({center:i.constrainCenter(s),duration:500,easing:l["b"]})}return this.panning_&&(this.panning_=!1,i.setHint(u["a"].INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,i=e.getView();return this.lastCentroid=null,i.getAnimating()&&i.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(f["b"]),y=g,v=i("8cc5"),m=function(t){function e(e){var i=e||{};t.call(this,{stopDown:_["a"]}),this.condition_=i.condition?i.condition:p["b"],this.lastAngle_=void 0,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(p["g"])(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==v["c"]){var n=e.getSize(),o=t.pixel,r=Math.atan2(n[1]/2-o[1],o[0]-n[0]/2);if(void 0!==this.lastAngle_){var s=r-this.lastAngle_,h=i.getRotation();Object(a["d"])(i,h-s)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){if(!Object(p["g"])(t))return!0;var e=t.map,i=e.getView();i.setHint(u["a"].INTERACTING,-1);var n=i.getRotation();return Object(a["c"])(i,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Object(p["g"])(t))return!1;if(Object(p["f"])(t)&&this.condition_(t)){var e=t.map;return e.getView().setHint(u["a"].INTERACTING,1),this.lastAngle_=void 0,!0}return!1},e}(f["b"]),E=m,O=i("0af5"),b=i("cef7"),C=i("cacb"),R={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},T=function(t){function e(e,i,n){t.call(this,e),this.coordinate=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(b["a"]),I=function(t){function e(e){t.call(this);var i=e||{};this.box_=new C["a"](i.className||"ol-dragbox"),this.minArea_=void 0!==i.minArea?i.minArea:64,this.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:_["c"],this.startPixel_=null,this.condition_=i.condition?i.condition:p["c"],this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,i){var n=i[0]-e[0],o=i[1]-e[1];return n*n+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(p["g"])(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new T(R.BOXDRAG,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(p["g"])(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new T(R.BOXEND,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Object(p["g"])(t)&&(!(!Object(p["f"])(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new T(R.BOXSTART,t.coordinate,t)),!0))},e}(f["b"]),w=I,P=function(t){function e(e){var i=e||{},n=i.condition?i.condition:p["l"];t.call(this,{condition:n,className:i.className||"ol-dragzoom",onBoxEnd:D}),this.duration_=void 0!==i.duration?i.duration:200,this.out_=void 0!==i.out&&i.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(w);function D(){var t=this.getMap(),e=t.getView(),i=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var o=e.calculateExtent(i),r=Object(O["n"])([t.getPixelFromCoordinate(Object(O["v"])(n)),t.getPixelFromCoordinate(Object(O["D"])(n))]),a=e.getResolutionForExtent(r,i);Object(O["J"])(o,1/a),n=o}var s=e.constrainResolution(e.getResolutionForExtent(n,i)),h=Object(O["x"])(n);h=e.constrainCenter(h),e.animate({resolution:s,center:h,duration:this.duration_,easing:l["b"]})}var x=P,L=i("01d4"),A=i("1672"),N=function(t){function e(e){t.call(this,{handleEvent:j});var i=e||{};this.defaultCondition_=function(t){return Object(p["i"])(t)&&Object(p["n"])(t)},this.condition_=void 0!==i.condition?i.condition:this.defaultCondition_,this.duration_=void 0!==i.duration?i.duration:100,this.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]);function j(t){var e=!1;if(t.type==L["a"].KEYDOWN){var i=t.originalEvent,n=i.keyCode;if(this.condition_(t)&&(n==A["a"].DOWN||n==A["a"].LEFT||n==A["a"].RIGHT||n==A["a"].UP)){var o=t.map,r=o.getView(),s=r.getResolution()*this.pixelDelta_,h=0,c=0;n==A["a"].DOWN?c=-s:n==A["a"].LEFT?h=-s:n==A["a"].RIGHT?h=s:c=s;var u=[h,c];Object(d["f"])(u,r.getRotation()),Object(a["b"])(r,u,this.duration_),t.preventDefault(),e=!0}}return!e}var S=N,M=function(t){function e(e){t.call(this,{handleEvent:k});var i=e||{};this.condition_=i.condition?i.condition:p["n"],this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]);function k(t){var e=!1;if(t.type==L["a"].KEYDOWN||t.type==L["a"].KEYPRESS){var i=t.originalEvent,n=i.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var o=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=o.getView();Object(a["f"])(s,r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var F=M,G=i("617d"),U=i("7fc9"),B=1,V={TRACKPAD:"trackpad",WHEEL:"wheel"},K=function(t){function e(e){var i=e||{};t.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:p["c"],this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.setHint(u["a"].INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==L["a"].WHEEL&&e!==L["a"].MOUSEWHEEL)return!0;t.preventDefault();var i,n=t.map,o=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==L["a"].WHEEL?(i=o.deltaY,G["c"]&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=G["b"]),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):t.type==L["a"].MOUSEWHEEL&&(i=-o.wheelDeltaY,G["g"]&&(i/=3)),0===i)return!1;var r=Date.now();if(void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?V.TRACKPAD:V.WHEEL),this.mode_===V.TRACKPAD){var a=n.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.setHint(u["a"].INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=a.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),h=a.getMinResolution(),c=a.getMaxResolution(),d=0;if(s<h?(s=Math.max(s,h/this.trackpadZoomBuffer_),d=1):s>c&&(s=Math.min(s,c*this.trackpadZoomBuffer_),d=-1),this.lastAnchor_){var p=a.calculateCenterZoom(s,this.lastAnchor_);a.setCenter(a.constrainCenter(p))}return a.setResolution(s),0===d&&this.constrainResolution_&&a.animate({resolution:a.constrainResolution(s,i>0?-1:1),easing:l["b"],anchor:this.lastAnchor_,duration:this.duration_}),d>0?a.animate({resolution:h,easing:l["b"],anchor:this.lastAnchor_,duration:500}):d<0&&a.animate({resolution:c,easing:l["b"],anchor:this.lastAnchor_,duration:500}),this.startTime_=r,!1}this.delta_+=i;var _=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),_),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=B,n=Object(U["a"])(this.delta_,-i,i);Object(a["f"])(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(a["a"]),Y=K,W=function(t){function e(e){var i=e||{},n=i;n.stopDown||(n.stopDown=_["a"]),t.call(this,n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==i.threshold?i.threshold:.3,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],o=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var s=t.map,h=s.getView();if(h.getConstraints().rotation!==v["c"]){var c=s.getViewport().getBoundingClientRect(),u=Object(f["a"])(this.targetPointers);if(u[0]-=c.left,u[1]-=c.top,this.anchor_=s.getCoordinateFromPixel(u),this.rotating_){var d=h.getRotation();s.render(),Object(a["d"])(h,d+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();if(i.setHint(u["a"].INTERACTING,-1),this.rotating_){var n=i.getRotation();Object(a["c"])(i,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(u["a"].INTERACTING,1),!0}return!1},e}(f["b"]),H=W,X=function(t){function e(e){var i=e||{},n=i;n.stopDown||(n.stopDown=_["a"]),t.call(this,n),this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],o=i.clientX-n.clientX,r=i.clientY-n.clientY,s=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var h=t.map,c=h.getView(),u=c.getResolution(),d=c.getMaxResolution(),l=c.getMinResolution(),p=u*e;p>d?(e=d/u,p=d):p<l&&(e=l/u,p=l),1!=e&&(this.lastScaleDelta_=e);var _=h.getViewport().getBoundingClientRect(),g=Object(f["a"])(this.targetPointers);g[0]-=_.left,g[1]-=_.top,this.anchor_=h.getCoordinateFromPixel(g),h.render(),Object(a["g"])(c,p,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();i.setHint(u["a"].INTERACTING,-1);var n=i.getResolution();if(this.constrainResolution_||n<i.getMinResolution()||n>i.getMaxResolution()){var o=this.lastScaleDelta_-1;Object(a["e"])(i,n,this.anchor_,this.duration_,o)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(u["a"].INTERACTING,1),!0}return!1},e}(f["b"]),Z=X;function q(t){var e=t||{},i=new n["a"],r=new o["a"](-.005,.05,100),a=void 0===e.altShiftDragRotate||e.altShiftDragRotate;a&&i.push(new E);var s=void 0===e.doubleClickZoom||e.doubleClickZoom;s&&i.push(new c({delta:e.zoomDelta,duration:e.zoomDuration}));var h=void 0===e.dragPan||e.dragPan;h&&i.push(new y({condition:e.onFocusOnly?p["e"]:void 0,kinetic:r}));var u=void 0===e.pinchRotate||e.pinchRotate;u&&i.push(new H);var d=void 0===e.pinchZoom||e.pinchZoom;d&&i.push(new Z({constrainResolution:e.constrainResolution,duration:e.zoomDuration}));var l=void 0===e.keyboard||e.keyboard;l&&(i.push(new S),i.push(new F({delta:e.zoomDelta,duration:e.zoomDuration})));var _=void 0===e.mouseWheelZoom||e.mouseWheelZoom;_&&i.push(new Y({condition:e.onFocusOnly?p["e"]:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration}));var f=void 0===e.shiftDragZoom||e.shiftDragZoom;return f&&i.push(new x({duration:e.zoomDuration})),i}},"3e6b":function(t,e,i){"use strict";var n=i("5dec"),o=i("1af9"),r=i("050e"),a=i("38f3"),s=i("6c77"),h={RENDER_ORDER:"renderOrder"},c=function(t){function e(e){var i=e||{},o=Object(a["a"])({},i);delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,t.call(this,o),this.declutter_=void 0!==i.declutter&&i.declutter,this.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(i.style),this.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,this.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,this.renderMode_=i.renderMode||r["a"].VECTOR,this.type=n["a"].VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(h.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(h.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:s["a"],this.styleFunction_=null===t?void 0:Object(s["d"])(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(o["a"]);c.prototype.getSource,e["a"]=c},4105:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("0b2d"),o=i("4334"),r=i("38f3"),a=function(t){function e(e){var i=e||{};t.call(this,i),i.handleDownEvent&&(this.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(this.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(this.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(this.handleUpEvent=i.handleUpEvent),i.stopDown&&(this.stopDown=i.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==n["a"].POINTERDRAG)this.handleDragEvent(t);else if(t.type==n["a"].POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==n["a"].POINTERDOWN){var o=this.handleDownEvent(t);o&&t.preventDefault(),this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==n["a"].POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(h(t)){var e=t.pointerEvent,i=e.pointerId.toString();t.type==n["a"].POINTERUP?delete this.trackedPointers_[i]:(t.type==n["a"].POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=e),this.targetPointers=Object(r["c"])(this.trackedPointers_)}},e}(o["a"]);function s(t){for(var e=t.length,i=0,n=0,o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return[i/e,n/e]}function h(t){var e=t.type;return e===n["a"].POINTERDOWN||e===n["a"].POINTERDRAG||e===n["a"].POINTERUP}e["b"]=a},4334:function(t,e,i){"use strict";i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return d})),i.d(e,"f",(function(){return l})),i.d(e,"g",(function(){return p}));var n=i("e269"),o=i("ca42"),r=i("bf62"),a=i("7fc9"),s=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(r["a"].ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(r["a"].ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(n["a"]);function h(t,e,i){var n=t.getCenter();if(n){var r=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);i?t.animate({duration:i,easing:o["d"],center:r}):t.setCenter(r)}}function c(t,e,i,n){e=t.constrainRotation(e,0),u(t,e,i,n)}function u(t,e,i,n){if(void 0!==e){var r=t.getRotation(),a=t.getCenter();void 0!==r&&a&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:o["b"]}):t.rotate(e,i)}}function d(t,e,i,n,o){e=t.constrainResolution(e,0,o),p(t,e,i,n)}function l(t,e,i,n){var o=t.getResolution(),r=t.constrainResolution(o,e,0);if(void 0!==r){var s=t.getResolutions();r=Object(a["a"])(r,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(i&&void 0!==r&&r!==o){var h=t.getCenter(),c=t.calculateCenterZoom(r,i);c=t.constrainCenter(c),i=[(r*h[0]-o*c[0])/(r-o),(r*h[1]-o*c[1])/(r-o)]}p(t,r,i,n)}function p(t,e,i,n){if(e){var r=t.getResolution(),a=t.getCenter();if(void 0!==r&&a&&e!==r&&n)t.animate({resolution:e,anchor:i,duration:n,easing:o["b"]});else{if(i){var s=t.calculateCenterZoom(e,i);t.setCenter(s)}t.setResolution(e)}}}e["a"]=s},4787:function(t,e,i){"use strict";var n=i("1e8d"),o=i("e269"),r=i("0999"),a=i("3e6b"),s=i("7fc9"),h=i("38f3"),c=i("070d"),u=i("6cbf"),d=i("6c77"),l={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},p=["#00f","#0ff","#0f0","#ff0","#f00"],_=function(t){function e(e){var i=e||{},r=Object(h["a"])({},i);delete r.gradient,delete r.radius,delete r.blur,delete r.shadow,delete r.weight,t.call(this,r),this.gradient_=null,this.shadow_=void 0!==i.shadow?i.shadow:250,this.circleImage_=void 0,this.styleCache_=null,Object(n["a"])(this,Object(o["b"])(l.GRADIENT),this.handleGradientChanged_,this),this.setGradient(i.gradient?i.gradient:p),this.setBlur(void 0!==i.blur?i.blur:15),this.setRadius(void 0!==i.radius?i.radius:8),Object(n["a"])(this,Object(o["b"])(l.BLUR),this.handleStyleChanged_,this),Object(n["a"])(this,Object(o["b"])(l.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var a,_=i.weight?i.weight:"weight";a="string"===typeof _?function(t){return t.get(_)}:_,this.setStyle(function(t,e){var i=a(t),n=void 0!==i?Object(s["a"])(i,0,1):1,o=255*n|0,r=this.styleCache_[o];return r||(r=[new d["c"]({image:new u["a"]({opacity:n,src:this.circleImage_})})],this.styleCache_[o]=r),r}.bind(this)),this.setRenderOrder(null),Object(n["a"])(this,c["a"].RENDER,this.handleRender_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createCircle_=function(){var t=this.getRadius(),e=this.getBlur(),i=t+e+1,n=2*i,o=Object(r["a"])(n,n);o.shadowOffsetX=o.shadowOffsetY=this.shadow_,o.shadowBlur=e,o.shadowColor="#000",o.beginPath();var a=i-this.shadow_;return o.arc(a,a,t,0,2*Math.PI,!0),o.fill(),o.canvas.toDataURL()},e.prototype.getBlur=function(){return this.get(l.BLUR)},e.prototype.getGradient=function(){return this.get(l.GRADIENT)},e.prototype.getRadius=function(){return this.get(l.RADIUS)},e.prototype.handleGradientChanged_=function(){this.gradient_=f(this.getGradient())},e.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},e.prototype.handleRender_=function(t){for(var e=t.context,i=e.canvas,n=e.getImageData(0,0,i.width,i.height),o=n.data,r=0,a=o.length;r<a;r+=4){var s=4*o[r+3];s&&(o[r]=this.gradient_[s],o[r+1]=this.gradient_[s+1],o[r+2]=this.gradient_[s+2])}e.putImageData(n,0,0)},e.prototype.setBlur=function(t){this.set(l.BLUR,t)},e.prototype.setGradient=function(t){this.set(l.GRADIENT,t)},e.prototype.setRadius=function(t){this.set(l.RADIUS,t)},e}(a["a"]);function f(t){for(var e=1,i=256,n=Object(r["a"])(e,i),o=n.createLinearGradient(0,0,e,i),a=1/(t.length-1),s=0,h=t.length;s<h;++s)o.addColorStop(s*a,t[s]);return n.fillStyle=o,n.fillRect(0,0,e,i),n.getImageData(0,0,e,i).data}e["a"]=_},"480c":function(t,e,i){"use strict";var n=i("5dec"),o=i("1af9"),r=i("a194"),a=i("38f3"),s=function(t){function e(e){var i=e||{},o=Object(a["a"])({},i);delete o.preload,delete o.useInterimTilesOnError,t.call(this,o),this.setPreload(void 0!==i.preload?i.preload:0),this.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),this.type=n["a"].TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(r["a"].PRELOAD)},e.prototype.setPreload=function(t){this.set(r["a"].PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(r["a"].USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(r["a"].USE_INTERIM_TILES_ON_ERROR,t)},e}(o["a"]);s.prototype.getSource,e["a"]=s},5564:function(t,e,i){"use strict";var n=i("1300"),o=i("e269"),r=i("df4c"),a=i("7fc9"),s=i("38f3"),h=function(t){function e(e){t.call(this);var i=Object(s["a"])({},e);i[r["a"].OPACITY]=void 0!==e.opacity?e.opacity:1,i[r["a"].VISIBLE]=void 0===e.visible||e.visible,i[r["a"].Z_INDEX]=e.zIndex,i[r["a"].MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[r["a"].MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(i),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(a["a"])(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(n["b"])()},e.prototype.getLayerStatesArray=function(t){return Object(n["b"])()},e.prototype.getExtent=function(){return this.get(r["a"].EXTENT)},e.prototype.getMaxResolution=function(){return this.get(r["a"].MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(r["a"].MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(r["a"].OPACITY)},e.prototype.getSourceState=function(){return Object(n["b"])()},e.prototype.getVisible=function(){return this.get(r["a"].VISIBLE)},e.prototype.getZIndex=function(){return this.get(r["a"].Z_INDEX)},e.prototype.setExtent=function(t){this.set(r["a"].EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(r["a"].MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(r["a"].MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(r["a"].OPACITY,t)},e.prototype.setVisible=function(t){this.set(r["a"].VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(r["a"].Z_INDEX,t)},e}(o["a"]);e["a"]=h},"5bc0":function(t,e,i){},"617d":function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"i",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"b",(function(){return h})),i.d(e,"a",(function(){return c})),i.d(e,"h",(function(){return u})),i.d(e,"f",(function(){return d})),i.d(e,"e",(function(){return l}));var n="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",o=-1!==n.indexOf("firefox"),r=-1!==n.indexOf("safari")&&-1==n.indexOf("chrom"),a=-1!==n.indexOf("webkit")&&-1==n.indexOf("edge"),s=-1!==n.indexOf("macintosh"),h=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(e){}return t}(),u=(navigator,"ontouchstart"in window),d="PointerEvent"in window,l=!!navigator.msPointerEnabled},"715e":function(t,e,i){"use strict";function n(t,e){return[[-1/0,-1/0,1/0,1/0]]}i.d(e,"a",(function(){return n}))},"7fc9":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"f",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"h",(function(){return h})),i.d(e,"i",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"c",(function(){return d}));i("92fa");function n(t,e,i){return Math.min(Math.max(t,e),i)}var o=function(){var t;return t="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},t}();function r(t,e,i,n,o,r){var s=o-i,h=r-n;if(0!==s||0!==h){var c=((t-i)*s+(e-n)*h)/(s*s+h*h);c>1?(i=o,n=r):c>0&&(i+=s*c,n+=h*c)}return a(t,e,i,n)}function a(t,e,i,n){var o=i-t,r=n-e;return o*o+r*r}function s(t){for(var e=t.length,i=0;i<e;i++){for(var n=i,o=Math.abs(t[i][i]),r=i+1;r<e;r++){var a=Math.abs(t[r][i]);a>o&&(o=a,n=r)}if(0===o)return null;var s=t[n];t[n]=t[i],t[i]=s;for(var h=i+1;h<e;h++)for(var c=-t[h][i]/t[i][i],u=i;u<e+1;u++)i==u?t[h][u]=0:t[h][u]+=c*t[i][u]}for(var d=new Array(e),l=e-1;l>=0;l--){d[l]=t[l][e]/t[l][l];for(var p=l-1;p>=0;p--)t[p][e]-=t[p][l]*d[l]}return d}function h(t){return 180*t/Math.PI}function c(t){return t*Math.PI/180}function u(t,e){var i=t%e;return i*e<0?i+e:i}function d(t,e,i){return t+i*(e-t)}},"97e6":function(t,e,i){"use strict";var n=i("5dec"),o=i("92fa"),r=i("a194"),a=i("3e6b"),s=i("0adb"),h=i("38f3"),c=function(t){function e(e){var i=e||{},r=i.renderMode||s["a"].HYBRID;Object(o["a"])(void 0==r||r==s["a"].IMAGE||r==s["a"].HYBRID||r==s["a"].VECTOR,28),i.declutter&&r==s["a"].IMAGE&&(r=s["a"].HYBRID),i.renderMode=r;var a=Object(h["a"])({},i);delete a.preload,delete a.useInterimTilesOnError,t.call(this,a),this.setPreload(i.preload?i.preload:0),this.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),this.type=n["a"].VECTOR_TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(r["a"].PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(r["a"].USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(r["a"].PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(r["a"].USE_INTERIM_TILES_ON_ERROR,t)},e}(a["a"]);c.prototype.getSource,e["a"]=c},"9c78":function(t,e,i){"use strict";var n=i("1300"),o=i("e300"),r=i("183a"),a=i("e269"),s=i("7b4f"),h=i("92fa"),c=i("1e8d"),u=i("01d4"),d=i("0af5"),l=i("5564"),p=i("38f3"),_=i("6d83"),f={LAYERS:"layers"},g=function(t){function e(e){var i=e||{},n=Object(p["a"])({},i);delete n.layers;var r=i.layers;t.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},Object(c["a"])(this,Object(a["b"])(f.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new o["a"](r.slice(),{unique:!0}):Object(h["a"])("function"===typeof r.getArray,43):r=new o["a"](void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(c["e"]),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(c["a"])(t,r["a"].ADD,this.handleLayersAdd_,this),Object(c["a"])(t,r["a"].REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(c["e"]);Object(p["b"])(this.listenerKeys_);for(var i=t.getArray(),o=0,a=i.length;o<a;o++){var h=i[o];this.listenerKeys_[Object(n["c"])(h)]=[Object(c["a"])(h,s["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(c["a"])(h,u["a"].CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(n["c"])(e)]=[Object(c["a"])(e,s["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(c["a"])(e,u["a"].CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(n["c"])(e);this.listenerKeys_[i].forEach(c["e"]),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(f.LAYERS)},e.prototype.setLayers=function(t){this.set(f.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var n=this.getLayerState(),o=i,r=e.length;o<r;o++){var a=e[o];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),void 0!==n.extent&&(void 0!==a.extent?a.extent=Object(d["B"])(a.extent,n.extent):a.extent=n.extent)}return e},e.prototype.getSourceState=function(){return _["a"].READY},e}(l["a"]);e["a"]=g},a194:function(t,e,i){"use strict";e["a"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},ac29:function(t,e,i){"use strict";var n=i("01d4"),o=i("4cdf"),r=i("0b2d"),a=i("de46"),s=i("e269"),h=i("a568"),c=i("1e8d"),u=i("cef7"),d=i("06f8"),l=(i("0af5"),i("57cb")),p=i("f822"),_=i("f623"),f=i("7a09"),g=i("47e4"),y=i("9a440"),v=i("88da"),m=i("5dca"),E=i("f403"),O=i("5bc3"),b=i("4105"),C=i("bf62"),R=i("3e6b"),T=i("5831"),I=i("6c77"),w={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},P={DRAWSTART:"drawstart",DRAWEND:"drawend"},D=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u["a"]),x=function(t){function e(e){var i=e;i.stopDown||(i.stopDown=l["a"]),t.call(this,i),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=A(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===w.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:l["b"];var n=e.geometryFunction;if(!n)if(this.type_===_["a"].CIRCLE)n=function(t,e){var i=e||new p["a"]([NaN,NaN]),n=Object(h["h"])(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(n)),i};else{var o,r=this.mode_;r===w.POINT?o=E["a"]:r===w.LINE_STRING?o=f["a"]:r===w.POLYGON&&(o=O["a"]),n=function(t,e){var i=e;return i?r===w.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new o(t),i}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new R["a"]({source:new T["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:L(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:d["i"],this.freehandCondition_,e.freehand?this.freehandCondition_=d["c"]:this.freehandCondition_=e.freehandCondition?e.freehandCondition:d["l"],Object(c["a"])(this,Object(s["b"])(C["a"].ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===n["a"].CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==w.POINT&&this.freehandCondition_(e);var i=e.type===r["a"].POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===r["a"].POINTERDRAG){var a=Date.now();a-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,i=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===r["a"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===r["a"].POINTERDOWN?o=!1:i?(o=e.type===r["a"].POINTERMOVE,o&&this.freehand_?o=this.handlePointerMove_(e):(e.pointerEvent.pointerType==m["b"]||e.type===r["a"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===r["a"].DBLCLICK&&(o=!1),t.prototype.handleEvent.call(this,e)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a["a"](r["a"].POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===w.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===w.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,n=e[0]-i[0],o=e[1]-i[1],r=n*n+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,n=[this.finishCoordinate_];if(this.mode_===w.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===w.POLYGON){var o=this.sketchCoords_;i=o[0].length>this.minPoints_,n=[o[0][0],o[0][o[0].length-2]]}if(i)for(var r=t.map,a=0,s=n.length;a<s;a++){var h=n[a],c=r.getPixelFromCoordinate(h),u=t.pixel,d=u[0]-c[0],l=u[1]-c[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(d*d+l*l)<=p,e){this.finishCoordinate_=h;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();if(this.sketchPoint_){var i=this.sketchPoint_.getGeometry();i.setCoordinates(e)}else this.sketchPoint_=new o["a"](new E["a"](e)),this.updateSketchFeatures_()},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===w.POINT?this.sketchCoords_=e.slice():this.mode_===w.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new o["a"](new f["a"](this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new o["a"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new D(P.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,i,n,r=t.coordinate,a=this.sketchFeature_.getGeometry();if(this.mode_===w.POINT?i=this.sketchCoords_:this.mode_===w.POLYGON?(e=this.sketchCoords_[0],i=e[e.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):(e=this.sketchCoords_,i=e[e.length-1]),i[0]=r[0],i[1]=r[1],this.geometryFunction_(this.sketchCoords_,a),this.sketchPoint_){var s=this.sketchPoint_.getGeometry();s.setCoordinates(r)}if(a.getType()==_["a"].POLYGON&&this.mode_!==w.POLYGON){this.sketchLine_||(this.sketchLine_=new o["a"]);var h=a.getLinearRing(0);n=this.sketchLine_.getGeometry(),n?(n.setFlatCoordinates(h.getLayout(),h.getFlatCoordinates()),n.changed()):(n=new f["a"](h.getFlatCoordinates(),h.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry(),n.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,i,n=t.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===w.LINE_STRING?(this.finishCoordinate_=n.slice(),i=this.sketchCoords_,i.length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),this.geometryFunction_(i,o)):this.mode_===w.POLYGON&&(i=this.sketchCoords_[0],i.length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e,i=this.sketchFeature_.getGeometry();this.mode_===w.LINE_STRING?(t=this.sketchCoords_,t.splice(-2,1),this.geometryFunction_(t,i),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===w.POLYGON&&(t=this.sketchCoords_[0],t.splice(-2,1),e=this.sketchLine_.getGeometry(),e.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,i)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===w.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===w.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===_["a"].MULTI_POINT?t.setGeometry(new y["a"]([e])):this.type_===_["a"].MULTI_LINE_STRING?t.setGeometry(new g["a"]([e])):this.type_===_["a"].MULTI_POLYGON&&t.setGeometry(new v["a"]([e])),this.dispatchEvent(new D(P.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry(),i=e;this.sketchFeature_=t,this.sketchCoords_=i.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new D(P.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(b["b"]);function L(){var t=Object(I["b"])();return function(e,i){return t[e.getGeometry().getType()]}}function A(t){var e;return t===_["a"].POINT||t===_["a"].MULTI_POINT?e=w.POINT:t===_["a"].LINE_STRING||t===_["a"].MULTI_LINE_STRING?e=w.LINE_STRING:t===_["a"].POLYGON||t===_["a"].MULTI_POLYGON?e=w.POLYGON:t===_["a"].CIRCLE&&(e=w.CIRCLE),e}e["a"]=x},b2fc:function(t,e,i){"use strict";var n=i("1300"),o=i("183a"),r=i("a568"),a=i("1e8d"),s=i("01d4"),h=i("0af5"),c=i("57cb"),u=i("f623"),d=i("5bc3"),l=i("4105"),p=i("38f3"),_=i("a43f"),f=i("4a7d");function g(t){return t.feature?t.feature:t.element?t.element:void 0}var y=function(t){function e(e){var i=e||{},n=i;n.handleDownEvent||(n.handleDownEvent=c["b"]),n.stopDown||(n.stopDown=c["a"]),t.call(this,n),this.source_=i.source?i.source:null,this.vertex_=void 0===i.vertex||i.vertex,this.edge_=void 0===i.edge||i.edge,this.features_=i.features?i.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.sortByDistance_=v.bind(this),this.rBush_=new f["a"],this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var i=void 0===e||e,o=Object(n["c"])(t),r=t.getGeometry();if(r){var c=this.SEGMENT_WRITERS_[r.getType()];c&&(this.indexedFeaturesExtents_[o]=r.getExtent(Object(h["j"])()),c.call(this,t,r))}i&&(this.featureChangeListenerKeys_[o]=Object(a["a"])(t,s["a"].CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var i=this.snapTo(e.pixel,e.coordinate,e.map);return i.snapped&&(e.coordinate=i.vertex.slice(0,2),e.pixel=i.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=g(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=g(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(n["c"])(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(p["c"])(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var i=void 0===e||e,o=Object(n["c"])(t),r=this.indexedFeaturesExtents_[o];if(r){var s=this.rBush_,h=[];s.forEachInExtent(r,(function(e){t===e.feature&&h.push(e)}));for(var c=h.length-1;c>=0;--c)s.remove(h[c])}i&&(Object(a["e"])(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},e.prototype.setMap=function(e){var i=this.getMap(),n=this.featuresListenerKeys_,r=this.getFeatures_();i&&(n.forEach(a["e"]),n.length=0,r.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?n.push(Object(a["a"])(this.features_,o["a"].ADD,this.handleFeatureAdd_,this),Object(a["a"])(this.features_,o["a"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(a["a"])(this.source_,_["a"].ADDFEATURE,this.handleFeatureAdd_,this),Object(a["a"])(this.source_,_["a"].REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,i){var n=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),o=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),a=Object(h["b"])([n,o]),s=this.rBush_.getInExtent(a);this.vertex_&&!this.edge_&&(s=s.filter((function(t){return t.feature.getGeometry().getType()!==u["a"].CIRCLE})));var c,d,l,p,_,f=!1,g=!1,y=null,v=null;if(s.length>0){this.pixelCoordinate_=e,s.sort(this.sortByDistance_);var m=s[0].segment,E=s[0].feature.getGeometry().getType()===u["a"].CIRCLE;this.vertex_&&!this.edge_?(d=i.getPixelFromCoordinate(m[0]),l=i.getPixelFromCoordinate(m[1]),p=Object(r["h"])(t,d),_=Object(r["h"])(t,l),c=Math.sqrt(Math.min(p,_)),f=c<=this.pixelTolerance_,f&&(g=!0,y=p>_?m[1]:m[0],v=i.getPixelFromCoordinate(y))):this.edge_&&(y=E?Object(r["b"])(e,s[0].feature.getGeometry()):Object(r["c"])(e,m),v=i.getPixelFromCoordinate(y),Object(r["d"])(t,v)<=this.pixelTolerance_&&(g=!0,this.vertex_&&!E&&(d=i.getPixelFromCoordinate(m[0]),l=i.getPixelFromCoordinate(m[1]),p=Object(r["h"])(v,d),_=Object(r["h"])(v,l),c=Math.sqrt(Math.min(p,_)),f=c<=this.pixelTolerance_,f&&(y=p>_?m[1]:m[0],v=i.getPixelFromCoordinate(y))))),g&&(v=[Math.round(v[0]),Math.round(v[1])])}return{snapped:g,vertex:y,vertexPixel:v}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var i=Object(d["b"])(e),n=i.getCoordinates()[0],o=0,r=n.length-1;o<r;++o){var a=n.slice(o,o+2),s={feature:t,segment:a};this.rBush_.insert(Object(h["b"])(a),s)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),n=0;n<i.length;++n){var o=this.SEGMENT_WRITERS_[i[n].getType()];o&&o.call(this,t,i[n])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length-1;n<o;++n){var r=i.slice(n,n+2),a={feature:t,segment:r};this.rBush_.insert(Object(h["b"])(r),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n)for(var r=i[n],a=0,s=r.length-1;a<s;++a){var c=r.slice(a,a+2),u={feature:t,segment:c};this.rBush_.insert(Object(h["b"])(c),u)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n){var r=i[n],a={feature:t,segment:[r,r]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n)for(var r=i[n],a=0,s=r.length;a<s;++a)for(var c=r[a],u=0,d=c.length-1;u<d;++u){var l=c.slice(u,u+2),p={feature:t,segment:l};this.rBush_.insert(Object(h["b"])(l),p)}},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),n={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,o=i.length;n<o;++n)for(var r=i[n],a=0,s=r.length-1;a<s;++a){var c=r.slice(a,a+2),u={feature:t,segment:c};this.rBush_.insert(Object(h["b"])(c),u)}},e}(l["b"]);function v(t,e){var i=Object(r["i"])(this.pixelCoordinate_,t.segment),n=Object(r["i"])(this.pixelCoordinate_,e.segment);return i-n}e["a"]=y},bf62:function(t,e,i){"use strict";e["a"]={ACTIVE:"active"}},c810:function(t,e,i){"use strict";var n=i("5dec"),o=i("1af9"),r=function(t){function e(e){var i=e||{};t.call(this,i),this.type=n["a"].IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o["a"]);r.prototype.getSource,e["a"]=r},df4c:function(t,e,i){"use strict";e["a"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}}}]);
//# sourceMappingURL=chunk-5dc31f06.39dc5548.js.map