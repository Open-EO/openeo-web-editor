{"version":3,"file":"js/4901.2d09be30.js","mappings":"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","sources":["webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/internal/StacMixin.js","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/node_modules/@radiantearth/stac-migrate/migrate.js","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/Item.vue?c308","webpack://@openeo/web-editor/node_modules/@openeo/vue-components/components/Item.vue","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/Item.vue?c2be","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/Item.vue"],"sourcesContent":["import Utils from '../../utils';\r\nimport { Versions } from '@openeo/js-commons';\r\nimport StacMigrate from '@radiantearth/stac-migrate';\r\n\r\nconst IMAGE_MEDIA_TYPES = ['image/apng', 'image/gif', 'image/png', 'image/jpeg', 'image/webp'];\r\nconst IMAGE_EXTENSIONS = ['gif', 'png', 'jpg', 'jpeg', 'webp'];\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tDescription: () => import('../Description.vue'),\r\n\t\tDeprecationNotice: () => import('../DeprecationNotice.vue'),\r\n\t\tLinkList: () => import('../LinkList.vue'),\r\n\t\tStacAsset: () => import('../internal/StacAsset.vue'),\r\n\t\tStacFields: () => import('../internal/StacFields.vue')\r\n\t},\r\n\tprops: {\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t},\r\n\t\tmapOptions: {\r\n\t\t\t// It's not possible to specify defaults for the individual properties, therefore this prop is only accessed through a computed property which adds them in.\r\n\t\t\ttype: Object,\r\n\t\t\t// Default values will be set in computed.leafletOptions\r\n\t\t\tdefault: () => ({}),\r\n\t\t\tvalidator: function(value) {\r\n\t\t\t\tconst allowedTypes = {  // keep in sync with Readme\r\n\t\t\t\t\theight: \"string\",\r\n\t\t\t\t\twidth: \"string\",\r\n\t\t\t\t\tbasemap: \"string\",\r\n\t\t\t\t\tattribution: \"string\",\r\n\t\t\t\t\twrapAroundAntimeridian: \"boolean\",\r\n\t\t\t\t\tscrollWheelZoom: \"boolean\"\r\n\t\t\t\t};\r\n\t\t\t\tconst allowedKeys = Object.keys(allowedTypes);\r\n\t\t\t\treturn typeof value == 'object' && Object.keys(value).every(key =>\r\n\t\t\t\t\tallowedKeys.indexOf(key) != -1 && typeof value[key] == allowedTypes[key]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmap: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstac() {\r\n\t\t\tlet cloned = Utils.deepClone(this.data);\r\n\t\t\treturn StacMigrate.stac(cloned);\r\n\t\t},\r\n\t\tleafletOptions() {\r\n\t\t\treturn {  // keep in sync with Readme\r\n\t\t\t\theight: this.mapOptions.height || '250px',\r\n\t\t\t\twidth: this.mapOptions.width || 'auto',\r\n\t\t\t\tbasemap: this.mapOptions.basemap || 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n\t\t\t\tattribution: this.mapOptions.attribution || 'Map data &copy; <a href=\"http://www.osm.org\">OpenStreetMap</a>',\r\n\t\t\t\tnoWrap: this.mapOptions.wrapAroundAntimeridian === undefined ? true : !this.mapOptions.wrapAroundAntimeridian,  // negate!\r\n\t\t\t\tscrollWheelZoom: this.mapOptions.scrollWheelZoom === undefined ? false : this.mapOptions.scrollWheelZoom\r\n\t\t\t}\r\n\t\t},\r\n\t\tthumbnails() {\r\n\t\t\tif (!Utils.isObject(this.stac.assets)) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn Object.values(this.stac.assets).filter(this.assetIsImage);\r\n\t\t},\r\n\t\thasAssets() {\r\n\t\t\treturn Utils.size(this.stac.assets) > 0;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tdata() {\r\n\t\t\tthis.initMap();\r\n\t\t},\r\n\t\tshowMap(val) {\r\n\t\t\tif (val) {\r\n\t\t\t\tthis.initMap();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tbeforeCreate() {\r\n\t\tUtils.enableHtmlProps(this);\r\n\t},\r\n\tmounted() {\r\n\t\tthis.initMap();\r\n\t},\r\n\tmethods: {\r\n\t\tassetIsImage(asset) {\r\n\t\t\tlet ext = typeof asset.href === 'string' ? asset.href.split('.').pop() : '';\r\n\t\t\treturn Array.isArray(asset.roles) && \r\n\t\t\t\t(asset.roles.includes('thumbnail') || asset.roles.includes('overview')) && \r\n\t\t\t\t(IMAGE_MEDIA_TYPES.includes(asset.type) || IMAGE_EXTENSIONS.includes(ext));\r\n\t\t},\r\n\t\tinitLeafletPlugins() {\r\n\t\t\t// To be implemented in Collection/Item, if required.\r\n\t\t},\r\n\t\tasync initMap() {\r\n\t\t\tif (!this.$refs.mapContainer) {\r\n\t\t\t\tawait this.$nextTick();\r\n\t\t\t}\r\n\t\t\tif (!this.$refs.mapContainer || this.map !== null || !this.showMap) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// Only use the L for leaflet temporarily and release it later again\r\n\t\t\tlet oldL = window.L;\r\n\t\t\ttry {\r\n\t\t\t\tthis.map = {\r\n\t\t\t\t\tleaflet: null,\r\n\t\t\t\t\tinstance: null,\r\n\t\t\t\t\tgeometries: null\r\n\t\t\t\t};\r\n\t\t\t\t// Leaflet no conflict fix: Try to re-use an already available instance of Leaflet to avoid\r\n\t\t\t\t// conflicts with other libraries such as ipyleaflet. Also, use L variable as long as initMap\r\n\t\t\t\t// is running. For all other cases store Leaflet in this.map.leaflet, which can be used in other places.\r\n\t\t\t\tlet hasLeaflet = () => Utils.isObject(window.L) && Versions.validate(window.L.version) && Versions.compare(window.L.version, \"1.x.x\", \"=\");\r\n\t\t\t\tif (!hasLeaflet()) {\r\n\t\t\t\t\twindow.L = await import('leaflet');\r\n\t\t\t\t}\r\n\t\t\t\tif (!hasLeaflet()) {\r\n\t\t\t\t\tconsole.warn(\"Leaflet is not available\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.map.leaflet = window.L;\r\n\r\n\t\t\t\tlet css = await import('leaflet/dist/leaflet.css');\r\n\t\t\t\t// In Web Component mode inject the CSS into the shadowroot\r\n\t\t\t\tif (this.$root && this.$root.$options.shadowRoot && css.__inject__) {\r\n\t\t\t\t\tcss.__inject__(this.$root.$options.shadowRoot);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar map = this.map.leaflet.map(this.$refs.mapContainer, {scrollWheelZoom: this.leafletOptions.scrollWheelZoom});\r\n\t\t\t\tthis.map.instance = map;\r\n\t\t\t\tvar osm = this.map.leaflet.tileLayer(this.leafletOptions.basemap, {\r\n\t\t\t\t\tname: 'Basemap',\r\n\t\t\t\t\tattribution: this.leafletOptions.attribution,\r\n\t\t\t\t\tnoWrap: this.leafletOptions.noWrap\r\n\t\t\t\t});\r\n\t\t\t\tosm.addTo(map);\r\n\r\n\t\t\t\tif (typeof this.addFeatures === 'function') {\r\n\t\t\t\t\tthis.map.geometries = this.addFeatures();\r\n\t\t\t\t\tif (this.map.geometries) {\r\n\t\t\t\t\t\tthis.map.geometries.addTo(map);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update map container in DOM\r\n\t\t\t\tthis.$refs.mapContainer.style.width = this.leafletOptions.width;\r\n\t\t\t\tthis.$refs.mapContainer.style.height = this.leafletOptions.height;\r\n\t\t\t\tmap.invalidateSize(false);\r\n\t\t\t\tthis.updateMapView();\r\n\r\n\t\t\t\tif (typeof this.mapOptions.onAfterMapInit === 'function') {\r\n\t\t\t\t\ttypeof this.mapOptions.onAfterMapInit(map, this.map.geometries);\r\n\t\t\t\t}\r\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\r\n\t\t\t\twindow.L = oldL;\r\n\t\t\t\treturn true;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\r\n\t\t\t\twindow.L = oldL;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateMapView() {\r\n\t\t\tif (!this.map || !this.map.geometries) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Compute somewhat smart map extent and zoom level around bbox\r\n\t\t\tvar bounds = this.map.geometries.getBounds();\r\n\t\t\tvar zoom = this.map.instance.getBoundsZoom(bounds);\r\n\t\t\tvar newZoom = Math.min(zoom, 11); // Never zoom closer than 8\r\n\t\t\tif (zoom > 8) {\r\n\t\t\t\tnewZoom = newZoom - 3; // Zoom out three levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 5) {\r\n\t\t\t\tnewZoom = newZoom - 2; // Zoom out two levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 2) {\r\n\t\t\t\tnewZoom--; // Zoom out one level\r\n\t\t\t}\r\n\t\t\tthis.map.instance.fitBounds(bounds);\r\n\t\t\tthis.map.instance.setZoom(newZoom);\r\n\r\n\t\t\tthis.map.instance.once('moveend zoomend', () => this.map.instance.invalidateSize(false));\r\n\t\t}\r\n\t}\r\n};","// Migration rules partly based on PySTAC and @openeo/js-commons,\r\n// see https://github.com/stac-utils/pystac/tree/v0.5.4/pystac/serialization/migrate.py\r\n// and https://github.com/Open-EO/openeo-js-commons/tree/v1.2.0/src/migrate/collections.js\r\n\r\nvar compareVersions = require('compare-versions');\r\n\r\nconst LATEST_VERSION = '1.0.0';\r\nconst DONE = true; // This is used to verify in code coverage whether something has been used or not\r\nconst SCHEMAS = {\r\n\t'datacube': 'https://stac-extensions.github.io/datacube/v1.0.0/schema.json',\r\n\t'eo': 'https://stac-extensions.github.io/eo/v1.0.0/schema.json',\r\n\t'file': 'https://stac-extensions.github.io/file/v1.0.0/schema.json',\r\n\t'item-assets': 'https://stac-extensions.github.io/item-assets/v1.0.0/schema.json',\r\n\t'label': 'https://stac-extensions.github.io/label/v1.0.0/schema.json',\r\n\t'pointcloud': 'https://stac-extensions.github.io/pointcloud/v1.0.0/schema.json',\r\n\t'processing': 'https://stac-extensions.github.io/processing/v1.0.0/schema.json',\r\n\t'projection': 'https://stac-extensions.github.io/projection/v1.0.0/schema.json',\r\n\t'raster': 'https://stac-extensions.github.io/raster/v1.0.0/schema.json',\r\n\t'sar': 'https://stac-extensions.github.io/sar/v1.0.0/schema.json',\r\n\t'sat': 'https://stac-extensions.github.io/sat/v1.0.0/schema.json',\r\n\t'scientific': 'https://stac-extensions.github.io/scientific/v1.0.0/schema.json',\r\n\t'timestamps': 'https://stac-extensions.github.io/timestamps/v1.0.0/schema.json',\r\n\t'version': 'https://stac-extensions.github.io/version/v1.0.0/schema.json',\r\n\t'view': 'https://stac-extensions.github.io/view/v1.0.0/schema.json'\r\n};\r\nconst EXTENSIONS = {\r\n\t// Add a : at the end to indicate it has a prefix, otherwise list all fields separately (see version extension for example).\r\n\titemAndCollection: {\r\n\t\t// with prefix\r\n\t\t'cube:': SCHEMAS.datacube,\r\n\t\t'eo:': SCHEMAS.eo,\r\n\t\t'file:': SCHEMAS.file,\r\n\t\t'label:': SCHEMAS.label,\r\n\t\t'pc:': SCHEMAS.pointcloud,\r\n\t\t'processing:': SCHEMAS.processing,\r\n\t\t'proj:': SCHEMAS.projection,\r\n\t\t'raster:': SCHEMAS.raster,\r\n\t\t'sar:': SCHEMAS.sar,\r\n\t\t'sat:': SCHEMAS.sat,\r\n\t\t'sci:': SCHEMAS.scientific,\r\n\t\t'view:': SCHEMAS.view,\r\n\t\t// without prefix\r\n\t\t'version': SCHEMAS.version,\r\n\t\t'deprecated': SCHEMAS.version,\r\n\t\t'published': SCHEMAS.timestamps,\r\n\t\t'expires': SCHEMAS.timestamps,\r\n\t\t'unpublished': SCHEMAS.timestamps\r\n\t},\r\n\tcatalog: {\r\n\t\t// None yet\r\n\t},\r\n\tcollection: {\r\n\t\t'item_assets': SCHEMAS['item-assets']\r\n\t},\r\n\titem: {\r\n\t\t// None yet\r\n\t},\r\n};\r\nEXTENSIONS.collection = Object.assign(EXTENSIONS.collection, EXTENSIONS.itemAndCollection);\r\nEXTENSIONS.item = Object.assign(EXTENSIONS.item, EXTENSIONS.itemAndCollection);\r\n\r\nvar V = {\r\n\tversion: LATEST_VERSION,\r\n\r\n\tset(version) {\r\n\t\tif (!version) {\r\n\t\t\tversion = '0.6.0'; // Assume the worst case, it doesn't seem there's a clear indicator for 0.7.0\r\n\t\t}\r\n\t\tV.version = version;\r\n\t},\r\n\r\n\tbefore(version) {\r\n\t\treturn compareVersions.compare(V.version, version, '<');\r\n\t}\r\n};\r\n\r\nvar _ = {\r\n\r\n\ttype(val) {\r\n\t\tlet type = typeof val;\r\n\t\tif (type === 'object') {\r\n\t\t\tif (val === null) {\r\n\t\t\t\treturn 'null';\r\n\t\t\t}\r\n\t\t\telse if (Array.isArray(val)) {\r\n\t\t\t\treturn 'array';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn type;\r\n\t},\r\n\r\n\tis(val, type) {\r\n\t\treturn (_.type(val) === type);\r\n\t},\r\n\r\n\tisDefined(val) {\r\n\t\treturn (typeof val !== 'undefined');\r\n\t},\r\n\r\n\tisObject(obj) {\r\n\t\treturn (typeof obj === 'object' && obj === Object(obj) && !Array.isArray(obj));\r\n\t},\r\n\r\n\trename(obj, oldKey, newKey) {\r\n\t\tif (typeof obj[oldKey] !== 'undefined' && typeof obj[newKey] === 'undefined') {\r\n\t\t\tobj[newKey] = obj[oldKey];\r\n\t\t\tdelete obj[oldKey];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\ttoArray(obj, key) {\r\n\t\tif (typeof obj[key] !== 'undefined' && !Array.isArray(obj[key])) {\r\n\t\t\tobj[key] = [obj[key]];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tflattenArray(obj, key, newKeys, summary = false) {\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tfor(let i in obj[key]) {\r\n\t\t\t\tif (typeof newKeys[i] === 'string') {\r\n\t\t\t\t\tlet value = obj[key][i];\r\n\t\t\t\t\tobj[newKeys[i]] = summary ? [value] : value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tflattenOneElementArray(obj, key, summary = false) {\r\n\t\tif (!summary && Array.isArray(obj[key])) {\r\n\t\t\tif (obj[key].length === 1) {\r\n\t\t\t\tobj[key] = obj[key][0];\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn false; // It's still an array and we don't know which element to choose\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true; // It's already a single element\r\n\t},\r\n\r\n\tremoveFromArray(obj, key, valueToRemove) {\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tlet index = obj[key].indexOf(valueToRemove);\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tobj[key].splice(index, 1);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\taddToArrayIfNotExists(obj, key, valueToAdd) {\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tlet index = obj[key].indexOf(valueToAdd);\r\n\t\t\tif (index === -1) {\r\n\t\t\t\tobj[key].push(valueToAdd);\r\n\t\t\t}\r\n\t\t\tobj[key].sort();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tensure(obj, key, defaultValue) {\r\n\t\tif (_.type(defaultValue) !== _.type(obj[key])) {\r\n\t\t\tobj[key] = defaultValue;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\taddExtension(context, newExtension) {\r\n\t\tif (!_.isObject(context)) {\r\n\t\t\treturn true; // We are likely in summaries and don't need to do anything\r\n\t\t}\r\n\r\n\t\treturn _.addToArrayIfNotExists(context, 'stac_extensions', newExtension) && DONE;\r\n\t},\r\n\r\n\tremoveExtension(context, oldExtension) {\r\n\t\tif (!_.isObject(context)) {\r\n\t\t\treturn true; // We are likely in summaries and don't need to do anything\r\n\t\t}\r\n\r\n\t\treturn _.removeFromArray(context, 'stac_extensions', oldExtension) && DONE;\r\n\t},\r\n\r\n\tmigrateExtensionShortnames(context) {\r\n\t\tlet oldShortnames = Object.keys(SCHEMAS);\r\n\t\tlet newSchemas = Object.values(SCHEMAS);\r\n\t\treturn _.mapValues(context, 'stac_extensions', oldShortnames, newSchemas);\r\n\t},\r\n\r\n\tpopulateExtensions(context, type) {\r\n\t\tlet objectsToCheck = [];\r\n\t\tif (type == 'catalog' || type == 'collection') {\r\n\t\t\tobjectsToCheck.push(context);\r\n\t\t}\r\n\t\tif ((type == 'item' || type == 'collection') && _.isObject(context.assets)) {\r\n\t\t\tobjectsToCheck = objectsToCheck.concat(Object.values(context.assets));\r\n\t\t}\r\n\t\tif (type == 'collection' && _.isObject(context.item_assets)) {\r\n\t\t\tobjectsToCheck = objectsToCheck.concat(Object.values(context.item_assets));\r\n\t\t}\r\n\t\tif (type == 'collection' && _.isObject(context.summaries)) {\r\n\t\t\tobjectsToCheck = objectsToCheck.concat(Object.values(context.summaries));\r\n\t\t}\r\n\t\tif (type == 'item' && _.isObject(context.properties)) {\r\n\t\t\tobjectsToCheck.push(context.properties);\r\n\t\t}\r\n\r\n\t\tfor (let obj of objectsToCheck) {\r\n\t\t\tObject.keys(obj).forEach(key => {\r\n\t\t\t\tlet prefix = key.match(/^(\\w+:|[^:]+$)/i);\r\n\t\t\t\tif (Array.isArray(prefix)) {\r\n\t\t\t\t\tlet ext = EXTENSIONS[type][prefix[0]];\r\n\t\t\t\t\t_.is(ext, 'string') && _.addExtension(context, ext) && DONE;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tmapValues(obj, key, oldValues, newValues) {\r\n\t\tlet fn = value => {\r\n\t\t\tlet index = oldValues.indexOf(value);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\treturn newValues[index];\r\n\t\t\t}\r\n\t\t\treturn value;\t\r\n\t\t};\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tobj[key] = obj[key].map(fn);\r\n\t\t}\r\n\t\telse if (typeof obj[key] !== 'undefined') {\r\n\t\t\tobj[key] = fn(obj[key]);\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\tmapObject(obj, fn) {\r\n\t\tfor(let key in obj) {\r\n\t\t\tobj[key] = fn(obj[key], key);\r\n\t\t}\r\n\t},\r\n\r\n\tmoveTo(obj, key, context, fromSummary = false, mergedSummary = false) {\r\n\t\tlet condition;\r\n\t\tif (fromSummary) {\r\n\t\t\tif (mergedSummary) {\r\n\t\t\t\tcondition = val => Array.isArray(val);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcondition = val => Array.isArray(val) && val.length === 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcondition = _.isDefined\r\n\t\t}\r\n\t\tif (condition(obj[key])) {\r\n\t\t\tcontext[key] = fromSummary && !mergedSummary ? obj[key][0] : obj[key];\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\trunAll(migrations, obj, context = null) {\r\n\t\tfor(let fn in migrations) {\r\n\t\t\tif (!fn.startsWith('migrate')) {\r\n\t\t\t\tmigrations[fn](obj, context);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\ttoUTC(obj, key) {\r\n\t\tif (typeof obj[key] === 'string') {\r\n\t\t\ttry {\r\n\t\t\t\tobj[key] = this.toISOString(obj[key]);\r\n\t\t\t\treturn true;\r\n\t\t\t} catch(error) {}\r\n\t\t}\r\n\t\tdelete obj[key];\r\n\t\treturn false;\r\n\t},\r\n\r\n\ttoISOString(date) {\r\n\t\tif (!(date instanceof Date)) {\r\n\t\t\tdate = new Date(date);\r\n\t\t}\r\n\t\treturn date.toISOString().replace('.000', ''); // Don't export milliseconds if not needed\r\n\t}\r\n\r\n};\r\n\r\nvar Checksum = {\r\n\r\n\thexToUint8(hexString) {\r\n\t\tif(hexString.length === 0 || hexString.length % 2 !== 0){\r\n\t\t\tthrow new Error(`The string \"${hexString}\" is not valid hex.`)\r\n\t\t}\r\n  \t\treturn new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\r\n\t},\r\n\r\n\tuint8ToHex(bytes) {\r\n\t\treturn bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\r\n\t},\r\n\r\n\ttoMultihash(obj, key, algo) {\r\n\t\tif (!_.is(obj[key], 'string')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst multihash = require('multihashes');\r\n\t\t\tconst encoded = multihash.encode(Checksum.hexToUint8(obj[key]), algo);\r\n\t\t\tobj[key] = Checksum.uint8ToHex(encoded);\r\n\t\t\treturn true;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn(error);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar Catalog = {\r\n\r\n\tmigrate(catalog, updateVersionNumber = true) {\r\n\t\tV.set(catalog.stac_version);\r\n\t\tif (updateVersionNumber) {\r\n\t\t\tcatalog.stac_version = LATEST_VERSION;\r\n\t\t}\r\n\t\tcatalog.type = 'Catalog';\r\n\t\tV.before('1.0.0-rc.1') && _.migrateExtensionShortnames(catalog) && DONE;\r\n\r\n\t\t_.ensure(catalog, 'id', '') && DONE;\r\n\t\t_.ensure(catalog, 'description', '') && DONE;\r\n\t\t_.ensure(catalog, 'links', []) && DONE;\r\n\r\n\t\t_.runAll(Catalog, catalog, catalog);\r\n\r\n\t\t_.ensure(catalog, 'stac_extensions', []) && DONE;\r\n\t\tV.before('0.8.0') && _.populateExtensions(catalog, 'catalog') && DONE;\r\n\t},\r\n\r\n\topeneo(obj) {\r\n\t\t_.rename(obj, 'api_version', 'openeo:api_version') && DONE;\r\n\t\t_.rename(obj, 'backend_version', 'openeo:backend_version') && DONE;\r\n\t\t_.rename(obj, 'production', 'openeo:production') && DONE;\r\n\t\t_.rename(obj, 'endpoints', 'openeo:endpoints') && DONE;\r\n\t\t_.rename(obj, 'billing', 'openeo:billing') && DONE;\r\n\t},\r\n\r\n};\r\n\r\nvar Collection = {\r\n\r\n\tmigrate(collection, updateVersionNumber = true) {\r\n\t\tCatalog.migrate(collection, updateVersionNumber); // Migrates stac_version, stac_extensions, id, title, description, links\r\n\t\tcollection.type = 'Collection';\r\n\t\tV.before('1.0.0-rc.1') && _.migrateExtensionShortnames(collection) && DONE;\r\n\r\n\t\t_.ensure(collection, 'license', 'proprietary') && DONE;\r\n\t\t_.ensure(collection, 'extent', {\r\n\t\t\tspatial: {\r\n\t\t\t\tbbox: []\r\n\t\t\t},\r\n\t\t\ttemporal: {\r\n\t\t\t\tinterval: []\r\n\t\t\t}\r\n\t\t}) && DONE;\r\n\r\n\t\t_.runAll(Collection, collection, collection);\r\n\r\n\t\t// Migrate Commons extension - part 3\r\n\t\tif (_.isObject(collection.properties)) {\r\n\t\t\t_.removeFromArray(collection, 'stac_extensions', 'commons') && DONE;\r\n\t\t\tdelete collection.properties;\r\n\t\t}\r\n\r\n\t\tV.before('0.8.0') && _.populateExtensions(collection, 'collection') && DONE;\r\n\t\tV.before('1.0.0-beta.1') && _.mapValues(collection, 'stac_extensions', ['assets'], ['item-assets']) && DONE;\r\n\t},\r\n\r\n\textent(collection) {\r\n\t\t_.ensure(collection, \"extent\", {});\r\n\r\n\t\tif (V.before('0.8.0')) {\r\n\t\t\t// Restructure spatial extent\r\n\t\t\tif (Array.isArray(collection.extent.spatial)) {\r\n\t\t\t\tcollection.extent.spatial = {\r\n\t\t\t\t\tbbox: [\r\n\t\t\t\t\t\tcollection.extent.spatial\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t// Restructure temporal extent\r\n\t\t\tif (Array.isArray(collection.extent.temporal)) {\r\n\t\t\t\tcollection.extent.temporal = {\r\n\t\t\t\t\tinterval: [\r\n\t\t\t\t\t\tcollection.extent.temporal\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_.ensure(collection.extent, \"spatial\", {});\r\n\t\t_.ensure(collection.extent.spatial, \"bbox\", []);\r\n\t\t_.ensure(collection.extent, \"temporal\", {});\r\n\t\t_.ensure(collection.extent.temporal, \"interval\", []);\r\n\r\n\t\tif (V.before('1.0.0-rc.3')) {\r\n\t\t\t// The first extent in a Collection is always the overall extent, followed by more specific extents.\r\n\t\t\tif (collection.extent.temporal.interval.length > 1) {\r\n\t\t\t\tlet min, max;\r\n\t\t\t\tfor(let interval of collection.extent.temporal.interval) {\r\n\t\t\t\t\tif (interval[0] === null) {\r\n\t\t\t\t\t\tmin = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (typeof interval[0] === 'string' && min !== null) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tlet start = new Date(interval[0]);\r\n\t\t\t\t\t\t\tif (typeof min === 'undefined' || start < min) {\r\n\t\t\t\t\t\t\t\tmin = start;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (interval[1] === null) {\r\n\t\t\t\t\t\tmax = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (typeof interval[1] === 'string' && max !== null) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tlet end = new Date(interval[1]);\r\n\t\t\t\t\t\t\tif (typeof max === 'undefined' || end > max) {\r\n\t\t\t\t\t\t\t\tmax = end;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {}\r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t\tcollection.extent.temporal.interval.unshift([\r\n\t\t\t\t\tmin ? _.toISOString(min) : null,\r\n\t\t\t\t\tmax ? _.toISOString(max) : null\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t\tif (collection.extent.spatial.bbox.length > 1) {\r\n\t\t\t\tlet count = collection.extent.spatial.bbox.reduce((val, bbox) => Array.isArray(bbox) ? Math.max(bbox.length, val) : val, 4);\r\n\t\t\t\tif (count >= 4) {\r\n\t\t\t\t\tlet union = new Array(count).fill(null);\r\n\t\t\t\t\tlet middle = count / 2;\r\n\t\t\t\t\tfor(let bbox of collection.extent.spatial.bbox) {\r\n\t\t\t\t\t\tif (!Array.isArray(bbox) || bbox.length < 4) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor(let i in bbox) {\r\n\t\t\t\t\t\t\tlet c = bbox[i];\r\n\t\t\t\t\t\t\tif (union[i] === null) {\r\n\t\t\t\t\t\t\t\tunion[i] = c;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (i < middle) {\r\n\t\t\t\t\t\t\t\tunion[i] = Math.min(c, union[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tunion[i] = Math.max(c, union[i]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (union.findIndex(c => c === null) === -1) {\r\n\t\t\t\t\t\tcollection.extent.spatial.bbox.unshift(union);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tcollectionAssets(collection) {\r\n\t\tV.before('1.0.0-rc.1') && _.removeExtension(collection, 'collection-assets') && DONE;\r\n\r\n\t\tAsset.migrateAll(collection);\r\n\t},\r\n\r\n\titemAsset(collection) {\r\n\t\tV.before('1.0.0-beta.2') && _.rename(collection, 'item_assets', 'assets');\r\n\r\n\t\tAsset.migrateAll(collection, 'item_assets');\r\n\t},\r\n\r\n\tsummaries(collection) {\r\n\t\t_.ensure(collection, 'summaries', {});\r\n\r\n\t\t// other_properties: An early version of the Collection summaries with a similar structure\r\n\t\t// Was mostly used in standalone collctions from openEO and GEE. Move other_properties to summaries.\r\n\t\tif (V.before('0.8.0') && _.isObject(collection.other_properties)) {\r\n\t\t\tfor(let key in collection.other_properties) {\r\n\t\t\t\tlet prop = collection.other_properties[key];\r\n\t\t\t\tif (Array.isArray(prop.extent) && prop.extent.length === 2) {\r\n\t\t\t\t\tcollection.summaries[key] = {\r\n\t\t\t\t\t\tminimum: prop.extent[0],\r\n\t\t\t\t\t\tmaximum: prop.extent[1],\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\telse if (Array.isArray(prop.values)) {\r\n\t\t\t\t\tif (prop.values.filter(v => Array.isArray(v)).length === prop.values.length) {\r\n\t\t\t\t\t\t// If it is an array of arrays, merge the arrays\r\n\t\t\t\t\t\tcollection.summaries[key] = prop.values.reduce((a, b) => a.concat(b), []);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcollection.summaries[key] = prop.values;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete collection.other_properties;\r\n\t\t}\r\n\r\n\t\t// Migrate Commons extension - part 2\r\n\t\t// Move properties to (single element) summaries if the Collection is standalone\r\n\t\t// see also https://github.com/stac-utils/stac-migrate/issues/3\r\n\t\tif (V.before('1.0.0-beta.1') && _.isObject(collection.properties) && !collection.links.find(link => ['child', 'item'].includes(link.rel))) {\r\n\t\t\tfor(let key in collection.properties) {\r\n\t\t\t\tlet value = collection.properties[key];\r\n\t\t\t\tif (!Array.isArray(value)) {\r\n\t\t\t\t\tvalue = [value];\r\n\t\t\t\t}\r\n\t\t\t\tcollection.summaries[key] = value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (V.before('1.0.0-rc.1')) {\r\n\t\t\t_.mapObject(collection.summaries, val => {\r\n\t\t\t\t_.rename(val, 'min', 'minimum') && DONE;\r\n\t\t\t\t_.rename(val, 'max', 'maximum') && DONE;\r\n\t\t\t\treturn val;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// now we can work on all summaries and migrate them\r\n\t\tFields.migrate(collection.summaries);\r\n\r\n\t\t// Some fields should usually be on root-level if there's only one element\r\n\t\t_.moveTo(collection.summaries, 'sci:doi', collection, true) && _.addExtension(collection, SCHEMAS.scientific) && DONE;\r\n\t\t_.moveTo(collection.summaries, 'sci:publications', collection, true, true) && _.addExtension(collection, SCHEMAS.scientific) && DONE;\r\n\t\t_.moveTo(collection.summaries, 'sci:citation', collection, true) && _.addExtension(collection, SCHEMAS.scientific) && DONE;\r\n\t\t_.moveTo(collection.summaries, 'cube:dimensions', collection, true) && _.addExtension(collection, SCHEMAS.datacube) && DONE;\r\n\r\n\t\t// Remove summary field if empty\r\n\t\tif (Object.keys(collection.summaries).length === 0) {\r\n\t\t\tdelete collection.summaries;\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar Item = {\r\n\r\n\tmigrate(item, collection = null, updateVersionNumber = true) {\r\n\t\tV.set(item.stac_version);\r\n\t\tif (updateVersionNumber) {\r\n\t\t\titem.stac_version = LATEST_VERSION;\r\n\t\t}\r\n\t\tV.before('1.0.0-rc.1') && _.migrateExtensionShortnames(item) && DONE;\r\n\r\n\t\t_.ensure(item, 'id', '') && DONE;\r\n\t\t_.ensure(item, 'type', 'Feature') && DONE;\r\n\t\tif (!_.isObject(item.geometry)) {\r\n\t\t\titem.geometry = null;\r\n\t\t}\r\n\t\tif (item.geometry !== null) {\r\n\t\t\t_.ensure(item, 'bbox', []) && DONE;\r\n\t\t}\r\n\t\t_.ensure(item, 'properties', {}) && DONE;\r\n\t\t_.ensure(item, 'links', []) && DONE;\r\n\t\t_.ensure(item, 'assets', {}) && DONE;\r\n\r\n\t\t// Migrate Commons extension - part 1\r\n\t\tlet commons = false;\r\n\t\tif (_.isObject(collection) && _.isObject(collection.properties)) {\r\n\t\t\t_.removeFromArray(item, 'stac_extensions', 'commons');\r\n\t\t\titem.properties = Object.assign({}, collection.properties, item.properties);\r\n\t\t\tcommons = true;\r\n\t\t}\r\n\r\n\t\t_.runAll(Item, item, item);\r\n\r\n\t\tFields.migrate(item.properties, item);\r\n\r\n\t\tAsset.migrateAll(item);\r\n\r\n\t\t_.ensure(item, 'stac_extensions', []) && DONE;\r\n\t\t// Also populate extensions if commons has been implemented\r\n\t\t(V.before('0.8.0') || commons) && _.populateExtensions(item, 'item') && DONE;\r\n\t}\r\n\r\n};\r\n\r\nvar Asset = {\r\n\r\n\tmigrateAll(context, field = 'assets') {\r\n\t\tfor(let key in context[field]) {\r\n\t\t\tAsset.migrate(context[field][key], context);\r\n\t\t}\r\n\t},\r\n\r\n\tmigrate(asset, context) {\r\n\t\t_.runAll(Asset, asset, context);\r\n\t\tFields.migrate(asset, context);\r\n\t},\r\n\r\n\tmediaTypes(asset) {\r\n\t\t_.is(asset.type, 'string') && _.mapValues(\r\n\t\t\tasset, 'type',\r\n\t\t\t['image/vnd.stac.geotiff', \t\t\t'image/vnd.stac.geotiff; cloud-optimized=true'],\r\n\t\t\t['image/tiff; application=geotiff',\t'image/tiff; application=geotiff; profile=cloud-optimized']\r\n\t\t);\r\n\t},\r\n\r\n\teo(asset, context) {\r\n\t\tlet bands = _.isObject(context.properties) && Array.isArray(context.properties['eo:bands']) ? context.properties['eo:bands'] : [];\r\n\t\tif (Array.isArray(asset['eo:bands'])) {\r\n\t\t\tfor(let i in asset['eo:bands']) {\r\n\t\t\t\tlet band = asset['eo:bands'][i];\r\n\t\t\t\tif (_.is(band, 'number') && _.isObject(bands[band])) {\r\n\t\t\t\t\tband = bands[band];\r\n\t\t\t\t}\r\n\t\t\t\telse if (!_.isObject(band)) {\r\n\t\t\t\t\tband = {}; // \"Fix\" invalid band index\r\n\t\t\t\t}\r\n\t\t\t\tasset['eo:bands'][i] = band;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar Fields = {\r\n\r\n\t// If no context is given, we are working in summaries\r\n\tmigrate(obj, context) {\r\n\t\t_.runAll(Fields, obj, context);\r\n\t},\r\n\r\n\t_commonMetadata(obj) {\r\n\t\t// Timestamps must be always in UTC\r\n\t\t// datetime, start_datetime and end_datetime already required UTC before\r\n\t\tif (V.before('1.0.0-rc.3')) {\r\n\t\t\t_.toUTC(obj, 'created') && DONE;\r\n\t\t\t_.toUTC(obj, 'updated') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\t_timestamps(obj) {\r\n\t\t// Timestamps must be always in UTC\r\n\t\t_.toUTC(obj, 'published') && DONE;\r\n\t\t_.toUTC(obj, 'expires') && DONE;\r\n\t\t_.toUTC(obj, 'unpublished') && DONE;\r\n\t},\r\n\r\n\t_versioningIndicator(obj) {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\tchecksum(obj, context) {\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'checksum:md5', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'md5') && DONE;\r\n\t\t\t_.rename(obj, 'checksum:sha1', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'sha1') && DONE;\r\n\t\t\t// We assume sha2/3-256 although that may fail in some cases and other lengths are chosen\r\n\t\t\t// Never seen this implemtned in the wild, so let's try this until another use case comes up\r\n\t\t\t_.rename(obj, 'checksum:sha2', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'sha2-256') && DONE;\r\n\t\t\t_.rename(obj, 'checksum:sha3', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'sha3-256') && DONE;\r\n\t\t}\r\n\r\n\t\tV.before('1.0.0-rc.1') && _.rename(obj, 'checksum:multihash', 'file:checksum') && _.addExtension(context, SCHEMAS.file) && DONE;\r\n\t},\r\n\r\n\tcube() {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\tdtr(obj, context) {\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'dtr:start_datetime', 'start_datetime') && DONE;\r\n\t\t\t_.rename(obj, 'dtr:end_datetime', 'end_datetime') && DONE;\r\n\t\t\t_.removeExtension(context, 'datetime-range') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\teo(obj, context) {\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'eo:epsg', 'proj:epsg') && _.addExtension(context, SCHEMAS.projection) && DONE;\r\n\t\t\t_.rename(obj, 'eo:platform', 'platform') && DONE;\r\n\t\t\t_.rename(obj, 'eo:instrument', 'instruments') && _.toArray(obj, 'instruments') && DONE;\r\n\t\t\t_.rename(obj, 'eo:constellation', 'constellation') && DONE;\r\n\t\t\t_.rename(obj, 'eo:off_nadir', 'view:off_nadir') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:azimuth', 'view:azimuth') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:incidence_angle', 'view:incidence_angle') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:sun_azimuth', 'view:sun_azimuth') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:sun_elevation', 'view:sun_elevation') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t}\r\n\r\n\t\tV.before('1.0.0-beta.1') && _.rename(obj, 'eo:gsd', 'gsd') && DONE;\r\n\t},\r\n\r\n\tlabel(obj) {\r\n\t\t// Migrate 0.8.0-rc1 non-pluralized forms\r\n\t\tif (V.before('0.8.0')) {\r\n\t\t\t_.rename(obj, 'label:property', 'label:properties') && DONE;\r\n\t\t\t_.rename(obj, 'label:task', 'label:tasks') && DONE;\r\n\t\t\t_.rename(obj, 'label:overview', 'label:overviews') && _.toArray(obj, 'label:overviews') && DONE;\r\n\t\t\t_.rename(obj, 'label:method', 'label:methods') && DONE;\r\n\t\t\t_.toArray(obj, 'label:classes') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\tpc(obj) {\r\n\t\tV.before('0.8.0') && _.rename(obj, 'pc:schema', 'pc:schemas') && DONE;\r\n\t},\r\n\r\n\tproj(obj) {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\tsar(obj, context) {\r\n\t\t// If no context is given, it's in summaries\r\n\t\tlet summary = !context;\r\n\r\n\t\t// Which version have they been (re)moved?\r\n\t\t_.rename(obj, 'sar:incidence_angle', 'view:incidence_angle') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t_.rename(obj, 'sar:pass_direction', 'sat:orbit_state') && _.mapValues(obj, 'sat:orbit_state', [null], ['geostationary']) && _.addExtension(context, SCHEMAS.sat) && DONE;\r\n\r\n\t\tif (V.before('0.7.0')) {\r\n\t\t\t_.flattenArray(obj, 'sar:resolution', ['sar:resolution_range', 'sar:resolution_azimuth'], summary) && DONE;\r\n\t\t\t_.flattenArray(obj, 'sar:pixel_spacing', ['sar:pixel_spacing_range', 'sar:pixel_spacing_azimuth'], summary) && DONE;\r\n\t\t\t_.flattenArray(obj, 'sar:looks', ['sar:looks_range', 'sar:looks_azimuth', 'sar:looks_equivalent_number'], summary) && DONE;\r\n\t\t\t_.rename(obj, 'sar:off_nadir', 'view:off_nadir') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t}\r\n\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'sar:platform', 'platform') && DONE;\r\n\t\t\t_.rename(obj, 'sar:instrument', 'instruments') && _.toArray(obj, 'instruments') && DONE;\r\n\t\t\t_.rename(obj, 'sar:constellation', 'constellation') && DONE;\r\n\t\t\t_.rename(obj, 'sar:type', 'sar:product_type') && DONE;\r\n\t\t\t_.rename(obj, 'sar:polarization', 'sar:polarizations') && DONE;\r\n\t\t\t_.flattenOneElementArray(obj, 'sar:absolute_orbit', summary) && _.rename(obj, 'sar:absolute_orbit', 'sat:absolute_orbit') && _.addExtension(context, SCHEMAS.sat) && DONE;\r\n\t\t\t_.flattenOneElementArray(obj, 'sar:relative_orbit', summary) && _.rename(obj, 'sar:relative_orbit', 'sat:relative_orbit') && _.addExtension(context, SCHEMAS.sat) && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\tsat(obj) {\r\n\t\t// Migrate 0.9.0-rc _angle suffixes\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'sat:off_nadir_angle', 'sat:off_nadir') && DONE;\r\n\t\t\t_.rename(obj, 'sat:azimuth_angle', 'sat:azimuth') && DONE;\r\n\t\t\t_.rename(obj, 'sat:sun_azimuth_angle', 'sat:sun_azimuth') && DONE;\r\n\t\t\t_.rename(obj, 'sat:sun_elevation_angle', 'sat:sun_elevation') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\tsci(obj) {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\titem(obj) { // Single Item\r\n\t\tif (V.before('0.8.0')) {\r\n\t\t\t_.rename(obj, 'item:license', 'license') && DONE;\r\n\t\t\t_.rename(obj, 'item:providers', 'providers') && DONE;\r\n\t\t\t// No need to remove the extension from stac_extensions as it was not available before 0.8.0\r\n\t\t}\r\n\t},\r\n\r\n\tview(obj) {\r\n\t\t// Nothing to do\r\n\t}\r\n\r\n};\r\n\r\nvar Migrate = {\r\n\r\n\titem(item, collection = null, updateVersionNumber = true) {\r\n\t\tItem.migrate(item, collection, updateVersionNumber);\r\n\t\treturn item;\r\n\t},\r\n\t\r\n\tcatalog(catalog, updateVersionNumber = true) {\r\n\t\tCatalog.migrate(catalog, updateVersionNumber);\r\n\t\treturn catalog;\r\n\t},\r\n\t\r\n\tcollection(collection, updateVersionNumber = true) {\r\n\t\tCollection.migrate(collection, updateVersionNumber);\r\n\t\treturn collection;\r\n\t},\r\n\t\r\n\tstac(object, updateVersionNumber = true) {\r\n\t\tif (object.type === 'Feature') {\r\n\t\t\treturn Migrate.item(object, null, updateVersionNumber);\r\n\t\t}\r\n\t\telse if (object.type === 'Collection' || _.isDefined(object.extent) || _.isDefined(object.license)) {\r\n\t\t\treturn Migrate.collection(object,  updateVersionNumber);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Migrate.catalog(object, updateVersionNumber);\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nmodule.exports = Migrate;","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('article',{staticClass:\"vue-component stac item\"},[_vm._t(\"title\",function(){return [_c('a',{staticClass:\"anchor\",attrs:{\"name\":_vm.stac.id}}),_c('h2',[_vm._v(_vm._s(_vm.title))])]},null,_vm.$props),_vm._t(\"before-description\",null,null,_vm.$props),(_vm.properties.description)?_c('summary',{staticClass:\"description\"},[_c('Description',{attrs:{\"description\":_vm.properties.description}}),(_vm.properties.deprecated)?_c('DeprecationNotice',{attrs:{\"entity\":\"item\"}}):_vm._e(),(_vm.stac['federation:missing'])?_c('FederationMissingNotice',{attrs:{\"missing\":_vm.stac['federation:missing'],\"federation\":_vm.federation}}):_vm._e()],1):_vm._e(),(_vm.thumbnails.length)?_c('section',{staticClass:\"preview\"},[_c('h3',[_vm._v(\"Previews\")]),_c('div',{staticClass:\"thumbnails\"},_vm._l((_vm.thumbnails),function(img){return _c('a',{key:img.href,attrs:{\"href\":img.href,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":img.href,\"title\":img.title,\"alt\":img.title || 'Preview'}})])}),0)]):_vm._e(),_c('section',{staticClass:\"metadata properties\"},[(_vm.thumbnails.length)?_c('h3',[_vm._v(\"Metadata\")]):_vm._e(),(_vm.stac.geometry || Array.isArray(_vm.stac.bbox))?_vm._t(\"location\",function(){return [_c('div',{staticClass:\"tabular wrap\"},[_c('label',[_vm._v(\"Location\")]),_c('div',{ref:\"mapContainer\",staticClass:\"value map\"},[(!_vm.map)?[_vm._v(\" Latitudes: \"+_vm._s(_vm.stac.bbox[1])+\" / \"+_vm._s(_vm.stac.bbox[3])+\", Longitudes: \"+_vm._s(_vm.stac.bbox[0])+\" / \"+_vm._s(_vm.stac.bbox[2])+\" \")]:_vm._e()],2)])]},{\"geometry\":_vm.stac.geometry,\"bbox\":_vm.stac.bbox,\"mapOptions\":_vm.mapOptions}):_vm._e(),_c('StacFields',{attrs:{\"type\":\"Item\",\"metadata\":_vm.stac,\"headingTag\":\"h4\",\"ignore\":_vm.ignoredFields}})],2),(_vm.hasAssets)?_c('section',{staticClass:\"assets\"},[_c('h3',[_vm._v(\"Assets\")]),_c('ul',{staticClass:\"list\"},_vm._l((_vm.stac.assets),function(asset,id){return _c('StacAsset',{key:id,attrs:{\"asset\":asset,\"id\":id,\"context\":_vm.stac}})}),1)]):_vm._e(),_c('section',{staticClass:\"links\"},[_c('LinkList',{attrs:{\"links\":_vm.stac.links,\"heading\":\"See Also\",\"headingTag\":\"h3\",\"ignoreRel\":['self', 'parent', 'root', 'license', 'cite-as']}})],1),_vm._t(\"end\",null,null,_vm.$props)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<article class=\"vue-component stac item\">\r\n\r\n\t\t<slot name=\"title\" v-bind=\"$props\">\r\n\t\t\t<a class=\"anchor\" :name=\"stac.id\"></a>\r\n\t\t\t<h2>{{ title }}</h2>\r\n\t\t</slot>\r\n\r\n\t\t<slot name=\"before-description\" v-bind=\"$props\"></slot>\r\n\r\n\t\t<summary class=\"description\" v-if=\"properties.description\">\r\n\t\t\t<Description :description=\"properties.description\"></Description>\r\n\r\n\t\t\t<DeprecationNotice v-if=\"properties.deprecated\" entity=\"item\" />\r\n\t\t\t<FederationMissingNotice v-if=\"stac['federation:missing']\" :missing=\"stac['federation:missing']\" :federation=\"federation\" />\r\n\t\t</summary>\r\n\r\n\t\t<section class=\"preview\" v-if=\"thumbnails.length\">\r\n\t\t\t<h3>Previews</h3>\r\n\t\t\t<div class=\"thumbnails\">\r\n\t\t\t\t<a v-for=\"img in thumbnails\" :key=\"img.href\" :href=\"img.href\" target=\"_blank\">\r\n\t\t\t\t\t<img :src=\"img.href\" :title=\"img.title\" :alt=\"img.title || 'Preview'\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"metadata properties\">\r\n\t\t\t<h3 v-if=\"thumbnails.length\">Metadata</h3>\r\n\r\n\t\t\t<slot v-if=\"stac.geometry || Array.isArray(stac.bbox)\" name=\"location\" :geometry=\"stac.geometry\" :bbox=\"stac.bbox\" :mapOptions=\"mapOptions\">\r\n\t\t\t\t<div class=\"tabular wrap\">\r\n\t\t\t\t\t<label>Location</label>\r\n\t\t\t\t\t<div class=\"value map\" ref=\"mapContainer\">\r\n\t\t\t\t\t\t<template v-if=\"!map\">\r\n\t\t\t\t\t\t\tLatitudes: {{ stac.bbox[1] }} / {{ stac.bbox[3] }}, Longitudes: {{ stac.bbox[0] }} / {{ stac.bbox[2] }}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</slot>\r\n\r\n\t\t\t<StacFields type=\"Item\" :metadata=\"stac\" headingTag=\"h4\" :ignore=\"ignoredFields\" />\r\n\t\t</section>\r\n\r\n\t\t<section class=\"assets\" v-if=\"hasAssets\">\r\n\t\t\t<h3>Assets</h3>\r\n\t\t\t<ul class=\"list\">\r\n\t\t\t\t<StacAsset v-for=\"(asset, id) in stac.assets\" :key=\"id\" :asset=\"asset\" :id=\"id\" :context=\"stac\" />\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"links\">\r\n\t\t\t<LinkList :links=\"stac.links\" heading=\"See Also\" headingTag=\"h3\" :ignoreRel=\"['self', 'parent', 'root', 'license', 'cite-as']\" />\r\n\t\t</section>\r\n\r\n\t\t<slot name=\"end\" v-bind=\"$props\"></slot>\r\n\r\n\t</article>\r\n</template>\r\n\r\n<script>\r\nimport FederationMixin from './internal/FederationMixin.js';\r\nimport StacMixin from './internal/StacMixin.js';\r\nimport Utils from '../utils';\r\n\r\nexport default {\r\n\tname: 'Item',\r\n\tmixins: [\r\n\t\tFederationMixin,\r\n\t\tStacMixin\r\n\t],\r\n\t// Mixins don't work properly in web components,\r\n\t// see https://github.com/vuejs/vue-web-component-wrapper/issues/30\r\n\tprops: {\r\n\t\t...FederationMixin.props,\r\n\t\t...StacMixin.props\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tignoredFields: ['title', 'description', 'deprecated', 'federation:missing']\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tproperties() {\r\n\t\t\tif (Utils.isObject(this.stac.properties)) {\r\n\t\t\t\treturn this.stac.properties;\r\n\t\t\t}\r\n\t\t\treturn {};\r\n\t\t},\r\n\t\ttitle() {\r\n\t\t\tif (this.properties.title) {\r\n\t\t\t\treturn `${this.properties.title} (${this.stac.id})`;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn this.stac.id;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowMap() {\r\n\t\t\treturn Boolean(this.stac.geometry);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\taddFeatures() {\r\n\t\t\tlet geom = this.map.leaflet.geoJSON(this.stac);\r\n\t\t\tgeom.setStyle({\r\n\t\t\t\tcolor: '#3388ff',\r\n\t\t\t\tfillOpacity: 0.2\r\n\t\t\t});\r\n\t\t\treturn geom;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './base.scss';\r\n\r\n.vue-component.stac {\r\n\t.metadata .map.value {\r\n\t\toverflow: hidden;\r\n\t}\r\n}\r\n</style>","import mod from \"-!../../../@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=612e0b58&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&id=612e0b58&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["IMAGE_MEDIA_TYPES","IMAGE_EXTENSIONS","components","Description","DeprecationNotice","LinkList","StacAsset","StacFields","props","data","type","Object","default","mapOptions","validator","value","allowedTypes","height","width","basemap","attribution","wrapAroundAntimeridian","scrollWheelZoom","allowedKeys","keys","every","key","indexOf","map","computed","stac","cloned","this","leafletOptions","noWrap","undefined","thumbnails","assets","values","filter","assetIsImage","hasAssets","watch","initMap","showMap","val","beforeCreate","mounted","methods","asset","ext","href","split","pop","Array","isArray","roles","includes","initLeafletPlugins","async","$refs","mapContainer","$nextTick","oldL","window","L","leaflet","instance","geometries","hasLeaflet","Versions","version","console","warn","css","$root","$options","shadowRoot","__inject__","osm","tileLayer","name","addTo","addFeatures","style","invalidateSize","updateMapView","onAfterMapInit","e","error","bounds","getBounds","zoom","getBoundsZoom","newZoom","Math","min","fitBounds","setZoom","once","compareVersions","LATEST_VERSION","DONE","SCHEMAS","EXTENSIONS","itemAndCollection","datacube","eo","file","label","pointcloud","processing","projection","raster","sar","sat","scientific","view","timestamps","catalog","collection","item","assign","V","set","before","compare","_","is","isDefined","isObject","obj","rename","oldKey","newKey","toArray","flattenArray","newKeys","summary","i","flattenOneElementArray","length","removeFromArray","valueToRemove","index","splice","addToArrayIfNotExists","valueToAdd","push","sort","ensure","defaultValue","addExtension","context","newExtension","removeExtension","oldExtension","migrateExtensionShortnames","oldShortnames","newSchemas","mapValues","populateExtensions","objectsToCheck","concat","item_assets","summaries","properties","forEach","prefix","match","oldValues","newValues","fn","mapObject","moveTo","fromSummary","mergedSummary","condition","runAll","migrations","startsWith","toUTC","toISOString","date","Date","replace","Checksum","hexToUint8","hexString","Error","Uint8Array","byte","parseInt","uint8ToHex","bytes","reduce","str","toString","padStart","toMultihash","algo","multihash","encoded","encode","Catalog","migrate","updateVersionNumber","stac_version","openeo","Collection","spatial","bbox","temporal","interval","extent","max","start","end","unshift","count","union","fill","middle","c","findIndex","collectionAssets","Asset","migrateAll","itemAsset","other_properties","prop","minimum","maximum","v","a","b","links","find","link","rel","Fields","Item","geometry","commons","field","mediaTypes","bands","band","_commonMetadata","_timestamps","_versioningIndicator","checksum","cube","dtr","pc","proj","sci","Migrate","object","license","module","exports","render","_vm","_c","_self","staticClass","_t","attrs","id","_v","_s","title","$props","description","_e","federation","_l","img","ref","ignoredFields","staticRenderFns","mixins","FederationMixin","StacMixin","Boolean","geom","geoJSON","setStyle","color","fillOpacity","component"],"sourceRoot":""}