{"version":3,"sources":["webpack:///./src/components/openlayers/progress.js","webpack:///src/components/MapMixin.vue","webpack:///./src/components/MapMixin.vue","webpack:///./src/components/MapMixin.vue?59f8","webpack:///./src/components/TextEditor.vue?25fc","webpack:///src/components/TextEditor.vue","webpack:///./src/components/TextEditor.vue?9144","webpack:///./src/components/TextEditor.vue","webpack:///./src/components/datatypes/MapAreaSelect.vue?2fbb","webpack:///./src/components/modals/Modal.vue?5c0c","webpack:///src/components/modals/Modal.vue","webpack:///./src/components/modals/Modal.vue?3946","webpack:///./src/components/modals/Modal.vue","webpack:///./src/components/ParameterDataTypes.vue?52f6","webpack:///./src/components/jsonSchema.js","webpack:///./src/components/ParameterDataType.vue?67d6","webpack:///./src/components/datatypes/ObjectEditor.vue?bc8a","webpack:///src/components/datatypes/ObjectEditor.vue","webpack:///./src/components/datatypes/ObjectEditor.vue?0a95","webpack:///./src/components/datatypes/ObjectEditor.vue","webpack:///./src/components/datatypes/Budget.vue?f8a4","webpack:///src/components/datatypes/Budget.vue","webpack:///./src/components/datatypes/Budget.vue?9c9d","webpack:///./src/components/datatypes/Budget.vue","webpack:///./src/components/datatypes/MapAreaSelect.vue?faba","webpack:///./src/components/openlayers/areaselect.js","webpack:///src/components/datatypes/MapAreaSelect.vue","webpack:///./src/components/datatypes/MapAreaSelect.vue?f3c5","webpack:///./src/components/datatypes/MapAreaSelect.vue","webpack:///./src/components/datatypes/MapGeoJsonEditor.vue?e9a7","webpack:///src/components/datatypes/MapGeoJsonEditor.vue","webpack:///./src/components/datatypes/MapGeoJsonEditor.vue?37fd","webpack:///./src/components/datatypes/MapGeoJsonEditor.vue","webpack:///src/components/ParameterDataType.vue","webpack:///./src/components/ParameterDataType.vue?b540","webpack:///./src/components/ParameterDataType.vue","webpack:///src/components/ParameterDataTypes.vue","webpack:///./src/components/ParameterDataTypes.vue?e2c1","webpack:///./src/components/ParameterDataTypes.vue","webpack:///./src/components/ParameterDataType.vue?b7f6","webpack:///./src/components/TextEditor.vue?e4e1","webpack:///./src/components/FullscreenButton.vue?4bf2","webpack:///src/components/FullscreenButton.vue","webpack:///./src/components/FullscreenButton.vue?63bb","webpack:///./src/components/FullscreenButton.vue","webpack:///./src/components/ParameterDataTypes.vue?6ce3","webpack:///./src/components/modals/Modal.vue?8d5f","webpack:///./src/components/FullscreenButton.vue?3f3a","webpack:///./src/components/datatypes/ObjectEditor.vue?cec4","webpack:///./src/components/MapMixin.css?c3cc","webpack:///./src/components/datatypes/api.js","webpack:///./src/components/modals/ParameterModal.vue?4ece","webpack:///./src/components/modals/ParameterModal.vue?d772","webpack:///src/components/modals/ParameterModal.vue","webpack:///./src/components/modals/ParameterModal.vue?b35f","webpack:///./src/components/modals/ParameterModal.vue","webpack:///./src/components/TextEditor.vue?9964","webpack:///./src/components/modals/ParameterModal.vue?be62"],"names":["Progress","constructor","this","createHtml","loading","loaded","addLoading","update","addLoaded","percent","toFixed","label","innerText","progressBarInner","style","width","el","opacity","show","document","createElement","className","progressBar","appendChild","getControl","c","Control","element","render","staticRenderFns","mixins","props","id","type","required","center","default","zoom","editable","removableLayers","data","map","baseLayers","basemap","progress","fitOptions","padding","watch","mounted","methods","showMap","createMap","customControls","trash","opaque","attributionsCollapsible","source","baseLayer","title","noSwitcherDelete","visible","hasDefault","target","layers","view","showFullExtent","projection","mapOptions","fromLonLat","onShow","onHide","renderMap","getVisibleLayers","shownLayers","addGeoJson","sourceOpts","geojson","featureProjection","trackTileProgress","component","_vm","_h","$createElement","_c","_self","staticClass","class","languageString","_v","_s","_e","attrs","on","confirmClear","_t","canUndo","$event","editor","undo","canRedo","redo","window","name","components","FullscreenButton","value","language","placeholder","computed","editorOptions","indentUnit","lineNumbers","indentWithTabs","matchBrackets","autoCloseBrackets","readOnly","options","emitValue","updateState","commit","pg","emit","insert","text","updateContent","insertProcess","Utils","zIndex","backgroundClose","ref","startMove","close","minWidth","position","dragPosition","immediate","handler","open","event","stopMove","move","escCloseListener","domProps","selectedType","onSelectType","selectableTypes","length","_l","group","key","dataType","_f","isItem","selectedSchema","description","parameter","context","parent","setSelected","model","callback","$$v","state","expression","instance","JsonSchema","JsonSchemaValidator","store","super","setFileFormats","getters","fileFormats","dispatch","epsgCodes","ajv","ValidationError","message","collections","filter","match","udfRuntimes","Versions","validate","from_node","nativeParameterType","convertToArray","from_parameter","schema","dependency","onSelectDetails","editorDefaultValue","directives","rawName","Array","isArray","_i","$$a","$$el","$$c","checked","$$i","concat","slice","modifiers","numericMin","numericMax","numericStep","composing","_n","$forceUpdate","nativeType","this$1","array","isObject","object","count","maxCount","add","$el","elements","e","k","prop","$set","elementSchema","minCount","remove","draggable","Description","ParameterDataTypes","prefill","arr","newValue","obj","deep","hasBudget","max","amount","capabilities","currency","updateData","AreaSelect","height","size","getSize","moving","interactionListener","htmlMouseUpListener","changeSizeListener","createElements","addControls","setInteractionListener","listener","getBounds","asArray","topRight","bottomLeft","Math","round","sw","getCoordinateFromPixel","ne","west","south","east","north","setBounds","bounds","extentToBBox","ws","en","getPixelFromCoordinate","Number","parseInt","abs","getView","fit","tag","classNames","elem","overlayContainer","getOverlayContainer","topShade","bottomShade","leftShade","rightShade","nwHandle","swHandle","neHandle","seHandle","setUpHandlerEvents","onInteraction","handle","xMod","yMod","onMouseMove","pageX","pageY","min","mapElem","getTargetElement","htmlElem","querySelector","removeEventListener","addEventListener","stopPropagation","tearDown","un","topBottomHeight","leftRightWidth","setElementDimensions","top","left","bottom","right","handleOffset","offsetWidth","dimension","addControl","beforeDestroy","geoJsonLayer","geoJsonEditor","interactions","Info","DrawHole","Offset","Split","mainbar","undoInteraction","editbar","controls","html","handleClick","getGeoJson","gjFeatures","olFeatures","dataProjection","features","ObjectEditor","Budget","MapAreaSelect","MapGeoJsonEditor","TextEditor","Editor","FileFormatOptionsEditor","Duration","Kernel","SelectBox","TemporalPicker","isTemporal","isSelection","isResult","isPgParameter","getValueFromOtherParameterByDataType","TYPE_GROUPS","now","Date","toISOString","replace","SUPPORTED_TYPES","subtype","const","properties","not","format","any","tyoe","noAutoDetect","refSchema","additionalProperties","ParameterDataType","selectedNativeType","jsonSchemaValidator","filters","dataTypeTitle","refSchemas","refs","isRef","showDataTypeChooser","allowedTypes","Object","allowed","supportedTypes","grouped","types","schema2","oneOf","validTypes","console","index","isFullscreen","toggleFullscreen","keyDownFn","oldZIndex","onkeyDown","getElement","API_TYPES","resolveJsonRefs","require","definitions","NATIVE_TYPES","$emit","scopedSlots","_u","fn","parameters","preventDefault","save","apply","arguments","param","toggleParamVisibility","fieldLabel","highlight","selectParameter","info","displayLabel","optional","refInFor","updateType","values","unspecified","deleteParam","staticStyle","proxy","$listeners","Modal","schemas","componentforParameter","callCounter","setInputFocus","firstElement"],"mappings":"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BACA,yBAEA,aACA,uBAGA,kBACAzQ,qBACA0Q,cACAC,QACAC,YACAC,UACAC,YAGAC,gBAGA,iBACA,2BAEAC,gBACA,+BACAC,iDACAA,0CAKA,kBACArL,SACAsL,UACA,YACAC,uCACAjR,aACAkR,2BAEA,YACAD,uCACAjR,aACAkR,8BAWA,OAPAL,gBAGA,oCACA/Q,wBAGA,GAGAqR,aACA,iBACA,8CACA,KACA,eACAC,4BACAC,KACA,CACAC,2BACAnQ,wDAIA,oBACA,KAEA,cACA,+BACA,cAGA,KAIA,CACA5C,yBACAgT,eCvIyW,ICQrW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,oBC6DA,IACf3O,yBACAxE,gBACAyE,YACA2O,eACAC,SACAC,gBACAC,mBACAC,kBAGAC,2DACAC,4EACAnH,mEAEAoH,6DACAC,2DACAC,8DACAC,oEAEA7T,OACA4H,iBACArH,UACAL,aACAG,YAEAuJ,cACAlF,SACAmD,WACAC,WAEArH,OACA,OACA0H,mBAGAtD,UACA3E,OACA,+BAEAiL,aACA,qCAEA1B,sBACA,wCAEAM,qBACA,gCACA,+CACA,8BAEA,6BACA,cAKA+J,aACA,4HAEAC,cACA,kBACA,oBACA,aACA,gBACA,iBACA,gBACA,mBACA,sBACA,oBACA,mBACA,mBACA,kBACA,0BACA,SACA,gBACA,wBACA,QACA,8BAGAxP,OACA,0EAEAyP,WACA,0HAEAC,gBACA,+HAEApJ,aACA,4CACA,oBAEA,IAEAC,aACA,4CACA,oBAEA,IAEAC,cACA,+CACA,uBAEA,sBACA,EAGA,OAGA0B,WACA,yBACA,oCACA,8BAEA,0BACA,8BACA,8BAEA,sBACA,YAEA,gGAEA,qBACA,oCAGA,mBAGA5C,aACA,kBACA,4BACA,2BACA,mFACA,0BACA,eACA,gEACA,gBACA,kEACA,QACA,UAIA7I,OACA0D,SACA,oBACA,wBAGA,kBACA,wBAGAxD,SACAgT,wCACA,8GAGA,mCACA,8BACA,wCACA,gCAKAxK,iBACA,wBACA,+BACA,kCAEAI,kBACA,6BACA,0CCnQ2V,MCQvV,I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","file":"js/chunk-90ce23fe.53ed7e91.js","sourcesContent":["import { Control } from 'ol/control.js';\n\nexport default class Progress {\n\n\tconstructor() {\n\t\tthis.createHtml();\n\t\tthis.loading = 0;\n\t\tthis.loaded = 0;\n\t}\n\n\taddLoading() {\n\t\tthis.loading++;\n\t\tthis.update();\n\t};\n\n\taddLoaded() {\n\t\tthis.loaded++;\n\t\tthis.update();\n\t}\n\n\tupdate() {\n\t\tvar percent = (this.loaded / this.loading * 100).toFixed(1) + '%';\n\t\n\t\tthis.label.innerText = \"Loading Tiles (\" + percent + \")\";\n\t\tthis.progressBarInner.style.width = percent;\n\n\t\tif (this.loading === this.loaded) {\n\t\t\tthis.loading = 0;\n\t\t\tthis.loaded = 0;\n\t\t}\n\n\t\tthis.el.style.opacity = this.show() ? 1 : 0;\n\t}\n\n\tshow() {\n\t\treturn (this.loading > 0 && this.loaded <= this.loading);\n\t}\n\n\tcreateHtml() {\n\t\tthis.el = document.createElement('div');\n\t\tthis.el.className = 'ol-unselectable ol-progress-control';\n\t\tthis.progressBar = document.createElement('div');\n\t\tthis.progressBar.className = 'progress-bar';\n\t\tthis.progressBarInner = document.createElement('div');\n\t\tthis.progressBarInner.className = 'progress-bar-inner';\n\t\tthis.progressBar.appendChild(this.progressBarInner);\n\t\tthis.label = document.createElement('div');\n\t\tthis.label.className = 'progress-label';\n\t\tthis.el.appendChild(this.progressBar);\n\t\tthis.el.appendChild(this.label);\n\t}\n\t\n\tgetControl() {\n\t\tvar c = new Control({\n\t\t\telement: this.el\n\t\t});\n\t\treturn c;\n\t}\n\n}","<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\n\nimport 'ol/ol.css';\nimport { defaults as defaultControls, FullScreen, ScaleLine } from 'ol/control';\nimport { isEmpty as extentIsEmpty } from 'ol/extent';\nimport GeoJSON from 'ol/format/GeoJSON';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport { fromLonLat } from 'ol/proj';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport XYZ from 'ol/source/XYZ';\n\nimport 'ol-ext/control/LayerSwitcher.css';\nimport LayerSwitcher from 'ol-ext/control/LayerSwitcher';\n\nimport Progress from './openlayers/progress';\n\nexport default {\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tcenter: { // WGS84: lat, lon\n\t\t\ttype: Array,\n\t\t\tdefault: () => [0,0]\n\t\t},\n\t\tzoom: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1\n\t\t},\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tremovableLayers: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmap: null,\n\t\t\tbaseLayers: [],\n\t\t\tbasemap: null,\n\t\t\tprogress: null,\n\t\t\tfitOptions: {\n\t\t\t\tpadding: [30,30,30,30]\n\t\t\t}\n\t\t};\n\t},\n\twatch: {\n\t\tshow() {\n\t\t\tthis.showMap();\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.showMap();\n\t},\n\tmethods: {\n\t\tshowMap() {\n\t\t\tif (this.show) {\n\t\t\t\tthis.$nextTick(() => this.renderMap());\n\t\t\t}\n\t\t},\n\t\tcreateMap(showLayerSwitcher = false, projection = 'EPSG:3857') {\n\t\t\tif (this.map !== null) {\n\t\t\t\tthis.map.updateSize();\n\t\t\t\tthis.map.render();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.progress = new Progress();\n\t\t\tvar customControls = [\n\t\t\t\tnew FullScreen(),\n\t\t\t\tnew ScaleLine(),\n\t\t\t\tthis.progress.getControl()\n\t\t\t];\n\t\t\tif (showLayerSwitcher) {\n\t\t\t\tcustomControls.push(new LayerSwitcher({trash: this.removableLayers}));\n\t\t\t}\n\t\t\tlet basemapOptions = {\n\t\t\t\topaque: true,\n\t\t\t\tattributionsCollapsible: false\n\t\t\t};\n\t\t\tthis.baseLayers = [];\n\t\t\tif (Array.isArray(this.$config.basemaps)) {\n\t\t\t\tlet hasDefault = false;\n\t\t\t\tfor(let opts of this.$config.basemaps) {\n\t\t\t\t\tlet basemap = new XYZ(Object.assign({}, basemapOptions, opts));\n\t\t\t\t\tlet baselayer = new TileLayer({\n\t\t\t\t\t\tsource: this.trackTileProgress(basemap),\n\t\t\t\t\t\tbaseLayer: true,\n\t\t\t\t\t\ttitle: opts.title,\n\t\t\t\t\t\tnoSwitcherDelete: true,\n\t\t\t\t\t\tvisible: !hasDefault\n\t\t\t\t\t});\n\t\t\t\t\tthis.baseLayers.push(baselayer);\n\t\t\t\t\thasDefault = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet center = [this.center[1], this.center[0]];\n\t\t\tvar mapOptions = {\n\t\t\t\ttarget: this.id,\n\t\t\t\tlayers: this.baseLayers,\n\t\t\t\tview: new View({\n\t\t\t\t\tcenter: projection === 'EPSG:3857' ? fromLonLat(center) : center,\n\t\t\t\t\tzoom: this.zoom,\n\t\t\t\t\tshowFullExtent: true,\n\t\t\t\t\tprojection\n\t\t\t\t})\n\t\t\t};\n\t\t\tif (!this.editable) {\n\t\t\t\tmapOptions.interactions = [];\n\t\t\t\tmapOptions.controls = customControls;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmapOptions.controls = defaultControls().extend(customControls);\n\t\t\t}\n\t\t\tthis.map = new Map(mapOptions);\n\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\n\t\tfromLonLat(coords) {\n\t\t\tif (this.map && this.map.getView().getProjection().getCode() === 'EPSG:3857') {\n\t\t\t\treturn fromLonLat(coords);\n\t\t\t}\n\t\t\treturn coords;\n\t\t},\n\n\t\tonShow() {\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\t\tonHide() {\n\t\t\tthis.unlisten('windowResized');\n\t\t},\n\n\t\t// To be overridden by implementing components.\n\t\trenderMap() {\n\t\t\tthis.createMap();\n\t\t},\n\n\t\tasync updateMapSize() {\n\t\t\tif (this.map) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.map.updateSize();\n\t\t\t}\n\t\t},\n\n\t\tgetVisibleLayers() {\n\t\t\tlet shownLayers = [];\n\t\t\tlet layers = this.map.getLayers().getArray();\n\t\t\tfor(let layer of layers) {\n\t\t\t\tif (layer.get('userLayer') && layer.getVisible()) {\n\t\t\t\t\tshownLayers.push(layer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shownLayers;\n\t\t},\n\n\t\taddGeoJson(geojson) {\n\t\t\tvar sourceOpts = {};\n\t\t\tif (Utils.detectGeoJson(geojson)) {\n\t\t\t\tsourceOpts.features = (new GeoJSON()).readFeatures(\n\t\t\t\t\tgeojson,\n\t\t\t\t\t{\n\t\t\t\t\t\tfeatureProjection: this.map.getView().getProjection()\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar source = new VectorSource(sourceOpts);\n\t\t\tvar layer = new VectorLayer({\n\t\t\t\ttitle: \"GeoJSON\",\n\t\t\t\tsource: source\n\t\t\t});\n\t\t\tthis.map.addLayer(layer);\n\t\t\tvar extent = source.getExtent();\n\t\t\tif (!extentIsEmpty(extent)) {\n\t\t\t\tthis.map.getView().fit(extent, this.fitOptions);\n\t\t\t}\n\t\t\treturn layer;\n\t\t},\n\n\t\ttrackTileProgress(source) {\n\t\t\tsource.on('tileloadstart', () => {\n\t\t\t\tthis.progress.addLoading();\n\t\t\t});\n\t\t\tsource.on('tileloadend', () => {\n\t\t\t\tthis.progress.addLoaded();\n\t\t\t});\n\t\t\tsource.on('tileloaderror', () => {\n\t\t\t\tthis.progress.addLoaded();\n\t\t\t});\n\t\t\treturn source;\n\t\t}\n\n\t}\n}\n</script>","var render, staticRenderFns\nimport script from \"./MapMixin.vue?vue&type=script&lang=js&\"\nexport * from \"./MapMixin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"textEditor\",class:_vm.languageString},[_c('div',{staticClass:\"sourceHeader\"},[(_vm.title)?_c('strong',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"sourceToolbar\"},[_c('span',{staticClass:\"sepr\"},[(_vm.editable)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"New script / Clear current script\"},on:{\"click\":_vm.confirmClear}},[_c('i',{staticClass:\"fas fa-file\"})]):_vm._e(),_vm._t(\"file-toolbar\")],2),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canUndo,\"title\":\"Revert last change\"},on:{\"click\":function($event){return _vm.editor.undo()}}},[_c('i',{staticClass:\"fas fa-undo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canRedo,\"title\":\"Redo last reverted change\"},on:{\"click\":function($event){return _vm.editor.redo()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_vm._t(\"edit-toolbar\")],2):_vm._e(),_c('FullscreenButton',{attrs:{\"element\":_vm.element}}),_vm._t(\"toolbar\")],2)]),_c('div',{staticClass:\"sourceCodeEditor\",attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"textEditor\" :class=\"languageString\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<strong v-if=\"title\">{{ title }}</strong>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<span class=\"sepr\">\n\t\t\t\t\t<button type=\"button\" v-if=\"editable\" @click=\"confirmClear\" title=\"New script / Clear current script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t\t<slot name=\"file-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"editor.undo()\" :disabled=\"!canUndo\" title=\"Revert last change\"><i class=\"fas fa-undo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"editor.redo()\" :disabled=\"!canRedo\" title=\"Redo last reverted change\"><i class=\"fas fa-redo-alt\"></i></button>\n\t\t\t\t\t<slot name=\"edit-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<FullscreenButton :element=\"element\" />\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"id\" class=\"sourceCodeEditor\"></div>\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport FullscreenButton from './FullscreenButton.vue';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\n\nimport CodeMirror from 'codemirror';\nimport 'codemirror/lib/codemirror.css';\n\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/markdown/markdown.js';\nimport 'codemirror/mode/mathematica/mathematica.js';\nimport 'codemirror/mode/python/python.js';\nimport 'codemirror/mode/r/r.js';\n\nimport 'codemirror/addon/display/placeholder.js';\n\nimport 'codemirror/addon/edit/matchbrackets.js';\nimport 'codemirror/addon/edit/closebrackets.js';\n\nimport 'codemirror/addon/lint/lint.css';\nimport 'codemirror/addon/lint/lint.js';\nimport 'codemirror/addon/lint/json-lint.js'\nimport jsonlint from 'jsonlint-mod';\nwindow.jsonlint = jsonlint;\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tFullscreenButton\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\trequired: true\n\t\t},\n\t\tlanguage: {\n\t\t\ttype: String,\n\t\t\tdefault: null // json, r, python, markdown, processgraph or null\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['processes']),\n\t\tlanguageString() {\n\t\t\treturn typeof this.language === 'string' ? this.language.toLowerCase() : '';\n\t\t},\n\t\teditorOptions() {\n\t\t\tlet options = {\n\t\t\t\tindentUnit: 2,\n\t\t\t\tlineNumbers: true,\n\t\t\t\tindentWithTabs: true,\n\t\t\t\tmatchBrackets: true,\n\t\t\t\tautoCloseBrackets: true,\n\t\t\t\treadOnly: !this.editable,\n\t\t\t\tplaceholder: this.placeholder\n\t\t\t};\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'r':\n\t\t\t\t\toptions.mode = 'text/x-rsrc';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'python':\n\t\t\t\t\toptions.mode = 'text/x-python';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'math':\n\t\t\t\t\toptions.mode = 'text/x-mathematica'; // Use mathematica mode until we have something better for openEO\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'markdown':\n\t\t\t\t\toptions.mode = 'text/x-markdown';\n\t\t\t\t\toptions.lineWrapping = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javascript':\n\t\t\t\t\toptions.mode = 'text/javascript';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'json':\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\toptions.mode = 'application/json';\n\t\t\t\t\toptions.gutters = ['CodeMirror-lint-markers'];\n\t\t\t\t\toptions.lint = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn options;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanUndo: false,\n\t\t\tcanRedo: false,\n\t\t\teditor: null,\n\t\t\temitValue: this.value,\n\t\t\telement: null\n\t\t}\n\t},\n\twatch: {\n\t\tasync value() {\n\t\t\tif (this.emitValue !== this.value) {\n\t\t\t\tthis.updateContent();\n\t\t\t\tthis.editor.clearHistory();\n\t\t\t}\n\t\t},\n\t\teditorOptions() {\n\t\t\tfor(var key in this.editorOptions) {\n\t\t\t\tthis.editor.setOption(key, this.editorOptions[key]);\n\t\t\t}\n\t\t\tthis.updateContent();\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.editor = CodeMirror(document.getElementById(this.id), this.editorOptions);\n\t\tthis.editor.setSize(null, \"100%\");\n\t\tif (this.languageString === 'processgraph') {\n\t\t\tthis.editor.on(\"change\", () => this.updateState());\n\t\t}\n\t\tthis.updateContent();\n\n\t\t// Listen for changes only after first initialization\n\t\tthis.editor.on('changes', (cm, evt) => {\n\t\t\ttry {\n\t\t\t\t// Don't commit external changes (i.e. coming from the value prop)\n\t\t\t\tif (Object.values(evt).filter(e => e.origin === 'setValue').length === 0) {\n\t\t\t\t\tthis.commit();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.$emit('error', error);\n\t\t\t}\n\t\t});\n\n\t\tthis.element = this.$el;\n\t},\n\tmethods: {\n\t\tconfirmClear() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing code?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.insert(\"\");\n\t\t\t\tthis.emit(null);\n\t\t\t}\n\t\t},\n\t\tupdateState() {\n\t\t\t// Don't lint empty values\n\t\t\tthis.editor.setOption(\"lint\", !!this.editor.getValue().trim());\n\t\t\t// Update history state\n\t\t\tlet history = this.editor.getDoc().historySize();\n\t\t\tthis.canUndo = history.undo > 0;\n\t\t\tthis.canRedo = history.redo > 0;\n\t\t\t// Refresh editor\n\t\t\tthis.editor.refresh();\n\t\t\t// Refresh element for fullscreen\n\t\t\tthis.element = this.$el;\n\t\t},\n\t\tcommit() {\n\t\t\tvar value = this.editor.getValue();\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'math':\n\t\t\t\t\treturn this.emit(value.replace(/[\\r\\n\\t]+/, ' ')); // Replace line breaks and tabs with simple spaces\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tvar process = JSON.parse(value);\n\t\t\t\t\t\tif (Utils.size(process) > 0) {\n\t\t\t\t\t\t\tvar pg = new ProcessGraph(process, this.processes);\n\t\t\t\t\t\t\tpg.allowEmpty();\n\t\t\t\t\t\t\tpg.parse();\n\t\t\t\t\t\t\treturn this.emit(process);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this.emit(null);\n\t\t\t\tcase 'json':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\treturn this.emit(JSON.parse(value));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn this.emit(null);\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.emit(value);\n\t\t\t}\n\t\t},\n\t\temit(value) {\n\t\t\tthis.emitValue = value;\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tinsert(text, replace = true) {\n\t\t\tif (typeof text !== 'string') {\n\t\t\t\ttext = String(text);\n\t\t\t}\n\t\t\tif (replace) {\n\t\t\t\t// Only update if it has really changed\n\t\t\t\tconst cmValue = this.editor.getValue();\n\t\t\t\tif (text !== cmValue) {\n\t\t\t\t\tconst scrollInfo = this.editor.getScrollInfo();\n\t\t\t\t\tthis.editor.setValue(text);\n\t\t\t\t\tthis.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.editor.replaceSelection(text);\n\t\t\t}\n\t\t},\n\t\tupdateContent() {\n\t\t\tif (this.value) {\n\t\t\t\tswitch(this.languageString) {\n\t\t\t\t\tcase 'processgraph':\n\t\t\t\t\t\tif (Utils.isObject(this.value)) {\n\t\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.insert(\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'json':\n\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.insert(this.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.insert(\"\");\n\t\t\t}\n\t\t\tthis.editor.getDoc().clearHistory();\n\t\t\tthis.updateState();\n\t\t},\n\n\t\tinsertProcess(node) {\n\t\t\ttry {\n\t\t\t\tthis.insert(JSON.stringify(node, null, 2), false);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\n\t}\n}\n</script>\n\n<style scoped>\n.textEditor {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid #ddd;\n}\n.sourceCodeEditor {\n\tflex-grow: 1;\n\theight: 100%;\n\toverflow: hidden;\n}\n</style>\n<style>\n.textEditor.math .cm-operator {\n\tmargin: 0 0.2em;\n}\n.textEditor.markdown .CodeMirror-wrap pre {\n    word-break: break-word;\n}\n.CodeMirror-placeholder {\n\topacity: 0.5;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=100002bb&scoped=true&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=100002bb&scoped=true&lang=css&\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"100002bb\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",style:({'z-index': _vm.zIndex}),on:{\"mousedown\":_vm.backgroundClose}},[_c('div',{ref:\"container\",staticClass:\"modal-container\",style:(_vm.style)},[_c('header',{staticClass:\"modal-header\",on:{\"mousedown\":_vm.startMove}},[_vm._t(\"header\",function(){return [_c('h2',[_vm._v(_vm._s(_vm.title))]),_c('span',{staticClass:\"close\",on:{\"click\":_vm.close}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]})],2),_c('main',{staticClass:\"modal-content\"},[_vm._t(\"default\")],2),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"modal\" @mousedown=\"backgroundClose\" :style=\"{'z-index': zIndex}\">\n\t\t<div ref=\"container\" class=\"modal-container\" :style=\"style\">\n\t\t\t<header class=\"modal-header\" @mousedown=\"startMove\">\n\t\t\t\t<slot name=\"header\">\n\t\t\t\t\t<h2>{{ title }}</h2>\n\t\t\t\t\t<span class=\"close\" @click=\"close\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></span>\n\t\t\t\t</slot>\n\t\t\t</header>\n\t\t\t<main class=\"modal-content\">\n\t\t\t\t<slot></slot>\n\t\t\t</main>\n\t\t\t<footer class=\"modal-footer\">\n\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t</footer>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from '../EventBusMixin.vue';\nimport Utils from '../../utils.js';\n\nexport default {\n\tname: 'Modal',\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\tminWidth: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\twidth: {\n\t\t\ttype: String,\n\t\t\tdefault: \"auto\"\n\t\t},\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tzIndex: 1000,\n\t\t\tposition: null,\n\t\t\tdragPosition: null\n\t\t};\n\t},\n    computed: {\n\t\t...Utils.mapState('editor', ['hightestModalZIndex']),\n\t\tstyle() {\n\t\t\tlet style = {\n\t\t\t\t'width': this.width\n\t\t\t};\n\t\t\tif (this.minWidth) {\n\t\t\t\tstyle['min-width'] = this.minWidth;\n\t\t\t}\n\t\t\tif (Array.isArray(this.position)) {\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = this.position[0] + 'px';\n\t\t\t\tstyle.top = this.position[1] + 'px';\n\t\t\t}\n\t\t\treturn style;\n\t\t}\n    },\n\twatch: {\n\t\tshow: {\n\t\t\timmediate: true,\n\t\t\thandler(show) {\n\t\t\t\tif (!show) {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.open();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['openModal', 'closeModal']),\n\t\topen() {\n\t\t\tthis.openModal();\n\t\t\tthis.zIndex = this.hightestModalZIndex;\n\t\t\twindow.addEventListener('keydown', this.escCloseListener);\n\t\t\tthis.$emit('shown');\n\t\t},\n\t\tclose() {\n\t\t\twindow.removeEventListener('keydown', this.escCloseListener);\n\t\t\tthis.closeModal();\n\t\t\tthis.$emit('closed');\n\t\t},\n\t\tstartMove(event) {\n\t\t\tif (event.target.tagName !== 'H2') {\n\t\t\t\tthis.dragPosition = [\n\t\t\t\t\tevent.clientX,\n\t\t\t\t\tevent.clientY\n\t\t\t\t];\n\n\t\t\t\tdocument.addEventListener('mousemove', this.move);\n\t\t\t\tdocument.addEventListener('mouseup', this.stopMove);\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tstopMove() {\n\t\t\tdocument.removeEventListener('mousemove', this.move);\n\t\t\tdocument.removeEventListener('mouseup', this.stopMove);\n\t\t},\n\t\tmove(event) {\n      \t\tevent.preventDefault();\n\t\t\t// set the element's new position\n\t\t\tthis.position = [\n\t\t\t\tthis.$refs.container.offsetLeft - (this.dragPosition[0] - event.clientX),\n\t\t\t\tthis.$refs.container.offsetTop - (this.dragPosition[1] - event.clientY)\n\t\t\t];\n\t\t\t// Store for later\n\t\t\tthis.dragPosition = [\n\t\t\t\tevent.clientX,\n\t\t\t\tevent.clientY\n\t\t\t];\n\t\t},\n\t\tescCloseListener(event) {\n\t\t\tif (event.key == \"Escape\") { \n\t\t\t\tthis.close();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tbackgroundClose(event) {\n\t\t\tif (event.target === this.$el) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n@import '../../../theme.scss';\n\n.modal {\n    position: fixed;\n    z-index: 1000; /* Snotify has 9999 and is intentionally above the modals */\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0,0,0,0.4);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.modal .modal-container {\n    background-color: #fff;\n    border: 1px solid #fff;\n\tmin-height: 50vh;\n\tmin-width: 300px;\n\twidth: 70%;\n\tmax-height: 96%;\n\tmax-width: 96%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-shadow: 8px 8px 8px 0px rgba(0,0,0,0.3);\n\tresize: both;\n\toverflow: hidden;\n}\n\n.modal .modal-header {\n\tbackground-color: $mainColor;\n\tcolor: white;\n\tmargin: 0;\n\theight: 1.5rem;\n\tpadding: 1rem;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n    cursor: move;\n}\n\n.modal .modal-header h2 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tmargin-left: -0.5rem;\n\tpadding: 0.5rem;\n\tfont-size: 1.5rem;\n\tborder: 0;\n\tcursor: text;\n}\n\n.modal .modal-content {\n    padding: 1rem;\n\toverflow: auto;\n\tflex-grow: 1;\n}\n\n.modal .inline .modal-content {\n\tpadding: 0;\n}\n\n.modal .modal-footer:empty {\n\tdisplay: none;\n}\n\n.modal .modal-footer {\n\tbackground-color: #eee;\n\tmargin: 0;\n\tpadding: 1rem;\n}\n\n.modal .close {\n\tfont-size: 1.5rem;\n\theight: 2rem;\n\twidth: 2rem;\n    color: white;\n    cursor: pointer;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.modal .close:hover, .modal .close:focus {\n    color: red;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=4c656184&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selectedSchema)?_c('div',{staticClass:\"fieldContainer\"},[(_vm.showDataTypeChooser)?_c('div',{staticClass:\"dataTypeChooser\"},[_c('select',{attrs:{\"name\":\"dataType\",\"disabled\":!_vm.editable},domProps:{\"value\":_vm.selectedType},on:{\"input\":_vm.onSelectType}},[(_vm.selectableTypes.length > 1)?_vm._l((_vm.selectableTypes),function(group){return _c('optgroup',{key:group.name,attrs:{\"label\":group.name}},_vm._l((group.types),function(type){return _c('option',{key:type.dataType(),domProps:{\"value\":type.dataType()}},[_vm._v(_vm._s(_vm._f(\"dataTypeTitle\")(type)))])}),0)}):_vm._l((_vm.selectableTypes[0].types),function(type){return _c('option',{key:type.dataType(),domProps:{\"value\":type.dataType()}},[_vm._v(_vm._s(_vm._f(\"dataTypeTitle\")(type)))])})],2)]):_vm._e(),(!_vm.isItem && _vm.selectedSchema.description())?_c('div',{staticClass:\"description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('Description',{attrs:{\"description\":_vm.selectedSchema.description(),\"compact\":true}})],1):_vm._e(),_c('ParameterDataType',{attrs:{\"editable\":_vm.editable,\"parameter\":_vm.parameter,\"schema\":_vm.selectedSchema,\"context\":_vm.context,\"parent\":_vm.parent},on:{\"changeType\":_vm.setSelected},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { JsonSchemaValidator } from '@openeo/js-processgraphs';\nimport ajv from 'ajv';\nimport { Versions } from '@openeo/js-commons';\n\nvar instance = null;\n\nexport default class JsonSchema extends JsonSchemaValidator {\n\n\tstatic create(store) {\n\t\tif (instance === null) {\n\t\t\tinstance = new JsonSchema(store);\n\t\t}\n\t\treturn instance;\n\t}\n\n\tconstructor(store) {\n\t\tsuper();\n\t\tthis.store = store;\n\t\tthis.setFileFormats(this.store.getters.fileFormats);\n\t}\n\n\tasync validateBandName(data) {\n\t\treturn data.length > 0;\n\t}\n\n\tasync validateEpsgCode(data) {\n\t\tawait this.store.dispatch('editor/loadEpsgCodes');\n\t\tif (this.store.state.editor.epsgCodes[data]) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"Invalid EPSG code '\" + data + \"' specified.\"\n\t\t}]);\n\t}\n\n\tasync validateCollectionId(data) {\n\t\tif (this.store.state.collections.filter(c => c.id === data).length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"Collection with id '\" + data + \"' doesn't exist.\"\n\t\t}]);\n\t}\n\n\tasync validateFilePath(data) {\n\t\tif (this.store.getters['files/getById'](data)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"File at '\" + data + \"' doesn't exist.\"\n\t\t}]);\n\t}\n\n\tasync validateInputFormatOptions(data) {\n\t\tthrow \"Not supported\";\n\t}\n\n\tasync validateOutputFormatOptions(data) {\n\t\tthrow \"Not supported\";\n\t}\n\n\tasync validateJobId(data) {\n\t\tif (this.store.getters['jobs/getById'](data)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"Job with id '\" + data + \"' doesn't exist.\"\n\t\t}]);\n\t}\n\n\tasync validateUri(data) {\n\t\tif (data.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"URI is invalid\"\n\t\t}]);\n\t}\n\n\tasync validateUdfCode(data) {\n\t\t// This is no real validation, but most data types don't have line breaks so trying this for now...\n\t\tif (data.match(/(\\r|\\n)/)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"UDF Code is invalid\"\n\t\t}]);\n\t}\n\n\tasync validateUdfRuntime(data) {\n\t\tif (data in this.store.state.udfRuntimes) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"UDF runtime '\" + data + \"' is not supported.\"\n\t\t}]);\n\t}\n\n\tasync validateUdfRuntimeVersion(data) {\n\t\t// Can't completely check yet whether it's a valid version as I don't know which udf runtime it's for, but for now can check that it's a valid version number\n\t\tif (Versions.validate(data)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"UDF runtime version '\" + data + \"' is not a valid version number.\"\n\t\t}]);\n\t}\n\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fieldEditorContainer\"},[(_vm.isResult)?[_c('div',{staticClass:\"fieldValue externalData fromNode\"},[_c('span',[_vm._v(\"Output of \"),_c('tt',[_vm._v(\"#\"+_vm._s(_vm.state.from_node))])],1)]),(_vm.nativeParameterType === 'array')?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.convertToArray()}}},[_c('i',{staticClass:\"fas fa-list\"}),_vm._v(\" Convert to array\")]):_vm._e()]:(_vm.type === 'raster-cube' || _vm.type === 'vector-cube')?_c('div',{staticClass:\"fieldValue description\"},[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_c('p',[_vm._v(\"This parameter can only be set by creating a connection between an \\\"Output\\\" / \\\"Result\\\" and this parameter in the Visual Model.\")])]):(_vm.isPgParameter)?[_c('div',{staticClass:\"fieldValue externalData fromArgument\"},[_c('span',[_vm._v(\"Value of process parameter \"),_c('tt',[_vm._v(_vm._s(_vm.state.from_parameter))])],1)]),(_vm.nativeParameterType === 'array')?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.convertToArray()}}},[_c('i',{staticClass:\"fas fa-list\"}),_vm._v(\" Convert to array\")]):_vm._e()]:(_vm.type === 'undefined')?_c('div',{staticClass:\"description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('p',[_vm._v(\"No value is set.\")])]):(_vm.type === 'null')?_c('div',{staticClass:\"description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('p',[_vm._v(\"This is set to \"),_c('strong',[_c('tt',[_vm._v(\"null\")])],1),_vm._v(\", which is usually used as placeholder for no-data values or a default value.\")])]):(_vm.isSelection)?_c('SelectBox',{key:_vm.type,attrs:{\"type\":_vm.type,\"editable\":_vm.editable,\"schema\":_vm.schema,\"context\":_vm.dependency},on:{\"onDetails\":_vm.onSelectDetails},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.isTemporal)?_c('TemporalPicker',{key:_vm.type,attrs:{\"type\":_vm.type,\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'bounding-box')?_c('MapAreaSelect',{key:_vm.type,staticClass:\"areaSelector\",attrs:{\"id\":_vm.name + '_bbox',\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'geojson')?_c('MapGeoJsonEditor',{key:_vm.type,staticClass:\"geoJsonEditor\",attrs:{\"id\":_vm.name + '_geojson',\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'process-graph')?_c('Editor',{staticClass:\"callbackEditor\",attrs:{\"editable\":_vm.editable,\"parent\":_vm.parent,\"parentSchema\":_vm.schema,\"showDiscoveryToolbar\":true,\"defaultValue\":_vm.editorDefaultValue},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'output-format-options' || _vm.type === 'input-format-options')?_c('FileFormatOptionsEditor',{ref:\"fileFormatOptionsEditor\",attrs:{\"type\":_vm.type,\"format\":_vm.dependency},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'budget')?_c('Budget',{attrs:{\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'duration')?_c('Duration',{attrs:{\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'kernel')?_c('Kernel',{attrs:{\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'udf-code')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable,\"language\":_vm.dependency},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'commonmark')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable,\"language\":\"markdown\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'wkt2-definition' || _vm.type === 'proj-definition')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type == 'json')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable,\"language\":\"json\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'boolean')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state),expression:\"state\"}],staticClass:\"fieldValue\",attrs:{\"type\":\"checkbox\",\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"checked\":Array.isArray(_vm.state)?_vm._i(_vm.state,null)>-1:(_vm.state)},on:{\"change\":function($event){var $$a=_vm.state,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.state=$$a.concat([$$v]))}else{$$i>-1&&(_vm.state=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.state=$$c}}}}):(_vm.type === 'integer' || _vm.type === 'number')?_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.state),expression:\"state\",modifiers:{\"number\":true}}],staticClass:\"fieldValue\",attrs:{\"type\":\"number\",\"min\":_vm.numericMin,\"max\":_vm.numericMax,\"step\":_vm.numericStep,\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"value\":(_vm.state)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.state=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}):(_vm.type === 'url' || _vm.type === 'uri')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state),expression:\"state\"}],staticClass:\"fieldValue\",attrs:{\"type\":\"url\",\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"value\":(_vm.state)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.state=$event.target.value}}}):(_vm.nativeType === 'object' || _vm.nativeType === 'array')?_c('ObjectEditor',{attrs:{\"editable\":_vm.editable,\"parameter\":_vm.parameter,\"schema\":_vm.schema,\"isObject\":_vm.nativeType === 'object',\"context\":_vm.context},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state),expression:\"state\"}],staticClass:\"fieldValue\",attrs:{\"type\":\"text\",\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"value\":(_vm.state)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.state=$event.target.value}}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{editor: true, array: !_vm.isObject, object: _vm.isObject}},[_c('div',{staticClass:\"buttons\"},[(_vm.editable)?_c('button',{staticClass:\"addBtn\",attrs:{\"type\":\"button\",\"disabled\":_vm.count >= _vm.maxCount},on:{\"click\":function($event){return _vm.add()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")]):_vm._e(),_c('FullscreenButton',{attrs:{\"element\":function () { return this$1.$el; }}})],1),(!_vm.elements.length)?_c('div',{staticClass:\"empty description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),(_vm.isObject)?[_vm._v(\"Object is empty\")]:[_vm._v(\"Array is empty\")]],2):_c('draggable',{attrs:{\"handle\":\".mover\"},model:{value:(_vm.elements),callback:function ($$v) {_vm.elements=$$v},expression:\"elements\"}},_vm._l((_vm.elements),function(e,k){return _c('div',{key:e.id,staticClass:\"fieldValue element\"},[_c('div',{staticClass:\"row\"},[_c('label',{staticClass:\"fieldLabel\"},[(_vm.isObject && (e.prop.title || e.prop.required))?[_vm._v(_vm._s(e.prop.title || e.key))]:(_vm.isObject)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(e.key),expression:\"e.key\"}],attrs:{\"type\":\"text\",\"disabled\":!_vm.editable},domProps:{\"value\":(e.key)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(e, \"key\", $event.target.value)}}}):[_vm._v(_vm._s(k+1))]],2),_c('ParameterDataTypes',{attrs:{\"editable\":_vm.editable,\"parameter\":_vm.elementSchema(k, e.key),\"isItem\":true,\"context\":_vm.context},model:{value:(e.value),callback:function ($$v) {_vm.$set(e, \"value\", $$v)},expression:\"e.value\"}}),(_vm.editable && !e.prop.required)?_c('button',{staticClass:\"deleteBtn\",attrs:{\"disabled\":_vm.count <= _vm.minCount,\"type\":\"button\"},on:{\"click\":function($event){return _vm.remove(k)}}},[_c('i',{staticClass:\"fas fa-trash\"})]):_vm._e(),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editable && !_vm.isObject),expression:\"editable && !isObject\"}],staticClass:\"mover\",attrs:{\"type\":\"button\"}},[_c('i',{staticClass:\"fas fa-arrows-alt\"})])],1),(e.prop.description)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('Description',{attrs:{\"description\":e.prop.description,\"compact\":true}})],1)]):_vm._e()])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :class=\"{editor: true, array: !isObject, object: isObject}\">\n\t\t<div class=\"buttons\">\n\t\t\t<button type=\"button\" class=\"addBtn\" v-if=\"editable\" :disabled=\"count >= maxCount\" @click=\"add()\"><i class=\"fas fa-plus\"></i> Add</button>\n\t\t\t<FullscreenButton :element=\"() => this.$el\" />\n\t\t</div>\n\t\t<div v-if=\"!elements.length\" class=\"empty description\">\n\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t<template v-if=\"isObject\">&nbsp;Object is empty</template>\n\t\t\t<template v-else>&nbsp;Array is empty</template>\n\t\t</div>\n\t\t<draggable v-else v-model=\"elements\" handle=\".mover\">\n\t\t\t<div class=\"fieldValue element\" v-for=\"(e, k) in elements\" :key=\"e.id\">\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label class=\"fieldLabel\">\n\t\t\t\t\t\t<template v-if=\"isObject && (e.prop.title || e.prop.required)\">{{ e.prop.title || e.key }}</template>\n\t\t\t\t\t\t<input v-else-if=\"isObject\" v-model=\"e.key\" type=\"text\" :disabled=\"!editable\"/>\n\t\t\t\t\t\t<template v-else>{{ k+1 }}</template>\n\t\t\t\t\t</label>\n\t\t\t\t\t<ParameterDataTypes :editable=\"editable\" :parameter=\"elementSchema(k, e.key)\" :isItem=\"true\" :context=\"context\" v-model=\"e.value\" />\n\t\t\t\t\t<button v-if=\"editable && !e.prop.required\" :disabled=\"count <= minCount\" class=\"deleteBtn\" type=\"button\" @click=\"remove(k)\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t\t\t<button v-show=\"editable && !isObject\" class=\"mover\" type=\"button\"><i class=\"fas fa-arrows-alt\"></i></button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\" v-if=\"e.prop.description\">\n\t\t\t\t\t<div class=\"description\">\n\t\t\t\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t\t\t\t<Description :description=\"e.prop.description\" :compact=\"true\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</draggable>\n\t</div>\n</template>\n\n<script>\nimport draggable from 'vuedraggable';\nimport Description from '@openeo/vue-components/components/Description.vue';\nimport FullscreenButton from '../FullscreenButton.vue';\nimport { ProcessUtils, ProcessSchema } from '@openeo/js-commons';\nimport Utils from '../../utils';\n\nexport default {\n\tname: 'ObjectEditor',\n\tcomponents: {\n\t\tdraggable,\n\t\tDescription,\n\t\tFullscreenButton,\n\t\tParameterDataTypes: () => import('../ParameterDataTypes.vue')\n\t},\n\tprops: {\n\t\tparameter: Object,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tschema: Object,\n\t\tvalue: {},\n\t\tisObject: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tcontext: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\telements: []\n\t\t};\n\t},\n\tcomputed: {\n\t\tcount() {\n\t\t\treturn Utils.size(this.elements);\n\t\t},\n\t\tmaxCount() {\n\t\t\treturn (this.isObject ? this.schema.schema.maxProperties : this.schema.schema.maxItems) || Number.MAX_VALUE;\n\t\t},\n\t\tminCount() {\n\t\t\treturn (this.isObject ? this.schema.schema.minProperties : this.schema.schema.minItems) || 0;\n\t\t},\n\t\tprefill() {\n\t\t\tlet schema = this.schema.schema;\n\t\t\tif (this.isObject && Utils.isObject(schema.properties)) {\n\t\t\t\tlet arr = [];\n\t\t\t\tfor (let name in schema.properties) {\n\t\t\t\t\tlet required = false;\n\t\t\t\t\tif (Array.isArray(schema.required) && schema.required.includes(name)) {\n\t\t\t\t\t\trequired = true;\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(Object.assign({name, required}, schema.properties[name]));\n\t\t\t\t}\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\telse if (!this.isObject && this.minCount > 0) {\n\t\t\t\treturn [...Array(this.minCount).keys()].map(key => ({\n\t\t\t\t\tname: key\n\t\t\t\t}));\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tnewValue() {\n\t\t\tif (this.isObject) {\n\t\t\t\tlet obj = {};\n\t\t\t\tfor(let e of this.elements) {\n\t\t\t\t\tobj[e.key] = e.value;\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.elements.map(v => v.value);\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tnewValue: {\n\t\t\tdeep: true,\n\t\t\thandler(newValue) {\n\t\t\t\tthis.$emit('input', newValue);\n\t\t\t}\n\t\t},\n\t\tvalue: {\n\t\t\timmediate: true,\n\t\t\thandler(value) {\n\t\t\t\tif (this.newValue !== value) {\n\t\t\t\t\tthis.elements = [];\n\t\t\t\t\t\n\t\t\t\t\t// Prefill if empty\n\t\t\t\t\tif (Utils.size(value) === 0 && this.prefill.length > 0) {\n\t\t\t\t\t\tfor(let prop of this.prefill) {\n\t\t\t\t\t\t\tthis.add(prop.name, undefined, prop);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Convert to internal state object\n\t\t\t\t\telse if (value && typeof value === 'object') {\n\t\t\t\t\t\tfor(let key in value) {\n\t\t\t\t\t\t\tthis.add(key, value[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\telementSchema(index, key = null) {\n\t\t\tlet element = ProcessUtils.getElementJsonSchema(this.schema.schema, key || index);\n\t\t\tlet schema = new ProcessSchema(element);\n\t\t\tif (this.schema.parent instanceof ProcessSchema) {\n\t\t\t\tschema.refs = this.schema.parent.refs || [];\n\t\t\t}\n\t\t\treturn schema;\n\t\t},\n\t\tadd(key = null, value = undefined, prop = {}) {\n\t\t\tlet obj = {\n\t\t\t\tid: String(this.elements.length),\n\t\t\t\tvalue: value\n\t\t\t};\n\t\t\tif (this.isObject) {\n\t\t\t\tobj.key = key ? key : \"unnamed\" + this.elements.length;\n\t\t\t}\n\t\t\tobj.prop = prop;\n\t\t\tif (typeof obj.value === 'undefined') {\n\t\t\t\tif (typeof prop.default !== 'undefined') {\n\t\t\t\t\tobj.value = prop.default;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj.value = this.elementSchema(this.elements.length, obj.key).default;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.elements.push(obj);\n\t\t},\n\t\tremove(k) {\n\t\t\tthis.elements.splice(k, 1);\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.editor, .editor > div {\n\twidth: 100%;\n}\n.element {\n\tborder: 1px solid #ccc;\n\tborder-radius: 3px;\n\tpadding: 0.4em 0.25em;\n\tmargin: 0.4em 0.25em;\n}\n.array .element.sortable-chosen {\n\tbackground: #eee;\n}\n.array .element.sortable-chosen .deleteBtn {\n\tvisibility: hidden;\n}\n#parameterModal .fieldRow .array .element .fieldLabel {\n\tdisplay: flex;\n\talign-items: center;\n\tmin-width: 1.5em;\n\twidth: auto;\n\tpadding: 0 0.5em;\n}\n#parameterModal .fieldRow .object .element .fieldLabel {\n\tmin-width: 20%;\n}\n#parameterModal .fieldRow .element .fieldValue {\n\tdisplay: block;\n}\n.element > .row {\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: stretch;\n}\n.element > .row > .description {\n\tpadding: 0 0.5em;\n\tmargin-top: 0.5em;\n\tmargin-bottom: 0;\n}\n.array .deleteBtn {\n\tmargin: 0 0.5em 0 1em;\n}\n.object .deleteBtn {\n\tmargin-left: 10px;\n}\n.addBtn {\n\tmargin: 0 0.25em;\n}\n.empty.description {\n\tpadding: 0.5em 0.25em;\n}\n.fullscreen {\n\tpadding: 1em;\n\tbox-sizing: border-box;\n}\n.mover {\n\tcursor: pointer;\n\tborder: 0;\n\tbackground-color: transparent;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ObjectEditor.vue?vue&type=template&id=4763cdea&scoped=true&\"\nimport script from \"./ObjectEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ObjectEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ObjectEditor.vue?vue&type=style&index=0&id=4763cdea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4763cdea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"datatypeEditor budget\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.hasBudget),expression:\"hasBudget\"}],attrs:{\"type\":\"checkbox\",\"disabled\":!_vm.editable},domProps:{\"checked\":Array.isArray(_vm.hasBudget)?_vm._i(_vm.hasBudget,null)>-1:(_vm.hasBudget)},on:{\"change\":function($event){var $$a=_vm.hasBudget,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.hasBudget=$$a.concat([$$v]))}else{$$i>-1&&(_vm.hasBudget=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.hasBudget=$$c}}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.amount),expression:\"amount\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"min\":\"0.00\",\"max\":_vm.max,\"step\":\"0.01\",\"disabled\":!_vm.hasBudget || !_vm.editable},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\"\"+_vm._s(_vm.capabilities.currency())+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"datatypeEditor budget\">\n\t\t<input type=\"checkbox\" v-model=\"hasBudget\" :disabled=\"!editable\" />\n\t\t<input type=\"number\" min=\"0.00\" :max=\"max\" step=\"0.01\" :disabled=\"!hasBudget || !editable\" v-model.number=\"amount\" />&nbsp;{{ capabilities.currency() }}\n\t</div>\n</template>\n\n<script>\nimport Utils from '../../utils';\n\nexport default {\n\tname: 'Budget',\n\tcomputed: {\n\t\t...Utils.mapState(['userInfo']),\n\t\t...Utils.mapGetters(['capabilities']),\n\t\tmax() {\n\t\t\tif (this.userInfo.budget > 0) {\n\t\t\t\treturn this.userInfo.budget;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Number.MAX_VALUE;\n\t\t\t}\n\t\t}\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Number,\n\t\t\tdefault: null\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasBudget: (typeof this.value === 'number'),\n\t\t\tamount: this.value\n\t\t};\n\t},\n\twatch: {\n\t\thasBudget() {\n\t\t\tthis.updateData();\n\t\t},\n\t\tamount() {\n\t\t\tthis.updateData();\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateData() {\n      \t\tthis.$emit('input', this.hasBudget && !Number.isNaN(this.amount) ? this.amount : null);\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Budget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Budget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Budget.vue?vue&type=template&id=41395d32&\"\nimport script from \"./Budget.vue?vue&type=script&lang=js&\"\nexport * from \"./Budget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Control } from 'ol/control.js';\nimport Utils from '../../utils.js';\n\nexport default class AreaSelect {\n\n\t// ToDo: Support CRS for bbox objects, currently assumes WGS84 always\n\tconstructor(map, editable = true, width = null, height = null) {\n        this.map = map;\n        var size = this.map.getSize();\n        this.width = width || (size[0] > 0 ? size[0] * 0.7 : 300);\n        this.height = height || (size[1] > 0 ? size[1] * 0.7 : 200);\n        this.moving = false;\n        this.editable = editable;\n        this.interactionListener = null;\n        this.htmlMouseUpListener = null;\n        this.changeSizeListener = null;\n\t\tthis.createElements();\n\t\tthis.addControls();\n\t\tthis.render();\n    }\n    \n    setInteractionListener(listener) {\n        this.interactionListener = listener;\n    }\n    \n    getBounds(asArray = false) {\n        var size = this.map.getSize();\n        var topRight = [0,0];\n        var bottomLeft = [0,0];\n        bottomLeft[0] = Math.round((size[0] - this.width) / 2);\n        topRight[1] = Math.round((size[1] - this.height) / 2);\n        topRight[0] = size[0] - bottomLeft[0];\n        bottomLeft[1] = size[1] - topRight[1];\n        \n        var sw = this.map.getCoordinateFromPixel(bottomLeft);\n        var ne = this.map.getCoordinateFromPixel(topRight);\n        if (asArray) {\n            return sw.concat(ne);\n        }\n        else {\n            return {\n                west: sw[0],\n                south: sw[1],\n                east: ne[0],\n                north: ne[1]\n            };\n        }\n\t}\n    \n    setBounds(bounds) {\n        if (!bounds) {\n            return;\n        }\n        else if (Array.isArray(bounds)) {\n            bounds = Utils.extentToBBox(bounds);\n        }\n        var ws = [bounds.west, bounds.south];\n        var en = [bounds.east, bounds.north];\n        var fitOptions = {\n            callback: () => {\n                var bottomLeft = this.map.getPixelFromCoordinate(ws);\n                var topRight = this.map.getPixelFromCoordinate(en);\n\n                this.width = Number.parseInt(Math.abs(bottomLeft[0] - topRight[0]));\n                this.height = Number.parseInt(Math.abs(bottomLeft[1] - topRight[1]));\n                this.render();\n            }\n        };\n        // Make a bigger extent visible so that user can get a better overview (they can't pan/zoom).\n        var size = this.map.getSize();\n        if (size && !this.editable) {\n            fitOptions.padding = [size[0]/3, size[1]/3, size[0]/3, size[1]/3];\n        }\n        else {\n            fitOptions.padding = [30,30,30,30];\n        }\n        this.map.getView().fit([...ws, ...en], fitOptions);\n    }\n\n\tcreateElement(tag, classNames, parent) {\n\t\tvar elem = document.createElement(tag);\n\t\telem.className = classNames;\n\t\tif (parent) {\n\t\t\tparent.appendChild(elem);\n\t\t}\n\t\treturn elem;\n\t}\n    \n    createElements() {\n        if (!!this.overlayContainer) {\n\t\t\treturn;\n\t\t}\n        \n        this.overlayContainer = this.createElement(\"div\", \"ol-unselectable ol-areaselect ol-areaselect-shade-container\", this.map.getOverlayContainer());\n        this.topShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        this.bottomShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        this.leftShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        this.rightShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        \n        if (this.editable) {\n            this.nwHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            this.swHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            this.neHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            this.seHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            \n            this.setUpHandlerEvents(this.nwHandle, 1, 1);\n            this.setUpHandlerEvents(this.neHandle, -1, 1);\n            this.setUpHandlerEvents(this.swHandle, 1, -1);\n            this.setUpHandlerEvents(this.seHandle, -1, -1);\n        }\n        this.changeSizeListener = () => this.onInteraction();\n        this.map.on(\"change:size\", this.changeSizeListener);\n    }\n    \n    setUpHandlerEvents(handle, xMod, yMod) {\n\t\tvar onMouseMove = (event) => {\n\t\t\tif (!this.moving) {\n\t\t\t\treturn;\n\t\t\t}\n            var size = this.map.getSize();\n\t\t\tthis.width += (this.moving[0] - event.pageX) * 2 * xMod;\n\t\t\tthis.height += (this.moving[1] - event.pageY) * 2 * yMod;\n\t\t\tthis.width = Math.max(30, this.width);\n\t\t\tthis.height = Math.max(30, this.height);\n\t\t\tthis.width = Math.min(size[0]-30, this.width);\n\t\t\tthis.height = Math.min(size[1]-30, this.height);\n\t\t\tthis.moving = [event.pageX, event.pageY];\n\t\t\tthis.render();\n        };\n        \n        var mapElem = this.map.getTargetElement();\n        var htmlElem = document.querySelector('html');\n\n        this.htmlMouseUpListener = () => {\n            if (!this.map.getTargetElement()) return;\n            mapElem.removeEventListener(\"mousemove\", onMouseMove);\n            htmlElem.removeEventListener(\"mouseup\", this.htmlMouseUpListener);\n\t\t\tthis.moving = false;\n            if (typeof this.interactionListener === 'function') {\n                this.interactionListener();\n            }\n\t\t};\n\n        handle.addEventListener(\"mousedown\", (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.moving = [event.pageX, event.pageY];\n            mapElem.addEventListener(\"mousemove\", onMouseMove);\n            htmlElem.addEventListener(\"mouseup\", this.htmlMouseUpListener);\n        });\n    }\n\n    tearDown() {\n        document.querySelector('html').removeEventListener(\"mouseup\", this.htmlMouseUpListener);\n        this.map.un(\"change:size\", this.changeSizeListener);\n    }\n    \n    onInteraction() {\n        this.render();\n    }\n    \n    render() {\n\t\tvar size = this.map.getSize();\n        var topBottomHeight = Math.round((size[1] - this.height)/2);\n\t\tvar leftRightWidth = Math.round((size[0] - this.width)/2);\n\n        this.setElementDimensions(this.overlayContainer, {width: size[0], height: size[1]});\n        this.setElementDimensions(this.topShade, {width: size[0], height: topBottomHeight, top: 0, left: 0});\n        this.setElementDimensions(this.bottomShade, {width: size[0], height: topBottomHeight, bottom: 0, left: 0});\n        this.setElementDimensions(this.leftShade, {\n            width: leftRightWidth, \n            height: size[1]-(topBottomHeight*2), \n            top: topBottomHeight, \n            left: 0\n        });\n        this.setElementDimensions(this.rightShade, {\n            width: leftRightWidth, \n            height: size[1]-(topBottomHeight*2), \n            top: topBottomHeight, \n            right: 0\n        });\n        \n        if (this.editable) {\n            var handleOffset = Math.round(this.nwHandle.offsetWidth/2);\n            this.setElementDimensions(this.nwHandle, {left: leftRightWidth-handleOffset, top: topBottomHeight-7});\n            this.setElementDimensions(this.neHandle, {right: leftRightWidth-handleOffset, top: topBottomHeight-7});\n            this.setElementDimensions(this.swHandle, {left: leftRightWidth-handleOffset, bottom: topBottomHeight-7});\n            this.setElementDimensions(this.seHandle, {right: leftRightWidth-handleOffset, bottom: topBottomHeight-7});\n        }\n    }\n        \n\tsetElementDimensions(element, dimension) {\n\t\telement.style.width = dimension.width + \"px\";\n\t\telement.style.height = dimension.height + \"px\";\n\t\telement.style.top = dimension.top + \"px\";\n\t\telement.style.left = dimension.left + \"px\";\n\t\telement.style.bottom = dimension.bottom + \"px\";\n\t\telement.style.right = dimension.right + \"px\";\n\t}\n\n\taddControls() {\n        if (this.editable) {\n            this.addControl(this.nwHandle);\n            this.addControl(this.neHandle);\n            this.addControl(this.swHandle);\n            this.addControl(this.seHandle);\n        }\n\t}\n\t\n\taddControl(element) {\n\t\tthis.map.addControl(\n\t\t\tnew Control({\n\t\t\t\telement: element\n\t\t\t})\n\t\t);\n\t}\n\n}","<template>\n\t<div :id=\"id\"></div>\n</template>\n\n<script>\nimport MapMixin from '../MapMixin.vue';\n\nimport AreaSelect from '../openlayers/areaselect';\n\nexport default {\n\tname: 'MapAreaSelect',\n\tmixins: [MapMixin],\n\tprops: {\n\t\t// Either Object or Array.\n\t\t// Array is always in WGS84 with the following elements: 0 => west, 1 => south, 2 => east, 3 => north\n\t\t// Object is an bbox object as defined by the openEO API (with west, south, east, north properties).\n\t\tvalue: {\n\t\t\ttype: [Object, Array],\n\t\t\tdefault: () => null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcallback: null\n\t\t};\n\t},\n\tcomputed: {\n\t\tasArray() {\n\t\t\treturn Array.isArray(this.value);\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tthis.areaSelect.tearDown();\n\t\tthis.map.un('change', this.callback);\n\t\tthis.map.getView().un('change', this.callback);\n\t\tthis.map.un('propertychange', this.callback);\n\t},\n\tmethods: {\n\t\trenderMap() {\n\t\t\tthis.createMap(true, 'EPSG:4326');\n\n\t\t\tthis.areaSelect = new AreaSelect(this.map, this.editable);\n\t\t\tif (this.value !== null) {\n\t\t\t\tthis.areaSelect.setBounds(this.value);\n\t\t\t}\n\n\t\t\tif (this.editable) {\n\t\t\t\tthis.callback = () => this.$emit('input', this.areaSelect.getBounds(this.asArray));\n\t\t\t\tthis.areaSelect.setInteractionListener(this.callback);\n\t\t\t\tthis.map.on('change', this.callback);\n\t\t\t\tthis.map.getView().on('change', this.callback);\n\t\t\t\tthis.map.on('propertychange', this.callback);\n\t\t\t}\n\t\t}\n\t}\n\n}\n</script>\n\n<style src=\"../MapMixin.css\"></style>\n\n<style>\n/* Area selector */\n.ol-areaselect {\n\tposition: absolute;\n    left: 0;\n    top: 0;\n}\n.ol-areaselect-shade {\n    position: absolute;\n\tbackground: rgba(0,0,0, 0.4);\n\tz-index: 0;\n}\n.ol-areaselect-handle {\n    position: absolute;\n    background: #fff;\n    border: 1px solid #666;\n    -moz-box-shadow: 1px 1px rgba(0,0,0, 0.2);\n    -webkit-box-shadow: 1px 1px rgba(0,0,0, 0.2);\n    box-shadow: 1px 1px rgba(0,0,0, 0.2);\n    width: 14px;\n    height: 14px;\n\tcursor: move;\n\tz-index: 1;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapAreaSelect.vue?vue&type=template&id=6abbac48&\"\nimport script from \"./MapAreaSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./MapAreaSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"../MapMixin.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./MapAreaSelect.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :id=\"id\"></div>\n</template>\n\n<script>\nimport MapMixin from '../MapMixin.vue';\n\nimport GeoJSON from 'ol/format/GeoJSON';\nimport Snap from 'ol/interaction/Snap';\n\nimport 'ol-ext/control/Bar.css';\nimport Bar from 'ol-ext/control/Bar';\nimport Button from 'ol-ext/control/Button';\nimport 'ol-ext/control/EditBar.css';\nimport EditBar from 'ol-ext/control/EditBar';\nimport UndoRedo from 'ol-ext/interaction/UndoRedo';\n\nexport default {\n\tname: 'MapGeoJsonEditor',\n\tmixins: [MapMixin],\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tgeoJsonLayer: null\n\t\t};\n\t},\n\tmethods: {\n\t\tshowMap() {\n\t\t\tif (this.show) {\n\t\t\t\tthis.$nextTick(this.renderMap);\n\t\t\t}\n\t\t},\n\t\trenderMap() {\n\t\t\tthis.createMap(true, 'EPSG:4326');\n\n\t\t\tif (!this.editable) {\n\t\t\t\tthis.geoJsonLayer = this.addGeoJson(this.value);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.geoJsonLayer = this.geoJsonEditor(this.value);\n\t\t\t}\n\n\t\t\tif (this.editable) {\n\t\t\t\tvar callback = () => this.$emit('input', this.getGeoJson());\n\t\t\t\tthis.geoJsonLayer.getSource().on('change', callback);\n\t\t\t}\n\t\t},\n\n\t\tgeoJsonEditor(geojson) {\n\t\t\tvar layer = this.addGeoJson(geojson);\n\n\t\t\tvar mainbar = new Bar();\n\t\t\tthis.map.addControl(mainbar);\n\n\t\t\t// Editbar\n\t\t\tvar editbar = new EditBar ({\n\t\t\t\tsource: layer.getSource(),\n\t\t\t\tinteractions: {\n\t\t\t\t\tInfo: false,\n\t\t\t\t\tDrawHole: false,\n\t\t\t\t\tOffset: false,\n\t\t\t\t\tSplit: false\n\t\t\t\t}\n\t\t\t});\n\t\t\tmainbar.addControl(editbar);\n\n\t\t\t// Undo redo interaction\n\t\t\tvar undoInteraction = new UndoRedo();\n\t\t\tthis.map.addInteraction(undoInteraction);\n\t\t\t// Prevent selection of a deleted feature\n\t\t\tundoInteraction.on('undo', e => {\n\t\t\t\tif (e.action.type === 'addfeature') {\n\t\t\t\t\teditbar.getInteraction('Select').getFeatures().clear();\n\t\t\t\t\teditbar.getInteraction('Transform').select();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add buttons to the bar\n\t\t\tvar bar = new Bar({ \n\t\t\t\tgroup: true,\n\t\t\t\tcontrols: [\n\t\t\t\t\tnew Button({\n\t\t\t\t\t\thtml: '<i class=\"fas fa-undo-alt\"></i>',\n\t\t\t\t\t\ttitle: 'Undo',\n\t\t\t\t\t\thandleClick: () => undoInteraction.undo()\n\t\t\t\t\t}),\n\t\t\t\t\tnew Button({\n\t\t\t\t\t\thtml: '<i class=\"fas fa-redo-alt\"></i>',\n\t\t\t\t\t\ttitle: 'Redo',\n\t\t\t\t\t\thandleClick: () => undoInteraction.redo()\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t\tmainbar.addControl(bar);\n\n\t\t\t// Add snap functionality\n\t\t\tthis.map.addInteraction(new Snap({ \n\t\t\t\tsource: layer.getSource() \n\t\t\t}));\n\n\t\t\treturn layer;\n\t\t},\n\n\t\tgetGeoJson() {\n\t\t\tvar geojson = new GeoJSON();\n\t\t\tvar olFeatures = this.geoJsonLayer.getSource().getFeatures();\n\t\t\tvar gjFeatures = [];\n\t\t\tfor(var i in olFeatures) {\n\t\t\t\tgjFeatures.push(geojson.writeFeatureObject(\n\t\t\t\t\tolFeatures[i],\n\t\t\t\t\t{\n\t\t\t\t\t\tdataProjection: 'EPSG:4326',\n\t\t\t\t\t\tfeatureProjection: this.map.getView().getProjection()\n\t\t\t\t\t}\n\t\t\t\t));\n\t\t\t}\n\t\t\tif (gjFeatures.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telse if (gjFeatures.length === 1) {\n\t\t\t\tif (!gjFeatures[0].properties && gjFeatures[0].geometry) {\n\t\t\t\t\treturn gjFeatures[0].geometry;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn gjFeatures[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"FeatureCollection\",\n\t\t\t\t\tfeatures: gjFeatures\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n</script>\n\n<style src=\"../MapMixin.css\"></style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapGeoJsonEditor.vue?vue&type=template&id=0a32b7b9&\"\nimport script from \"./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"../MapMixin.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"fieldEditorContainer\">\n\t\t<!-- Result Node -->\n\t\t<template v-if=\"isResult\">\n\t\t\t<div class=\"fieldValue externalData fromNode\">\n\t\t\t\t<span>Output of <tt>#{{ state.from_node }}</tt></span>\n\t\t\t</div>\n\t\t\t<button type=\"button\" v-if=\"nativeParameterType === 'array'\" @click=\"convertToArray()\"><i class=\"fas fa-list\"></i> Convert to array</button>\n\t\t</template>\n\t\t<div v-else-if=\"type === 'raster-cube' || type === 'vector-cube'\" class=\"fieldValue description\">\n\t\t\t<i class=\"fas fa-exclamation-circle\"></i>\n\t\t\t<p>This parameter can only be set by creating a connection between an \"Output\" / \"Result\" and this parameter in the Visual Model.</p>\n\t\t</div>\n\t\t<!-- Process Parameter -->\n\t\t<template v-else-if=\"isPgParameter\">\n\t\t\t<div class=\"fieldValue externalData fromArgument\">\n\t\t\t\t<span>Value of process parameter <tt>{{ state.from_parameter }}</tt></span>\n\t\t\t</div>\n\t\t\t<button type=\"button\" v-if=\"nativeParameterType === 'array'\" @click=\"convertToArray()\"><i class=\"fas fa-list\"></i> Convert to array</button>\n\t\t</template>\n\t\t<!-- Undefined -->\n\t\t<div class=\"description\" v-else-if=\"type === 'undefined'\">\n\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t<p>No value is set.</p>\n\t\t</div>\n\t\t<!-- Null -->\n\t\t<div class=\"description\" v-else-if=\"type === 'null'\">\n\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t<p>This is set to <strong><tt>null</tt></strong>, which is usually used as placeholder for no-data values or a default value.</p>\n\t\t</div>\n\t\t<!-- Select Boxes (collection id, job id, epsg code, in/output format, service type, billing plan, enums) -->\n\t\t<SelectBox v-else-if=\"isSelection\" v-model=\"state\" :key=\"type\" :type=\"type\" :editable=\"editable\" :schema=\"schema\" :context=\"dependency\" @onDetails=\"onSelectDetails\"></SelectBox>\n\t\t<!-- Temporal (date, time, date-time, temporal-interval) -->\n\t\t<TemporalPicker v-else-if=\"isTemporal\" v-model=\"state\" :key=\"type\" :type=\"type\" :editable=\"editable\"></TemporalPicker>\n\t\t<!-- Bounding Box -->\n\t\t<MapAreaSelect v-else-if=\"type === 'bounding-box'\" v-model=\"state\" :key=\"type\" :id=\"name + '_bbox'\" :editable=\"editable\" class=\"areaSelector\"></MapAreaSelect>\n\t\t<!-- GeoJSON -->\n\t\t<MapGeoJsonEditor v-else-if=\"type === 'geojson'\" v-model=\"state\" :key=\"type\" :id=\"name + '_geojson'\" :editable=\"editable\" class=\"geoJsonEditor\"></MapGeoJsonEditor>\n\t\t<!-- Process Editor -->\n\t\t<Editor v-else-if=\"type === 'process-graph'\" class=\"callbackEditor\" :editable=\"editable\" :parent=\"parent\" :parentSchema=\"schema\" :showDiscoveryToolbar=\"true\" v-model=\"state\" :defaultValue=\"editorDefaultValue\" />\n\t\t<!-- Output format options -->\n\t\t<FileFormatOptionsEditor v-else-if=\"type === 'output-format-options' || type === 'input-format-options'\" ref=\"fileFormatOptionsEditor\" :type=\"type\" v-model=\"state\" :format=\"dependency\"></FileFormatOptionsEditor>\n\t\t<!-- Budget -->\n\t\t<Budget v-else-if=\"type === 'budget'\" v-model=\"state\" :editable=\"editable\" />\n\t\t<!-- Budget -->\n\t\t<Duration v-else-if=\"type === 'duration'\" v-model=\"state\" :editable=\"editable\" />\n\t\t<!-- Budget -->\n\t\t<Kernel v-else-if=\"type === 'kernel'\" v-model=\"state\" :editable=\"editable\" />\n\t\t<!-- UDF-Code -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type === 'udf-code'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" :language=\"dependency\" />\n\t\t<!-- CommonMark -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type === 'commonmark'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" language=\"markdown\" />\n\t\t<!-- WKT / PROJ -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type === 'wkt2-definition' || type === 'proj-definition'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" />\n\t\t<!-- JSON -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type == 'json'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" language=\"json\" />\n\t\t<!-- Boolean -->\n\t\t<input class=\"fieldValue\" v-else-if=\"type === 'boolean'\" v-model=\"state\" type=\"checkbox\" :name=\"name\" :disabled=\"!editable\" />\n\t\t<!-- Integer / Number -->\n\t\t<input class=\"fieldValue\" v-else-if=\"type === 'integer' || type === 'number'\" v-model.number=\"state\" type=\"number\" :min=\"numericMin\" :max=\"numericMax\" :step=\"numericStep\" :name=\"name\" :disabled=\"!editable\" />\n\t\t<!-- URL -->\n\t\t<input class=\"fieldValue\" v-else-if=\"type === 'url' || type === 'uri'\" v-model=\"state\" type=\"url\" :name=\"name\" :disabled=\"!editable\" />\n\t\t<!-- Objects / Arrays -->\n\t\t<ObjectEditor  v-else-if=\"nativeType === 'object' || nativeType === 'array'\" :editable=\"editable\" :parameter=\"parameter\" :schema=\"schema\" :isObject=\"nativeType === 'object'\" v-model=\"state\" :context=\"context\" />\n\t\t<!-- String and all other -->\n\t\t<input class=\"fieldValue\" v-else v-model=\"state\" type=\"text\" :name=\"name\" :disabled=\"!editable\" />\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\n\nimport ObjectEditor from './datatypes/ObjectEditor.vue';\nimport Budget from './datatypes/Budget.vue';\nimport MapAreaSelect from './datatypes/MapAreaSelect.vue';\nimport MapGeoJsonEditor from './datatypes/MapGeoJsonEditor.vue';\nimport TextEditor from './TextEditor.vue';\n\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'ParameterDataType',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tObjectEditor,\n\t\tBudget,\n\t\tMapAreaSelect,\n\t\tMapGeoJsonEditor,\n\t\tTextEditor,\n\t\t// Asynchronously load the following components to avoid circular references.\n\t\t// See https://vuejs.org/v2/guide/components-edge-cases.html#Circular-References-Between-Components\n\t\tEditor: () => import('./Editor.vue'),\n\t\tFileFormatOptionsEditor: () => import('./datatypes/FileFormatOptionsEditor.vue'),\n\t\tParameterDataTypes: () => import('./ParameterDataTypes.vue'),\n\t\t// Async loading for smaller starting bundle,\n\t\tDuration: () => import('./datatypes/Duration.vue'),\n\t\tKernel: () => import('./datatypes/Kernel.vue'),\n\t\tSelectBox: () => import('./datatypes/SelectBox.vue'),\n\t\tTemporalPicker: () => import('./datatypes/TemporalPicker.vue')\n\t},\n\tprops: {\n\t\tparameter: Object,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tschema: Object,\n\t\tvalue: {},\n\t\tcontext: {},\n\t\tparent: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstate: this.value\n\t\t};\n\t},\n\tcomputed: {\n\t\ttype() {\n\t\t\treturn this.schema.dataType();\n\t\t},\n\t\tnativeType() {\n\t\t\treturn this.schema.nativeDataType();\n\t\t},\n\t\tnativeParameterType() {\n\t\t\treturn this.parameter.nativeDataType();\n\t\t},\n\t\teditorDefaultValue() {\n\t\t\tif (this.type === 'process-graph') {\n\t\t\t\tif (typeof this.parameter.default !== 'undefined') {\n\t\t\t\t\treturn this.parameter.default;\n\t\t\t\t}\n\t\t\t\telse if (this.parameter.nullable()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\t\tisTemporal() {\n\t\t\treturn (this.type === 'date' || this.type === 'time' || this.type === 'date-time' || this.type === 'temporal-interval' || this.type === 'year');\n\t\t},\n\t\tisSelection() {\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'collection-id':\n\t\t\t\tcase 'job-id':\n\t\t\t\tcase 'file-path':\n\t\t\t\tcase 'file-paths':\n\t\t\t\tcase 'epsg-code':\n\t\t\t\tcase 'input-format':\n\t\t\t\tcase 'openeo-datatype':\n\t\t\t\tcase 'output-format':\n\t\t\t\tcase 'service-type':\n\t\t\t\tcase 'billing-plan':\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\treturn true;\n\t\t\t\tcase 'band-name':\n\t\t\t\t\treturn !!this.dependency;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.schema.isEnum();\n\t\t\t}\n\t\t},\n\t\tname() {\n\t\t\treturn this.parameter.name + (Array.isArray(this.parameter.value) ? '[]' : '');\n\t\t},\n\t\tisResult() {\n\t\t\treturn Boolean(Utils.isObject(this.state) && this.state.from_node && Utils.size(this.state) === 1 && this.schema.schema.isRef);\n\t\t},\n\t\tisPgParameter() {\n\t\t\treturn Boolean(Utils.isObject(this.state) && this.state.from_parameter && Utils.size(this.state) === 1 && this.schema.schema.isRef);\n\t\t},\n\t\tnumericMin() {\n\t\t\tif (typeof this.schema.minimum === 'number') {\n\t\t\t\treturn this.schema.minimum;\n\t\t\t}\n\t\t\treturn \"\"; // Empty seems to be the default for the input element\n\t\t},\n\t\tnumericMax() {\n\t\t\tif (typeof this.schema.maximum === 'number') {\n\t\t\t\treturn this.schema.maximum;\n\t\t\t}\n\t\t\treturn \"\"; // Empty seems to be the default for the input element\n\t\t},\n\t\tnumericStep() {\n\t\t\tif (typeof this.schema.multipleOf === 'number') {\n\t\t\t\treturn this.schema.multipleOf;\n\t\t\t}\n\t\t\telse if (this.type === 'integer') {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 'any';\n\t\t\t}\n\t\t},\n\t\tnewValue() {\n\t\t\tif (this.type === 'number') {\n\t\t\t\tvar num = Number.parseFloat(this.state);\n\t\t\t\treturn Number.isNaN(num) ? null : num;\n\t\t\t}\n\t\t\telse if (this.type === 'integer') {\n\t\t\t\tvar num = Number.parseInt(this.state);\n\t\t\t\treturn Number.isNaN(num) ? null : num;\n\t\t\t}\n\t\t\telse if (this.type === 'null') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telse if (typeof this.state === 'string' && this.state.length > 0 && (this.type === 'any' || this.type === 'mixed')) {\n\t\t\t\t// Try to guess whether it is a number or not\n\t\t\t\tvar num = Number(this.state);\n\t\t\t\treturn Number.isNaN(num) ? this.state : num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.state;\n\t\t\t}\n\t\t},\n\t\tdependency() {\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'output-format-options':\n\t\t\t\tcase 'input-format-options':\n\t\t\t\t\treturn this.getValueFromOtherParameterByDataType(this.type.replace('-options', ''));\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\tcase 'udf-code':\n\t\t\t\t\treturn this.getValueFromOtherParameterByDataType('udf-runtime');\n\t\t\t\tcase 'band-name':\n\t\t\t\t\treturn this.getValueFromOtherParameterByDataType('collection-id');\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tvalue(newVal) {\n\t\t\tif (newVal !== this.newValue) {\n\t\t\t\tthis.state = this.value;\n\t\t\t}\n\t\t},\n\t\tasync newValue(newVal) {\n\t\t\tthis.$emit('input', newVal);\n\t\t}\n\t},\n\tmethods: {\n\t\tgetValueFromOtherParameterByDataType(dataType) {\n\t\t\tif (!Utils.isObject(this.context) || !Utils.isObject(this.context.schemas) || !Utils.isObject(this.context.values)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(let name in this.context.schemas) {\n\t\t\t\tlet schema = this.context.schemas[name];\n\t\t\t\tif (Utils.isObject(schema) && schema.dataType() === dataType) {\n\t\t\t\t\treturn this.context.values[name];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tconvertToArray() {\n\t\t\tthis.state = [this.state];\n\t\t\tthis.$emit('input', this.state);\n\t\t\tthis.$emit('changeType', 'array');\n\t\t},\n\t\tonSelectDetails() {\n\t\t\tif (this.type === 'collection-id') {\n\t\t\t\tthis.emit('showCollection', this.state);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.areaSelector, .geoJsonEditor {\n\theight: 500px;\n\tflex-grow: 1;\n}\n.textarea {\n\twidth: 100%;\n\theight: 250px;\n}\n.externalData span {\n\tdisplay: inline-block; \n\tbackground-color: #ddd;\n\tpadding: 2px 5px;\n\tborder-radius: 3px;\n}\n.externalData tt {\n\tfont-size: 1.1em;\n\tfont-weight: bold;\n}\n.callbackEditor {\n\theight: 450px;\n\tmin-width: 50px;\n\twidth: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataType.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataType.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParameterDataType.vue?vue&type=template&id=094b9536&scoped=true&\"\nimport script from \"./ParameterDataType.vue?vue&type=script&lang=js&\"\nexport * from \"./ParameterDataType.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParameterDataType.vue?vue&type=style&index=0&id=094b9536&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"094b9536\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"fieldContainer\" v-if=\"selectedSchema\">\n\t\t<div class=\"dataTypeChooser\" v-if=\"showDataTypeChooser\">\n\t\t\t<select name=\"dataType\" :value=\"selectedType\" @input=\"onSelectType\" :disabled=\"!editable\">\n\t\t\t\t<template v-if=\"selectableTypes.length > 1\">\n\t\t\t\t\t<optgroup v-for=\"group in selectableTypes\" :key=\"group.name\" :label=\"group.name\">\n\t\t\t\t\t\t<option v-for=\"type in group.types\" :key=\"type.dataType()\" :value=\"type.dataType()\">{{ type | dataTypeTitle }}</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<option v-for=\"type in selectableTypes[0].types\" :key=\"type.dataType()\" :value=\"type.dataType()\">{{ type | dataTypeTitle }}</option>\n\t\t\t\t</template>\n\t\t\t</select>\n\t\t</div>\n\t\t<div v-if=\"!isItem && selectedSchema.description()\" class=\"description\">\n\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t<Description :description=\"selectedSchema.description()\" :compact=\"true\" />\n\t\t</div>\n\t\t<ParameterDataType :editable=\"editable\" :parameter=\"parameter\" :schema=\"selectedSchema\" v-model=\"state\" :context=\"context\" @changeType=\"setSelected\" :parent=\"parent\" />\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport JsonSchema from './jsonSchema.js';\nimport ParameterDataType from './ParameterDataType.vue';\nimport Description from '@openeo/vue-components/components/Description.vue';\nimport EventBusMixin from './EventBusMixin.vue';\nimport { ProcessDataType, ProcessParameter } from '@openeo/js-commons';\nimport { API_TYPES, NATIVE_TYPES } from './datatypes/api';\n\nconst TYPE_GROUPS = [\n\t'Basics',\n\t'References',\n\t'Spatial',\n\t'Temporal',\n\t'File and Folders',\n\t'Resources',\n\t'CRS',\n\t'UDF',\n\t'Other',\n];\nconst now = () => new Date().toISOString().replace(/\\.\\d+/, '');\nconst SUPPORTED_TYPES = [\n\t\t// Native types\n\t\t{subtype: 'undefined', title: 'No Value', const: undefined, group: 'Basics'},\n\t\t{type: 'null', const: null, group: 'Basics'},\n\t\t{type: 'string', default: \"\", group: 'Basics'},\n\t\t{type: 'integer', default: 0, group: 'Basics'},\n\t\t{type: 'number', default: 0, group: 'Basics'},\n\t\t{type: 'boolean', default: false, group: 'Basics'},\n\t//\t{type: 'array', subtype: 'labeled-array', title: 'Array with labels', group: 'Basics'}, // Can't be transfered between client and server, no JSON encoding available.\n\t\t{type: 'array', default: [], group: 'Basics'},\n\t\t{type: 'object', default: {}, group: 'Basics', properties: {\n\t\t\tfrom_node: { not: {} },\n\t\t\tfrom_parameter: { not: {} }\n\t\t}},\n\n\t\t{type: 'string', subtype: 'date-time', format: 'date-time', title: 'Date and Time', group: 'Temporal', default: () => now()},\n\t\t{type: 'string', subtype: 'date', format: 'date', title: 'Date only', group: 'Temporal', default: () => now().substring(0, 10)},\n\t\t{type: 'string', subtype: 'time', format: 'time', title: 'Time only', group: 'Temporal', default: () => now().substring(11)},\n\t\t{type: 'string', subtype: 'year', title: 'Year only', group: 'Temporal'},\n\t\t{type: 'array', subtype: 'temporal-interval', title: \"Temporal interval\", group: 'Temporal'},\n\t\t{type: 'array', subtype: 'temporal-intervals', title: \"Temporal intervals (multiple)\", group: 'Temporal', default: []},\n\n\t\t{type: 'object', subtype: 'geojson', title: 'GeoJSON', group: 'Spatial'},\n\t\t{type: 'object', subtype: 'bounding-box', title: 'Bounding Box', group: 'Spatial'},\n\n\t\t{type: 'string', subtype: 'band-name', title: 'Band', group: 'Resources'},\n\t\t{type: 'string', subtype: 'collection-id', title: 'Collection', group: 'Resources'},\n\t\t{type: 'string', subtype: 'job-id', title: 'Batch Job', group: 'Resources'},\n\n\t\t{type: 'string', subtype: 'udf-code', title: 'UDF Source Code', group: 'UDF', default: \"\"},\n\t\t{type: 'string', subtype: 'udf-runtime', title: 'UDF Runtime', group: 'UDF'},\n\t\t{type: 'string', subtype: 'udf-runtime-version', title: 'UDF Runtime Version', group: 'UDF', any: false},\n\n\t\t{type: 'integer', subtype: 'epsg-code', title: 'EPSG Code (CRS)', group: 'CRS'},\n\t\t{type: 'string', subtype: 'proj-definition', title: 'PROJ defintiion (CRS)', group: 'CRS', default: \"\"},\n\t\t{type: 'string', subtype: 'wkt2-definition', title: 'WKT2 defintiion (CRS)', group: 'CRS', default: \"\"},\n\n\t\t{type: 'array', subtype: 'file-path', title: 'File path', group: 'File and Folders'},\n\t\t{type: 'array', subtype: 'file-paths', title: 'File paths (multiple)', group: 'File and Folders', default: []},\n\t\t{type: 'string', subtype: 'uri', format: 'uri', title: 'URI / URL', group: 'File and Folders'},\n\t\t{type: 'string', subtype: 'output-format', title: 'Export file format', group: 'File and Folders'},\n\t\t{type: 'object', subtype: 'output-format-options', title: 'Export file format parameters', group: 'File and Folders', any: false},\n\t\t{type: 'string', subtype: 'input-format', title: 'Import file format', group: 'File and Folders'},\n\t\t{type: 'object', subtype: 'input-format-options', title: 'Import file format parameters', group: 'File and Folders', any: false},\n\n\t//\t{type: 'array', subtype: 'kernel', title: 'Kernel'}, // ToDo\n\t\t{type: 'object', subtype: 'process-graph', title: 'Custom Process'},\n\t\t{tyoe: 'object', subtype: 'json-schema', title: 'Data Type (JSON Schema)', any: false},\n\t\t{subtype: 'json', title: 'JSON', noAutoDetect: true},\n\n// Can't be transfered between client and server, no JSON encoding available for cubes:\n//\t\t{type: 'object', subtype: 'raster-cube'},\n//\t\t{type: 'object', subtype: 'vector-cube'},\n];\nconst refSchema = {\n\ttype: 'object',\n\tadditionalProperties: false,\n\tproperties: {\n\t\tfrom_node: {\n\t\t\ttype: 'string'\n\t\t},\n\t\tfrom_parameter: {\n\t\t\ttype: 'string'\n\t\t}\n\t}\n};\n\nexport default {\n\tname: 'ParameterDataTypes',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tDescription,\n\t\tParameterDataType\n\t},\n\tprops: {\n\t\tparameter: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => new ProcessParameter({})\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {},\n\t\tisItem: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tcontext: {},\n\t\tparent: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstate: typeof this.value === 'undefined' ? this.parameter.default : this.value,\n\t\t\tselectedType: null,\n\t\t\tselectedNativeType: null,\n\t\t\tselectedSchema: null,\n\t\t\tjsonSchemaValidator: JsonSchema.create(this.$store)\n\t\t};\n\t},\n\tfilters: {\n\t\tdataTypeTitle(type) {\n\t\t\t// Set a human-readable title if none is set\n\t\t\tif (type.schema && !type.schema.title) {\n\t\t\t\tlet supportedType = SUPPORTED_TYPES.find(st => st.subtype === type.schema.subtype || st.type === type.schema.type);\n\t\t\t\tif (supportedType && supportedType.title) {\n\t\t\t\t\treturn supportedType.title;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn type.title();\n\t\t}\n\t},\n\tasync created() {\n\t\tawait this.detectType();\n\t},\n\tcomputed: {\n\t\trefSchemas() {\n\t\t\tif (!Array.isArray(this.parameter.refs)) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tlet refs = {};\n\t\t\tfor(let r of this.parameter.refs) {\n\t\t\t\tlet name;\n\t\t\t\tif (r.from_node) {\n\t\t\t\t\tname = 'from_node:' + r.from_node;\n\t\t\t\t\trefs[name] = new ProcessDataType({\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tgroup: 'References',\n\t\t\t\t\t\tsubtype: name,\n\t\t\t\t\t\tisRef: 'from_node',\n\t\t\t\t\t\tfrom_node: r.from_node,\n\t\t\t\t\t\ttitle: 'Output of #' + r.from_node,\n\t\t\t\t\t\trequired: [\"from_node\"],\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tfrom_node: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tconst: r.from_node\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault: r,\n\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (r.from_parameter) {\n\t\t\t\t\tname = 'from_parameter:' + r.from_parameter;\n\t\t\t\t\trefs[name] = new ProcessDataType({\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tgroup: 'References',\n\t\t\t\t\t\tsubtype: name,\n\t\t\t\t\t\tisRef: 'from_parameter',\n\t\t\t\t\t\tfrom_parameter: r.from_parameter,\n\t\t\t\t\t\ttitle: 'Value of process parameter \"' + r.from_parameter + '\"',\n\t\t\t\t\t\trequired: [\"from_parameter\"],\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tfrom_parameter: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tconst: r.from_parameter\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault: r,\n\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn refs;\n\t\t},\n\t\tshowDataTypeChooser() {\n\t\t\treturn Utils.size(this.allowedTypes) > 1;\n\t\t},\n\t\tallowedTypes() {\n\t\t\tlet allowed = {};\n\t\t\tif (this.parameter.dataType() === 'any') {\n\t\t\t\tObject.assign(allowed, this.supportedTypes);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor(let type of this.parameter.schemas) {\n\t\t\t\t\tlet name = type.dataType();\n\t\t\t\t\tallowed[name] = type;\n\t\t\t\t}\n\t\t\t}\n\t\t\tObject.assign(allowed, this.refSchemas);\n\t\t\treturn allowed;\n\t\t},\n\t\tsupportedTypes() {\n\t\t\tlet map = {};\n\t\t\tfor(let s of SUPPORTED_TYPES) {\n\t\t\t\tif (s.any === false) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet name = s.subtype || s.type;\n\t\t\t\tlet schema = Object.assign({}, API_TYPES[name], s);\n\t\t\t\tmap[name] = new ProcessDataType(schema, this.parameter);\n\t\t\t}\n\t\t\treturn map;\n\t\t},\n\t\tselectableTypes() {\n\t\t\tlet grouped = {};\n\t\t\tfor(let type in this.allowedTypes) {\n\t\t\t\tlet schema = this.allowedTypes[type];\n\t\t\t\tlet group = schema.group();\n\t\t\t\tif (!Array.isArray(grouped[group])) {\n\t\t\t\t\tgrouped[group] = [schema];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tgrouped[group].push(schema);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet groups = TYPE_GROUPS\n\t\t\t\t.map(group => ({\n\t\t\t\t\tname: group,\n\t\t\t\t\ttypes: grouped[group] || []\n\t\t\t\t}))\n\t\t\t\t.filter(group => group.types.length !== 0);\n\t\t\treturn groups;\n\t\t}\n\t},\n\twatch: {\n\t\tvalue(value) {\n\t\t\tif (value !== this.state) {\n\t\t\t\tthis.state = value;\n\t\t\t}\n\t\t},\n\t\tstate(value) {\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tselectedType(type) {\n\t\t\tthis.$emit('schemaSelected', this.supportedTypes[type]);\n\t\t}\n\t},\n\tmethods: {\n\t\tasync isValueInvalid(value, schema) {\n\t\t\tlet schema2 = Utils.deepClone(schema);\n\t\t\t// Allow from_node and from_parameter in values, see https://github.com/Open-EO/openeo-web-editor/issues/179\n\t\t\tif (schema2.type === 'array' && Utils.isObject(schema2.items)) {\n\t\t\t\tschema2.items = {\n\t\t\t\t\toneOf: [\n\t\t\t\t\t\tschema2.items,\n\t\t\t\t\t\trefSchema\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet errors = await this.jsonSchemaValidator.validateValue(value, schema2);\n\t\t\treturn errors.length > 0;\n\t\t},\n\t\t/**\n\t\t * Returns the indices of provided JSON Schemas that the provided values matches against.\n\t\t * \n\t\t * @param {Array} types - Array of JSON schemas\n\t\t * @param {*} value - A value\n\t\t * @return {string[]} - Returns matching indices (as strings!).\n\t\t */\n\t\tasync getTypeForValue(types, value) {\n\t\t\tvar validTypes = [];\n\t\t\tfor(var type of types) {\n\t\t\t\ttry {\n\t\t\t\t\tif (await this.isValueInvalid(value, type.schema)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvalidTypes.push(type.dataType());\n\t\t\t\t} catch (error) {}\n\t\t\t}\n\t\t\treturn validTypes;\n\t\t},\n\t\tasync detectType() {\n\t\t\tlet keys = Object.keys(this.allowedTypes);\n\t\t\tlet valueUndefined = typeof this.state === 'undefined';\n\t\t\tif (keys.length === 0) {\n\t\t\t\tawait this.setSelected('json');\n\t\t\t}\n\t\t\telse if (keys.length === 1) {\n\t\t\t\tawait this.setSelected(keys[0], valueUndefined);\n\t\t\t}\n\t\t\telse if (valueUndefined) {\n\t\t\t\tlet nonNullKeys = keys.filter(t => t !== 'null');\n\t\t\t\tawait this.setSelected(nonNullKeys[0], true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet detectableTypes = Object.values(this.allowedTypes).filter(type => !type.schema.noAutoDetect);\n\t\t\t\tlet types = await this.getTypeForValue(detectableTypes, this.state);\n\t\t\t\tif (types.length === 0) {\n\t\t\t\t\tawait this.setSelected('json');\n\t\t\t\t}\n\t\t\t\telse if (types.length === 1) {\n\t\t\t\t\tawait this.setSelected(types[0]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// If integer and number are both valid options, always choose number\n\t\t\t\t\tif (types.includes('integer') && types.includes('number')) {\n\t\t\t\t\t\t// Remove integer as they overlap and number always works\n\t\t\t\t\t\ttypes = types.filter(type => type !== 'integer');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!Utils.isRef(this.state) && types.length > 1) {\n\t\t\t\t\t\tconsole.warn(\"A parameter is ambiguous. Potential types: \" + types.join(', ') + \". Value: \" + JSON.stringify(this.state));\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t// If multiple types have been detected and a native one is included, fall back to the native one\n\t\t\t\t\tlet index = types.findIndex(type => NATIVE_TYPES.includes(type));\n\t\t\t\t\t// If not even a native one is available, choose the first one\n\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t}\n\t\t\t\t\tawait this.setSelected(types[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync onSelectType(evt) {\n\t\t\tawait this.setSelected(evt.target.value, true);\n\t\t},\n\t\tasync setSelected(type, setValue = false) {\n\t\t\tlet nativeType = type;\n\t\t\tif (type instanceof ProcessDataType) {\n\t\t\t\tthis.selectedSchema = type;\n\t\t\t\tthis.selectedType = type.dataType();\n\t\t\t\tnativeType = type.nativeDataType();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.selectedSchema = this.allowedTypes[type] ? this.allowedTypes[type] : this.supportedTypes[type];\n\t\t\t\tthis.selectedType = type;\n\t\t\t}\n\n\t\t\tif (setValue) {\n\t\t\t\t// Convert string to numbers and vice versa\n\t\t\t\tif (typeof this.state === 'number' && nativeType === 'string') {\n\t\t\t\t\tthis.state = String(this.state);\n\t\t\t\t}\n\t\t\t\telse if (typeof this.state === 'string' && nativeType === 'integer') {\n\t\t\t\t\tif (this.state.match(/^([+-]?\\d+)$/)) {\n\t\t\t\t\t\tlet num = Number.parseInt(this.state, 10);\n\t\t\t\t\t\tif (!Number.isNaN(num)) {\n\t\t\t\t\t\t\tthis.state = num;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof this.state === 'string' && nativeType === 'number') {\n\t\t\t\t\tlet num = Number.parseFloat(this.state);\n\t\t\t\t\tif (!Number.isNaN(num)) {\n\t\t\t\t\t\tthis.state = num;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Special handling for null as it doesn't have an actual input element\n\t\t\t\tif (this.selectedSchema.isNull()) {\n\t\t\t\t\tthis.state = null;\n\t\t\t\t}\n\t\t\t\t// Set const value\n\t\t\t\telse if (typeof this.selectedSchema.const !== 'undefined') {\n\t\t\t\t\tthis.state = this.selectedSchema.const;\n\t\t\t\t}\n\t\t\t\t// Set single enum value\n\t\t\t\telse if (this.selectedSchema.isEnum() && this.selectedSchema.getEnumChoices().length === 1) {\n\t\t\t\t\tthis.state = this.selectedSchema.getEnumChoices()[0];\n\t\t\t\t}\n\t\t\t\t// Set value from default value\n\t\t\t\telse {\n\t\t\t\t\tlet defaultValue = this.selectedSchema.default();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (typeof this.state === 'undefined' || await this.isValueInvalid(this.state, this.selectedSchema)) {\n\t\t\t\t\t\t\tthis.state = defaultValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\tthis.state = defaultValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n.fieldContainer {\n \t.description {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-size: 0.9em;\n\t\tmargin-bottom: 10px;\n\n\t\t.fas {\n\t\t\tmargin-right: 0.5em;\n\t\t}\n\t\tp {\n\t\t\tmargin: 0;\n\t\t}\n\t}\n\t.dataTypeChooser {\n\t\tmargin-bottom: 10px;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataTypes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataTypes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParameterDataTypes.vue?vue&type=template&id=5b99734a&\"\nimport script from \"./ParameterDataTypes.vue?vue&type=script&lang=js&\"\nexport * from \"./ParameterDataTypes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParameterDataTypes.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataType.vue?vue&type=style&index=0&id=094b9536&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=100002bb&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.element),expression:\"element\"}],attrs:{\"type\":\"button\",\"title\":_vm.isFullscreen ? 'Close fullscreen' : 'Show fullscreen'},on:{\"click\":_vm.toggleFullscreen}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFullscreen),expression:\"isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-compress\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFullscreen),expression:\"!isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-expand\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button v-show=\"element\" type=\"button\" @click=\"toggleFullscreen\" :title=\"isFullscreen ? 'Close fullscreen' : 'Show fullscreen'\">\n\t\t<span v-show=\"isFullscreen\"><i class=\"fas fa-compress\"></i></span>\n\t\t<span v-show=\"!isFullscreen\"><i class=\"fas fa-expand\"></i></span>\n\t</button>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'FullscreenButton',\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\telement: {\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisFullscreen: false,\n\t\t\tkeyDownFn: null,\n\t\t\toldZIndex: 'auto'\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.keyDownFn = this.onkeyDown.bind(this);\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.addEventListener('keydown', this.keyDownFn);\n\t\t}\n\t},\n    beforeDestroy() {\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.removeEventListener('keydown', this.keyDownFn);\n\t\t}\n    },\n    computed: {\n\t\t...Utils.mapState('editor', ['hightestModalZIndex'])\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['openModal', 'closeModal']),\n\t\tonkeyDown(e) {\n\t\t\t// ToDo: This is very bugged and needs some attention\n\t\t\tif(this.isFullscreen && (e.key === \"F11\" || e.key === \"Escape\")) {\n\t\t\t\tthis.toggleFullscreen();\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n    \t\t}\n\t\t},\n\t\tgetElement() {\n\t\t\tif (typeof this.element === 'string') {\n\t\t\t\treturn document.querySelector(this.element);\n\t\t\t}\n\t\t\telse if (typeof this.element === 'function') {\n\t\t\t\treturn this.element();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.element;\n\t\t\t}\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tlet el = this.getElement();\n\t\t\tif (!this.isFullscreen) {\n\t\t\t\tthis.isFullscreen = true;\n\t\t\t\tel.classList.add('fullscreen');\n\t\t\t\t// Handle z-index to properly show above modals etc.\n\t\t\t\tthis.openModal();\n\t\t\t\tthis.oldZIndex = el.style.zIndex;\n\t\t\t\tel.style.zIndex = this.hightestModalZIndex;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.isFullscreen = false;\n\t\t\t\tel.classList.remove('fullscreen');\n\t\t\t\t// Revert z-index changes\n\t\t\t\tel.style.zIndex = this.oldZIndex;\n\t\t\t\tthis.closeModal();\n\t\t\t}\n\n\t\t\tthis.$emit('changed', this.isFullscreen);\n\t\t\tthis.emit('stopTour');\n\t\t},\n\t}\n};\n</script>\n\n<style>\n.fullscreen {\n\tposition: absolute !important;\n\ttop: 0 !important;\n\tleft: 0 !important;\n\twidth: 100% !important;\n\theight: 100% !important;\n\tbackground-color: white;\n\toverflow: auto;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullscreenButton.vue?vue&type=template&id=ac711f22&\"\nimport script from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataTypes.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectEditor.vue?vue&type=style&index=0&id=4763cdea&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!./MapMixin.css?vue&type=style&index=0&lang=css&\"","import Utils from '../../utils';\nexport const API_TYPES = Utils.resolveJsonRefs(require('@openeo/js-processgraphs/assets/subtype-schemas.json')).definitions;\nexport const NATIVE_TYPES = [\n\t'string',\n\t'integer',\n\t'number',\n\t'boolean',\n\t'array',\n\t'object'\n];","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"show\":_vm.show,\"minWidth\":\"60%\",\"width\":\"90%\",\"title\":_vm.title},on:{\"closed\":function($event){return _vm.$emit('closed')}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [(_vm.parameters.length === 0)?_c('p',[_vm._v(\"No editable parameters available.\")]):_c('form',{attrs:{\"id\":\"parameterModal\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_vm._l((_vm.parameters),function(param,k){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.toggleParamVisibility(param)),expression:\"toggleParamVisibility(param)\"}],key:k,staticClass:\"fieldRow\"},[_c('label',{class:{ fieldLabel: true, highlight: param.name === _vm.selectParameter, info: param.info }},[_vm._v(\" \"+_vm._s(_vm.displayLabel(param))+\" \"),(!param.info && !param.optional)?_c('strong',{staticClass:\"required\",attrs:{\"title\":\"required\"}},[_vm._v(\"*\")]):_vm._e(),(param.description)?_c('div',{staticClass:\"description\"},[_c('Description',{attrs:{\"description\":param.description}})],1):_vm._e()]),(!param.info)?_c('ParameterDataTypes',{ref:param.name,refInFor:true,attrs:{\"editable\":_vm.editable,\"parameter\":param,\"context\":_vm.context,\"parent\":_vm.parent},on:{\"schemaSelected\":function($event){return _vm.updateType(param, $event)}},model:{value:(_vm.values[param.name]),callback:function ($$v) {_vm.$set(_vm.values, param.name, $$v)},expression:\"values[param.name]\"}}):_vm._e(),(!param.info && param.unspecified)?_c('button',{staticClass:\"deleteBtn\",attrs:{\"title\":\"Delete unspecified parameter\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteParam(k)}}},[_c('i',{staticClass:\"fas fa-trash\"})]):_vm._e()],1)}),_c('button',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"submit\"}})],2)]},proxy:true},(_vm.$listeners.save)?{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"footer\"},[_c('button',{staticClass:\"save\",on:{\"click\":_vm.save}},[_vm._v(\"Save\")])])]},proxy:true}:null],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<Modal :show=\"show\" minWidth=\"60%\" width=\"90%\" :title=\"title\" @closed=\"$emit('closed')\">\n\t\t<template #default>\n\t\t\t<p v-if=\"parameters.length === 0\">No editable parameters available.</p>\n\t\t\t<form v-else id=\"parameterModal\" @submit.prevent=\"save\">\n\t\t\t\t<div class=\"fieldRow\" v-for=\"(param, k) in parameters\" v-show=\"toggleParamVisibility(param)\" :key=\"k\">\n\t\t\t\t\t<label :class=\"{ fieldLabel: true, highlight: param.name === selectParameter, info: param.info }\">\n\t\t\t\t\t\t{{ displayLabel(param) }}\n\t\t\t\t\t\t<strong class=\"required\" v-if=\"!param.info && !param.optional\" title=\"required\">*</strong>\n\t\t\t\t\t\t<div v-if=\"param.description\" class=\"description\">\n\t\t\t\t\t\t\t<Description :description=\"param.description\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t\t<ParameterDataTypes v-if=\"!param.info\" :ref=\"param.name\" :editable=\"editable\" :parameter=\"param\" v-model=\"values[param.name]\" :context=\"context\" @schemaSelected=\"updateType(param, $event)\" :parent=\"parent\" />\n\t\t\t\t\t<button v-if=\"!param.info && param.unspecified\" title=\"Delete unspecified parameter\" class=\"deleteBtn\" type=\"button\" @click=\"deleteParam(k)\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t\t</div>\n\t\t\t\t<!-- We need a hidden submit button in the form tags to allow submiting the form via keyboard (enter key) -->\n\t\t\t\t<button type=\"submit\" style=\"display:none\"></button>\n\t\t\t</form>\n\t\t</template>\n\t\t<template v-if=\"$listeners.save\" #footer>\n\t\t\t<div class=\"footer\">\n\t\t\t\t<button class=\"save\" @click=\"save\">Save</button>\n\t\t\t</div>\n\t\t</template>\n\t</Modal>\n</template>\n\n<script>\nimport Utils from '../../utils';\nimport Modal from './Modal.vue';\nimport Description from '@openeo/vue-components/components/Description.vue';\nimport ParameterDataTypes from '../ParameterDataTypes.vue';\n\nexport default {\n\tname: 'ParameterModal',\n\tcomponents: {\n\t\tModal,\n\t\tDescription,\n\t\tParameterDataTypes\n\t},\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String\n\t\t},\n\t\tparameters: {\n\t\t\ttype: Array\n\t\t},\n\t\tdata: {\n\t\t\ttype: Object\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tselectParameter: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\tparent: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshow: true,\n\t\t\tvalues: Utils.deepClone(this.data),\n\t\t\tschemas: {}\n\t\t};\n\t},\n\tcomputed: {\n\t\tcontext() {\n\t\t\treturn {\n\t\t\t\tvalues: this.values,\n\t\t\t\tschemas: this.schemas,\n\t\t\t\tparameters: this.parameters\n\t\t\t};\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$nextTick(() => this.setSelected());\n\t},\n\tmethods: {\n\t\ttoggleParamVisibility(param) {\n\t\t\tif (!param || !param.toggledBy) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn !!this.context.values[param.toggledBy];\n\t\t},\n\t\tdeleteParam(key) {\n\t\t\tlet name = this.parameters[key].name;\n\t\t\tthis.$delete(this.parameters, key);\n\t\t\tthis.$delete(this.schemas, name);\n\t\t\tthis.$delete(this.values, name);\n\t\t},\n\t\tupdateType(parameter, schema) {\n\t\t\tthis.$set(this.schemas, parameter.name, schema);\n\t\t},\n\t\tdisplayLabel(param) {\n\t\t\tif (typeof param.label === 'string' && param.label.length > 0) {\n                return param.label;\n            }\n            else {\n                return Utils.prettifyString(param.name);\n            }\n\t\t},\n\t\tsave() {\n\t\t\ttry {\n\t\t\t\tthis.$emit('save', this.values);\n\t\t\t\tthis.show = false;\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\tcomponentforParameter(name) {\n\t\t\tif (name && Array.isArray(this.$refs[name]) && this.$refs[name][0]) {\n\t\t\t\treturn this.$refs[name][0];\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tsetSelected(callCounter = 0) {\n\t\t\tlet component;\n\t\t\tif (this.selectParameter) {\n\t\t\t\tcomponent = this.componentforParameter(this.selectParameter);\n\t\t\t}\n\t\t\telse if (this.parameters.length > 0) {\n\t\t\t\tcomponent = this.componentforParameter(this.parameters[0].name);\n\t\t\t}\n\t\t\tif (!component) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (component.$el && component.$el.scrollIntoView) {\n\t\t\t\tif (this.selectParameter) {\n\t\t\t\t\tcomponent.$el.scrollIntoView();\n\t\t\t\t}\n\t\t\t\tthis.setInputFocus(component.$el);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Retry the selection, up to 2.5 seconds\n\t\t\t\tcallCounter < 10 && setTimeout(() => this.setSelected(++callCounter), 250);\n\t\t\t}\n\t\t},\n\t\tsetInputFocus(node, callCounter = 0) {\n\t\t\tif (node.querySelector) {\n\t\t\t\tlet firstElement = node.querySelector('input:not([type=\"hidden\"]):not([disabled]):not([class~=\"multiselect__input\"]), button:not([disabled]), textarea:not([disabled]), select:not([disabled]), datalist:not([disabled])');\n\t\t\t\tif (firstElement) {\n\t\t\t\t\tfirstElement.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Retry focussing, up to 2.5 seconds\n\t\t\t\tcallCounter < 10 && setTimeout(() => this.setInputFocus(node, ++callCounter), 250);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.footer {\n\ttext-align: right;\n}\n.deleteBtn {\n\tmargin-left: 10px;\n}\n</style>\n\n<style lang=\"scss\">\n@import '../../../theme.scss';\n\n#parameterModal {\n\t.fieldRow {\n\t\tdisplay: flex;\n\t\tpadding-top: 1em;\n\t\tmargin-top: 1em;\n\t\tborder-top: 1px dotted #ccc;\n\n\t\t&:first-of-type {\n\t\t\tborder: 0;\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\n\t\t.description {\n\t\t\tfont-size: 0.8em;\n\t\t\twidth: 100%;\n\t\t}\n\t\t.required {\n\t\t\tcolor: red;\n\t\t\tfont-weight: bold;\n\t\t}\n\t\t.fieldLabel {\n\t\t\tmin-width: 30%;\n\t\t\twidth: 30%;\n\t\t\tpadding-right: 1em;\n\n\t\t\t&.highlight {\n\t\t\t\twidth: calc(35% - 5px);\n\t\t\t\tborder-left: 5px solid $linkColor;\n\t\t\t\tpadding-left: 5px;\n\t\t\t}\n\t\t\t&.info {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t\t.fieldEditorContainer {\n\t\t\tflex-grow: 1;\n\t\t\tdisplay: flex;\n\t\t}\n\t\t.fieldContainer {\n\t\t\tmin-width: 50%;\n\t\t\twidth: 70%;\n\t\t\tflex-grow: 1;\n\t\t}\n\t\t.fieldValue {\n\t\t\tdisplay: flex;\n\t\t\tflex-grow: 1;\n\n\t\t\tinput,\n\t\t\ttextarea,\n\t\t\tselect {\n\t\t\t\tflex-grow: 1;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t\t\n\t\tinput[type=\"checkbox\"].fieldValue  {\n\t\t\tdisplay: inline-block;\n\t\t\tflex-grow: unset;\n\t\t}\n\t}\n\n\t.description .styled-description {\n\t\tline-height: 1.1em;\n\n\t\tp {\n\t\t\tmargin: 0.2em 0;\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParameterModal.vue?vue&type=template&id=294756d2&scoped=true&\"\nimport script from \"./ParameterModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ParameterModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParameterModal.vue?vue&type=style&index=0&id=294756d2&lang=scss&scoped=true&\"\nimport style1 from \"./ParameterModal.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"294756d2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=style&index=0&id=294756d2&lang=scss&scoped=true&\""],"sourceRoot":""}