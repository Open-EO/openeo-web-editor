(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[602],{95019:(e,t,r)=>{var s=r(74247);const n="1.0.0",i=!0,a={datacube:"https://stac-extensions.github.io/datacube/v1.0.0/schema.json",eo:"https://stac-extensions.github.io/eo/v1.0.0/schema.json",file:"https://stac-extensions.github.io/file/v1.0.0/schema.json","item-assets":"https://stac-extensions.github.io/item-assets/v1.0.0/schema.json",label:"https://stac-extensions.github.io/label/v1.0.0/schema.json",pointcloud:"https://stac-extensions.github.io/pointcloud/v1.0.0/schema.json",processing:"https://stac-extensions.github.io/processing/v1.0.0/schema.json",projection:"https://stac-extensions.github.io/projection/v1.0.0/schema.json",raster:"https://stac-extensions.github.io/raster/v1.0.0/schema.json",sar:"https://stac-extensions.github.io/sar/v1.0.0/schema.json",sat:"https://stac-extensions.github.io/sat/v1.0.0/schema.json",scientific:"https://stac-extensions.github.io/scientific/v1.0.0/schema.json",timestamps:"https://stac-extensions.github.io/timestamps/v1.0.0/schema.json",version:"https://stac-extensions.github.io/version/v1.0.0/schema.json",view:"https://stac-extensions.github.io/view/v1.0.0/schema.json"},o={itemAndCollection:{"cube:":a.datacube,"eo:":a.eo,"file:":a.file,"label:":a.label,"pc:":a.pointcloud,"processing:":a.processing,"proj:":a.projection,"raster:":a.raster,"sar:":a.sar,"sat:":a.sat,"sci:":a.scientific,"view:":a.view,version:a.version,deprecated:a.version,published:a.timestamps,expires:a.timestamps,unpublished:a.timestamps},catalog:{},collection:{item_assets:a["item-assets"]},item:{}};o.collection=Object.assign(o.collection,o.itemAndCollection),o.item=Object.assign(o.item,o.itemAndCollection);var l={version:n,set(e){e||(e="0.6.0"),l.version=e},before(e){return s.compare(l.version,e,"<")}},c={type(e){let t=typeof e;if("object"===t){if(null===e)return"null";if(Array.isArray(e))return"array"}return t},is(e,t){return c.type(e)===t},isDefined(e){return"undefined"!==typeof e},isObject(e){return"object"===typeof e&&e===Object(e)&&!Array.isArray(e)},rename(e,t,r){return"undefined"!==typeof e[t]&&"undefined"===typeof e[r]&&(e[r]=e[t],delete e[t],!0)},toArray(e,t){return"undefined"!==typeof e[t]&&!Array.isArray(e[t])&&(e[t]=[e[t]],!0)},flattenArray(e,t,r,s=!1){if(Array.isArray(e[t])){for(let n in e[t])if("string"===typeof r[n]){let i=e[t][n];e[r[n]]=s?[i]:i}return delete e[t],!0}return!1},flattenOneElementArray(e,t,r=!1){return!(!r&&Array.isArray(e[t]))||1===e[t].length&&(e[t]=e[t][0],!0)},removeFromArray(e,t,r){if(Array.isArray(e[t])){let s=e[t].indexOf(r);return s>-1&&e[t].splice(s,1),!0}return!1},addToArrayIfNotExists(e,t,r){if(Array.isArray(e[t])){let s=e[t].indexOf(r);return-1===s&&e[t].push(r),e[t].sort(),!0}return!1},ensure(e,t,r){return c.type(r)!==c.type(e[t])&&(e[t]=r),!0},addExtension(e,t){return!c.isObject(e)||c.addToArrayIfNotExists(e,"stac_extensions",t)&&i},removeExtension(e,t){return!c.isObject(e)||c.removeFromArray(e,"stac_extensions",t)&&i},migrateExtensionShortnames(e){let t=Object.keys(a),r=Object.values(a);return c.mapValues(e,"stac_extensions",t,r)},populateExtensions(e,t){let r=[];"catalog"!=t&&"collection"!=t||r.push(e),"item"!=t&&"collection"!=t||!c.isObject(e.assets)||(r=r.concat(Object.values(e.assets))),"collection"==t&&c.isObject(e.item_assets)&&(r=r.concat(Object.values(e.item_assets))),"collection"==t&&c.isObject(e.summaries)&&(r=r.concat(Object.values(e.summaries))),"item"==t&&c.isObject(e.properties)&&r.push(e.properties);for(let s of r)Object.keys(s).forEach((r=>{let s=r.match(/^(\w+:|[^:]+$)/i);if(Array.isArray(s)){let r=o[t][s[0]];c.is(r,"string")&&c.addExtension(e,r)}}))},mapValues(e,t,r,s){let n=e=>{let t=r.indexOf(e);return t>=0?s[t]:e};return Array.isArray(e[t])?e[t]=e[t].map(n):"undefined"!==typeof e[t]&&(e[t]=n(e[t])),!0},mapObject(e,t){for(let r in e)e[r]=t(e[r],r)},moveTo(e,t,r,s=!1,n=!1){let i;return i=s?n?e=>Array.isArray(e):e=>Array.isArray(e)&&1===e.length:c.isDefined,!!i(e[t])&&(r[t]=s&&!n?e[t][0]:e[t],delete e[t],!0)},runAll(e,t,r=null){for(let s in e)s.startsWith("migrate")||e[s](t,r)},toUTC(e,t){if("string"===typeof e[t])try{return e[t]=this.toISOString(e[t]),!0}catch(r){}return delete e[t],!1},toISOString(e){return e instanceof Date||(e=new Date(e)),e.toISOString().replace(".000","")}},m={hexToUint8(e){if(0===e.length||e.length%2!==0)throw new Error(`The string "${e}" is not valid hex.`);return new Uint8Array(e.match(/.{1,2}/g).map((e=>parseInt(e,16))))},uint8ToHex(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")},toMultihash(e,t,s){if(!c.is(e[t],"string"))return!1;try{const n=r(18370),i=n.encode(m.hexToUint8(e[t]),s);return e[t]=m.uint8ToHex(i),!0}catch(n){return console.warn(n),!1}}},u={migrate(e,t=!0){l.set(e.stac_version),t&&(e.stac_version=n),e.type="Catalog",l.before("1.0.0-rc.1")&&c.migrateExtensionShortnames(e),c.ensure(e,"id",""),c.ensure(e,"description",""),c.ensure(e,"links",[]),c.runAll(u,e,e),c.ensure(e,"stac_extensions",[]),l.before("0.8.0")&&c.populateExtensions(e,"catalog")},openeo(e){c.rename(e,"api_version","openeo:api_version"),c.rename(e,"backend_version","openeo:backend_version"),c.rename(e,"production","openeo:production"),c.rename(e,"endpoints","openeo:endpoints"),c.rename(e,"billing","openeo:billing")}},p={migrate(e,t=!0){u.migrate(e,t),e.type="Collection",l.before("1.0.0-rc.1")&&c.migrateExtensionShortnames(e),c.ensure(e,"license","proprietary"),c.ensure(e,"extent",{spatial:{bbox:[]},temporal:{interval:[]}}),c.runAll(p,e,e),c.isObject(e.properties)&&(c.removeFromArray(e,"stac_extensions","commons"),delete e.properties),l.before("0.8.0")&&c.populateExtensions(e,"collection"),l.before("1.0.0-beta.1")&&c.mapValues(e,"stac_extensions",["assets"],["item-assets"])},extent(e){if(c.ensure(e,"extent",{}),l.before("0.8.0")&&(Array.isArray(e.extent.spatial)&&(e.extent.spatial={bbox:[e.extent.spatial]}),Array.isArray(e.extent.temporal)&&(e.extent.temporal={interval:[e.extent.temporal]})),c.ensure(e.extent,"spatial",{}),c.ensure(e.extent.spatial,"bbox",[]),c.ensure(e.extent,"temporal",{}),c.ensure(e.extent.temporal,"interval",[]),l.before("1.0.0-rc.3")){if(e.extent.temporal.interval.length>1){let r,s;for(let n of e.extent.temporal.interval){if(null===n[0])r=null;else if("string"===typeof n[0]&&null!==r)try{let e=new Date(n[0]);("undefined"===typeof r||e<r)&&(r=e)}catch(t){}if(null===n[1])s=null;else if("string"===typeof n[1]&&null!==s)try{let e=new Date(n[1]);("undefined"===typeof s||e>s)&&(s=e)}catch(t){}}e.extent.temporal.interval.unshift([r?c.toISOString(r):null,s?c.toISOString(s):null])}if(e.extent.spatial.bbox.length>1){let t=e.extent.spatial.bbox.reduce(((e,t)=>Array.isArray(t)?Math.max(t.length,e):e),4);if(t>=4){let r=new Array(t).fill(null),s=t/2;for(let t of e.extent.spatial.bbox){if(!Array.isArray(t)||t.length<4)break;for(let e in t){let n=t[e];null===r[e]?r[e]=n:r[e]=e<s?Math.min(n,r[e]):Math.max(n,r[e])}}-1===r.findIndex((e=>null===e))&&e.extent.spatial.bbox.unshift(r)}}}},collectionAssets(e){l.before("1.0.0-rc.1")&&c.removeExtension(e,"collection-assets"),h.migrateAll(e)},itemAsset(e){l.before("1.0.0-beta.2")&&c.rename(e,"item_assets","assets"),h.migrateAll(e,"item_assets")},summaries(e){if(c.ensure(e,"summaries",{}),l.before("0.8.0")&&c.isObject(e.other_properties)){for(let t in e.other_properties){let r=e.other_properties[t];Array.isArray(r.extent)&&2===r.extent.length?e.summaries[t]={minimum:r.extent[0],maximum:r.extent[1]}:Array.isArray(r.values)&&(r.values.filter((e=>Array.isArray(e))).length===r.values.length?e.summaries[t]=r.values.reduce(((e,t)=>e.concat(t)),[]):e.summaries[t]=r.values)}delete e.other_properties}if(l.before("1.0.0-beta.1")&&c.isObject(e.properties)&&!e.links.find((e=>["child","item"].includes(e.rel))))for(let t in e.properties){let r=e.properties[t];Array.isArray(r)||(r=[r]),e.summaries[t]=r}l.before("1.0.0-rc.1")&&c.mapObject(e.summaries,(e=>(c.rename(e,"min","minimum"),c.rename(e,"max","maximum"),e))),f.migrate(e.summaries),c.moveTo(e.summaries,"sci:doi",e,!0)&&c.addExtension(e,a.scientific),c.moveTo(e.summaries,"sci:publications",e,!0,!0)&&c.addExtension(e,a.scientific),c.moveTo(e.summaries,"sci:citation",e,!0)&&c.addExtension(e,a.scientific),c.moveTo(e.summaries,"cube:dimensions",e,!0)&&c.addExtension(e,a.datacube),0===Object.keys(e.summaries).length&&delete e.summaries}},d={migrate(e,t=null,r=!0){l.set(e.stac_version),r&&(e.stac_version=n),l.before("1.0.0-rc.1")&&c.migrateExtensionShortnames(e),c.ensure(e,"id",""),c.ensure(e,"type","Feature"),c.isObject(e.geometry)||(e.geometry=null),null!==e.geometry&&c.ensure(e,"bbox",[]),c.ensure(e,"properties",{}),c.ensure(e,"links",[]),c.ensure(e,"assets",{});let s=!1;c.isObject(t)&&c.isObject(t.properties)&&(c.removeFromArray(e,"stac_extensions","commons"),e.properties=Object.assign({},t.properties,e.properties),s=!0),c.runAll(d,e,e),f.migrate(e.properties,e),h.migrateAll(e),c.ensure(e,"stac_extensions",[]),(l.before("0.8.0")||s)&&c.populateExtensions(e,"item")}},h={migrateAll(e,t="assets"){for(let r in e[t])h.migrate(e[t][r],e)},migrate(e,t){c.runAll(h,e,t),f.migrate(e,t)},mediaTypes(e){c.is(e.type,"string")&&c.mapValues(e,"type",["image/vnd.stac.geotiff","image/vnd.stac.geotiff; cloud-optimized=true"],["image/tiff; application=geotiff","image/tiff; application=geotiff; profile=cloud-optimized"])},eo(e,t){let r=c.isObject(t.properties)&&Array.isArray(t.properties["eo:bands"])?t.properties["eo:bands"]:[];if(Array.isArray(e["eo:bands"]))for(let s in e["eo:bands"]){let t=e["eo:bands"][s];c.is(t,"number")&&c.isObject(r[t])?t=r[t]:c.isObject(t)||(t={}),e["eo:bands"][s]=t}}},f={migrate(e,t){c.runAll(f,e,t)},_commonMetadata(e){l.before("1.0.0-rc.3")&&(c.toUTC(e,"created"),c.toUTC(e,"updated"))},_timestamps(e){c.toUTC(e,"published"),c.toUTC(e,"expires"),c.toUTC(e,"unpublished")},_versioningIndicator(e){},checksum(e,t){l.before("0.9.0")&&(c.rename(e,"checksum:md5","checksum:multihash")&&m.toMultihash(e,"checksum:multihash","md5"),c.rename(e,"checksum:sha1","checksum:multihash")&&m.toMultihash(e,"checksum:multihash","sha1"),c.rename(e,"checksum:sha2","checksum:multihash")&&m.toMultihash(e,"checksum:multihash","sha2-256"),c.rename(e,"checksum:sha3","checksum:multihash")&&m.toMultihash(e,"checksum:multihash","sha3-256")),l.before("1.0.0-rc.1")&&c.rename(e,"checksum:multihash","file:checksum")&&c.addExtension(t,a.file)},cube(){},dtr(e,t){l.before("0.9.0")&&(c.rename(e,"dtr:start_datetime","start_datetime"),c.rename(e,"dtr:end_datetime","end_datetime"),c.removeExtension(t,"datetime-range"))},eo(e,t){l.before("0.9.0")&&(c.rename(e,"eo:epsg","proj:epsg")&&c.addExtension(t,a.projection),c.rename(e,"eo:platform","platform"),c.rename(e,"eo:instrument","instruments")&&c.toArray(e,"instruments"),c.rename(e,"eo:constellation","constellation"),c.rename(e,"eo:off_nadir","view:off_nadir")&&c.addExtension(t,a.view),c.rename(e,"eo:azimuth","view:azimuth")&&c.addExtension(t,a.view),c.rename(e,"eo:incidence_angle","view:incidence_angle")&&c.addExtension(t,a.view),c.rename(e,"eo:sun_azimuth","view:sun_azimuth")&&c.addExtension(t,a.view),c.rename(e,"eo:sun_elevation","view:sun_elevation")&&c.addExtension(t,a.view)),l.before("1.0.0-beta.1")&&c.rename(e,"eo:gsd","gsd")},label(e){l.before("0.8.0")&&(c.rename(e,"label:property","label:properties"),c.rename(e,"label:task","label:tasks"),c.rename(e,"label:overview","label:overviews")&&c.toArray(e,"label:overviews"),c.rename(e,"label:method","label:methods"),c.toArray(e,"label:classes"))},pc(e){l.before("0.8.0")&&c.rename(e,"pc:schema","pc:schemas")},proj(e){},sar(e,t){let r=!t;c.rename(e,"sar:incidence_angle","view:incidence_angle")&&c.addExtension(t,a.view),c.rename(e,"sar:pass_direction","sat:orbit_state")&&c.mapValues(e,"sat:orbit_state",[null],["geostationary"])&&c.addExtension(t,a.sat),l.before("0.7.0")&&(c.flattenArray(e,"sar:resolution",["sar:resolution_range","sar:resolution_azimuth"],r),c.flattenArray(e,"sar:pixel_spacing",["sar:pixel_spacing_range","sar:pixel_spacing_azimuth"],r),c.flattenArray(e,"sar:looks",["sar:looks_range","sar:looks_azimuth","sar:looks_equivalent_number"],r),c.rename(e,"sar:off_nadir","view:off_nadir")&&c.addExtension(t,a.view)),l.before("0.9.0")&&(c.rename(e,"sar:platform","platform"),c.rename(e,"sar:instrument","instruments")&&c.toArray(e,"instruments"),c.rename(e,"sar:constellation","constellation"),c.rename(e,"sar:type","sar:product_type"),c.rename(e,"sar:polarization","sar:polarizations"),c.flattenOneElementArray(e,"sar:absolute_orbit",r)&&c.rename(e,"sar:absolute_orbit","sat:absolute_orbit")&&c.addExtension(t,a.sat),c.flattenOneElementArray(e,"sar:relative_orbit",r)&&c.rename(e,"sar:relative_orbit","sat:relative_orbit")&&c.addExtension(t,a.sat))},sat(e){l.before("0.9.0")&&(c.rename(e,"sat:off_nadir_angle","sat:off_nadir"),c.rename(e,"sat:azimuth_angle","sat:azimuth"),c.rename(e,"sat:sun_azimuth_angle","sat:sun_azimuth"),c.rename(e,"sat:sun_elevation_angle","sat:sun_elevation"))},sci(e){},item(e){l.before("0.8.0")&&(c.rename(e,"item:license","license"),c.rename(e,"item:providers","providers"))},view(e){}},b={item(e,t=null,r=!0){return d.migrate(e,t,r),e},catalog(e,t=!0){return u.migrate(e,t),e},collection(e,t=!0){return p.migrate(e,t),e},stac(e,t=!0){return"Feature"===e.type?b.item(e,null,t):"Collection"===e.type||c.isDefined(e.extent)||c.isDefined(e.license)?b.collection(e,t):b.catalog(e,t)}};e.exports=b},86643:e=>{"use strict";function t(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let s=0;for(const n of e)r.set(n,s),s+=n.length;return r}e.exports=t},87962:(e,t,r)=>{"use strict";const s=r(25743);function n(e,t="utf8"){const r=s[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}e.exports=n},53071:(e,t,r)=>{"use strict";const s=r(25743);function n(e,t="utf8"){const r=s[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}e.exports=n},25743:(e,t,r)=>{"use strict";const{bases:s}=r(91835);function n(e,t,r,s){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:s}}}const i=n("utf8","u",(e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)}),(e=>{const t=new TextEncoder;return t.encode(e.substring(1))})),a=n("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),o={utf8:i,"utf-8":i,hex:s.base16,latin1:a,ascii:a,binary:a,...s};e.exports=o}}]);
//# sourceMappingURL=chunk-vendors-8cbd2506.d3e7ed5a.js.map