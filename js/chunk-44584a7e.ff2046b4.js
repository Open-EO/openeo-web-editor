(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44584a7e"],{"3ae0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"imageViewer",staticClass:"imageViewer",class:{fullscreen:e.fullScreen}},[i("div",{staticClass:"toolbar"},[i("span",{staticClass:"value",attrs:{title:e.valueTitle}},[e._v(e._s(e.valueText))]),i("FullscreenButton",{staticClass:"fullscreen-button",attrs:{element:function(){return e.$refs.imageViewer}},on:{changed:e.fullscreenToggled}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loaded,expression:"!loaded"}],staticClass:"noDataMessage"},[i("i",{staticClass:"fas fa-spinner fa-spin"}),e._v(" Loading image...")]),i("canvas",{ref:"canvas",class:{fullsize:e.fullSize},attrs:{title:e.title},on:{click:e.resize,mousemove:e.getPixelValue,mouseout:e.resetPixelValue,load:e.imageLoaded}})])},l=[],s=i("5472"),n=i("025e"),u={name:"ImageViewer",components:{FullscreenButton:s["a"]},props:{data:{type:Object,required:!0}},data(){return{fullScreen:!1,fullSize:!1,img:null,loaded:!1,context:null,value:"-"}},async created(){this.img=await this.data.getData(),this.img.onload=this.imageLoaded.bind(this)},computed:{title(){return this.fullScreen?"":this.fullSize?"Click to shrink (fit to screen)":"Click to enlarge (full size)"},valueTitle(){return this.fullScreen||this.fullSize?"":"Show in full size to get precise values"},valueText(){return this.fullScreen||this.fullSize?"Pixel Value: "+this.value:"Estimated Pixel Value: "+this.value}},methods:{imageLoaded(){this.loaded=!0,this.$refs.canvas.width=this.img.naturalWidth,this.$refs.canvas.height=this.img.naturalHeight,this.context=this.$refs.canvas.getContext("2d"),this.context.drawImage(this.img,0,0)},fullscreenToggled(e){this.fullScreen=e},resize(){this.fullScreen||(this.fullSize=!this.fullSize)},resetPixelValue(){this.value="-"},getPixelValue(e){try{let t=this.$refs.canvas.getBoundingClientRect(),i=this.img.naturalWidth/t.width,a=this.img.naturalHeight/t.height,l=e.offsetX*i,s=e.offsetY*a,u=this.context.getImageData(Math.ceil(l),Math.ceil(s),1,1).data;this.value=n["a"].displayRGBA(u,0,255,null)}catch(t){this.value="n/a",console.log(t)}}}},r=u,c=(i("9c0c"),i("2877")),o=Object(c["a"])(r,a,l,!1,null,"328f78b6",null);t["default"]=o.exports},"71f7":function(e,t,i){},"9c0c":function(e,t,i){"use strict";i("71f7")}}]);
//# sourceMappingURL=chunk-44584a7e.ff2046b4.js.map