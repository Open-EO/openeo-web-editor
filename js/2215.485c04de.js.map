{"version":3,"file":"js/2215.485c04de.js","mappings":"sMAAe,MAAMA,EACpBC,WAAAA,CAAYC,EAAKC,GAAU,GAC1BC,KAAKF,IAAMA,EACXE,KAAKD,QAAUA,CAChB,CAEAE,aAAAA,CAAcC,GACb,MAAO,CACNJ,IAAKE,KAAKF,IACVK,OAAQ,CACPC,EAAGF,EAAIG,MACPC,OAAQ,OACRC,MAAO,GACP,kBAAmB,KACnBC,gBAAiBR,KAAKD,QAAU,EAAI,EACpCU,kBAAmB,MAGtB,CAEAC,cAAAA,CAAeC,GACd,OAAuB,IAAnBA,EAAQC,OACJ,GAEDD,EACLE,OAAOC,GAAU,CAAC,WAAY,aAAc,UAAW,UAAW,QAAS,QAAS,YAAYC,SAASD,EAAOE,QAChHC,IAAIH,IAAU,CACdI,IAAKJ,EAAOI,IACZC,IAAKL,EAAOK,IACZC,KAAMN,EAAOO,YACbC,QAAS,CACRC,KAAMT,EAAOU,cAEdC,SAAU,CACTC,UAAWZ,EAAOU,aAClBG,QAASb,EAAOQ,QAChBvB,QAASe,EAAOf,WAGpB,ECnCD,SACA6B,QAAA,CACAC,WAAAA,CAAAC,EAAA/B,GAAA,GACA,SAAAgC,QAAAC,SACA,OAEA,MAAAC,EAAA,CACAC,SAAA,IAAAtC,EAAA,KAAAmC,QAAAC,SAAAjC,GACAoC,YAAA,iBACAC,UAAA,EACAC,gBAAA,GAEAL,EAAA,IAAAM,IAAA,aAAAL,GACAD,EAAAO,GAAA,gBAAAC,IACA,GAAAzC,EACA+B,EAAAU,EAAAC,OAAAhB,UAAA1B,QAAAyC,QAEA,GAAAA,EAAAC,MAAArB,KAAA,CACA,IAAAA,EAAAoB,EAAAC,MAAArB,KAAAH,IAAAyB,GAAAC,WAAAD,IACAE,EAAA,CACAC,KAAAzB,EAAA,GACA0B,KAAA1B,EAAA,GACA2B,MAAA3B,EAAA,GACA4B,MAAA5B,EAAA,IAEAU,EAAAc,EAAAJ,EACA,MAEAV,EAAA,KAAAU,KAGA,KAAAvB,IAAAgC,WAAAjB,EACA,ICpCqQ,I,ICAjQkB,EAAQC,E,WASRC,GAAY,OACd,EACAF,EACAC,GACA,EACA,KACA,KACA,MAIF,QAAeC,EAAiB,O,8DCpB5BF,EAAS,WAAkB,IAAIG,EAAIrD,KAAKsD,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,aAAa,CAACE,YAAY,gBAAgBC,MAAM,CAAC,WAAa,KAAK,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,QAAQ,CAACH,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAKJ,EAAIK,KAAK,CAACJ,EAAG,kBAAkB,CAACK,IAAI,WAAWF,MAAM,CAAC,IAAMJ,EAAIpC,OAAOqC,EAAG,sBAAsB,CAACG,MAAM,CAAC,IAAMJ,EAAIpC,OAAOqC,EAAG,iBAAiB,CAACG,MAAM,CAAC,IAAMJ,EAAIpC,KAAKsB,GAAG,CAAC,IAAMc,EAAIO,WAAYP,EAAIQ,UAAW,CAACP,EAAG,cAAc,CAACG,MAAM,CAAC,KAAOJ,EAAIS,mBAAmBR,EAAG,MAAM,CAACE,YAAY,+CAA+C,CAACH,EAAIU,GAAIV,EAAIW,SAAU,SAASC,GAAO,MAAO,CAAGA,EAAMC,SAAgQb,EAAIc,KAA1Pb,EAAG,iBAAiB,CAACc,IAAIH,EAAMI,MAAMX,GAAGD,MAAM,CAAC,MAAQQ,EAAMK,MAAM,gBAAkBL,EAAMM,gBAAgB,MAAQlB,EAAIW,SAASpD,OAAS,EAAIqD,EAAMI,MAAMG,IAAI,SAAW,IAAIjC,GAAG,CAAC,OAASkC,CAACC,EAAMC,IAAStB,EAAIuB,mBAAmBX,EAAOS,EAAMC,MAAkB,IAAI,IAAItB,EAAIc,KAAMd,EAAIwB,QAASvB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,OAAO,CAACD,EAAIyB,GAAG,sBAAsBzB,EAAIc,MAAM,KAAMd,EAAI0B,MAAOzB,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,QAAQ,KAAO,KAAK,CAACH,EAAG,OAAO,CAACE,YAAY,QAAQjB,GAAG,CAAC,MAAQc,EAAI2B,aAAa,CAAC1B,EAAG,IAAI,CAACE,YAAY,cAAcC,MAAM,CAAC,cAAc,YAAYH,EAAG,eAAeD,EAAI4B,GAAG,CAACxB,MAAM,CAAC,OAAS,MAAM,eAAeJ,EAAI0B,OAAM,KAAS,GAAG1B,EAAIc,MAAM,EACryC,EACIhB,EAAkB,G,8GCFlBD,EAAS,WAAkB,IAAIG,EAAIrD,KAAKsD,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,yCAAyC0B,YAAY,CAAC,iBAAiB,SAAS,CAAC5B,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,4BAA4BlB,GAAG,CAAC,MAAQ,SAAS4C,GAAyD,OAAjDA,EAAO9C,iBAAiB8C,EAAOC,kBAAyB/B,EAAIgC,UAAUC,MAAM,KAAMC,UAAU,IAAI,CAACjC,EAAG,IAAI,CAACE,YAAY,oBACpY,EACIL,EAAkB,G,sBCUtB,SACA5B,KAAA,iBACAiE,OAAA,CACAC,EAAAA,EACAC,EAAAA,GAEA9D,QAAA,CACAyD,SAAAA,GACA,IAAAM,EAAA,CACAC,KAAA,KAAAC,UAEA,KAAAC,UAAA,iCAAAH,EACA,EACAE,QAAAA,CAAAE,GACA,KAAAC,MAAA,MAAAD,EACA,IC3BsQ,I,eCQlQ3C,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,QAAeA,EAAiB,QCnBhC,IAAIF,EAAS,WAAkB,IAAIG,EAAIrD,KAAKsD,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAC2C,WAAW,CAAC,CAAC1E,KAAK,OAAO2E,QAAQ,SAASC,MAAO9C,EAAI+C,SAASxF,OAAS,EAAGyF,WAAW,wBAAwB7C,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAED,EAAIiD,MAAOhD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACG,MAAM,CAAC,QAAUJ,EAAIkD,OAAO,CAAClD,EAAIyB,GAAGzB,EAAImD,GAAGnD,EAAIiD,YAAYjD,EAAIc,KAAKb,EAAG,KAAK,CAAGD,EAAIoD,OAAqCpD,EAAIc,KAAjCb,EAAG,KAAK,CAACD,EAAIyB,GAAG,aAAuBzB,EAAIqD,UAAWpD,EAAG,KAAK,CAACD,EAAIyB,GAAG,UAAUzB,EAAIc,KAAKb,EAAG,KAAK,CAACD,EAAIyB,GAAG,SAASxB,EAAG,KAAK,CAACD,EAAIyB,GAAG,aAAaxB,EAAG,QAAQD,EAAIU,GAAIV,EAAI+C,SAAU,SAASO,EAAQjE,GAAG,OAAOY,EAAG,KAAK,CAACc,IAAI1B,GAAG,CAAGW,EAAIoD,OAAiDpD,EAAIc,KAA7Cb,EAAG,KAAK,CAACD,EAAIyB,GAAGzB,EAAImD,GAAGnD,EAAIuD,OAAOlE,OAAiBW,EAAIqD,UAAWpD,EAAG,KAAK,CAACA,EAAG,SAAS,CAAC2C,WAAW,CAAC,CAAC1E,KAAK,QAAQ2E,QAAQ,iBAAiBC,MAAOQ,EAAQjD,GAAI2C,WAAW,aAAaQ,UAAU,CAAC,QAAS,KAAQtE,GAAG,CAAC,OAAS,SAAS4C,GAAQ,IAAI2B,EAAgBC,MAAMC,UAAUnG,OAAOoG,KAAK9B,EAAO+B,OAAOjF,QAAQ,SAASkF,GAAG,OAAOA,EAAEC,QAAQ,GAAGnG,IAAI,SAASkG,GAAG,IAAIE,EAAM,WAAYF,EAAIA,EAAEG,OAASH,EAAEhB,MAAM,OAAO9C,EAAIkE,GAAGF,EAAI,GAAIhE,EAAImE,KAAKb,EAAS,KAAMxB,EAAO+B,OAAOO,SAAWX,EAAgBA,EAAc,GAAG,IAAIzD,EAAIU,GAAIV,EAAIiB,MAAO,SAASoD,GAAM,OAAOpE,EAAG,SAAS,CAACc,IAAIsD,EAAKhE,GAAGiE,SAAS,CAAC,MAAQD,EAAKhE,KAAK,CAACL,EAAIyB,GAAGzB,EAAImD,GAAGkB,EAAKnG,MAAQmG,EAAKhE,MAAM,GAAG,KAAKL,EAAIc,KAAKb,EAAG,KAAK,CAACA,EAAG,QAAQ,CAAC2C,WAAW,CAAC,CAAC1E,KAAK,QAAQ2E,QAAQ,iBAAiBC,MAAOQ,EAAQiB,IAAKvB,WAAW,cAAcQ,UAAU,CAAC,QAAS,KAAQpD,MAAM,CAAC,KAAO,SAAS,SAAW,IAAIkE,SAAS,CAAC,MAAShB,EAAQiB,KAAMrF,GAAG,CAAC,MAAQ,SAAS4C,GAAWA,EAAO+B,OAAOW,WAAiBxE,EAAImE,KAAKb,EAAS,MAAOtD,EAAIkE,GAAGpC,EAAO+B,OAAOf,OAAO,EAAE,KAAO,SAAShB,GAAQ,OAAO9B,EAAIyE,cAAc,OAAOxE,EAAG,KAAK,CAACA,EAAG,QAAQ,CAAC2C,WAAW,CAAC,CAAC1E,KAAK,QAAQ2E,QAAQ,iBAAiBC,MAAOQ,EAAQoB,IAAK1B,WAAW,cAAcQ,UAAU,CAAC,QAAS,KAAQpD,MAAM,CAAC,KAAO,SAAS,SAAW,IAAIkE,SAAS,CAAC,MAAShB,EAAQoB,KAAMxF,GAAG,CAAC,MAAQ,SAAS4C,GAAWA,EAAO+B,OAAOW,WAAiBxE,EAAImE,KAAKb,EAAS,MAAOtD,EAAIkE,GAAGpC,EAAO+B,OAAOf,OAAO,EAAE,KAAO,SAAShB,GAAQ,OAAO9B,EAAIyE,cAAc,QAAQ,GAAG,GAAIzE,EAAIqD,UAAWpD,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACG,MAAM,CAAC,QAAUJ,EAAIkD,OAAO,CAACjD,EAAG,QAAQ,CAAC2C,WAAW,CAAC,CAAC1E,KAAK,QAAQ2E,QAAQ,UAAUC,MAAO9C,EAAIoD,OAAQJ,WAAW,WAAW5C,MAAM,CAAC,KAAO,YAAYkE,SAAS,CAAC,QAAUZ,MAAMiB,QAAQ3E,EAAIoD,QAAQpD,EAAI4E,GAAG5E,EAAIoD,OAAO,OAAO,EAAGpD,EAAIoD,QAASlE,GAAG,CAAC,OAAS,SAAS4C,GAAQ,IAAI+C,EAAI7E,EAAIoD,OAAO0B,EAAKhD,EAAO+B,OAAOkB,IAAID,EAAKE,QAAuB,GAAGtB,MAAMiB,QAAQE,GAAK,CAAC,IAAII,EAAI,KAAKC,EAAIlF,EAAI4E,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,IAAIlF,EAAIoD,OAAOyB,EAAIM,OAAO,CAACF,KAAYC,GAAK,IAAIlF,EAAIoD,OAAOyB,EAAIO,MAAM,EAAEF,GAAKC,OAAON,EAAIO,MAAMF,EAAI,IAAK,MAAMlF,EAAIoD,OAAO2B,CAAI,KAAK/E,EAAIyB,GAAG,qBAAqBzB,EAAIc,QACpmF,EACIhB,EAAkB,GCsCtB,SACA5B,KAAA,iBACAiE,OAAA,CACAC,EAAAA,GAEAiD,MAAA,CACApC,MAAA,CACA5B,KAAAiE,OACAC,QAAA,IAEAtE,MAAA,CACAI,KAAAqC,MACA6B,QAAAA,IAAA,IAEArE,gBAAA,CACAG,KAAAqC,MACA6B,QAAAA,IAAA,KAGAC,SAAA,CACAnC,SAAAA,GACA,YAAApC,MAAA1D,OAAA,CACA,EACA2F,IAAAA,GACA,YAAAE,OACA,KAAAC,UAAA,IAEA,CACA,EACAE,MAAAA,GACA,YAAAH,OAAA,oCACA,GAEA9B,IAAAA,GACA,OACAyB,SAAA,KAAA7B,gBACAkC,OAAA,SAAAlC,gBAAA3D,QAAA,SAAA0D,MAAA1D,OAEA,EACAkI,OAAAA,GACA,EAEAC,MAAA,CACAzE,MAAA,CACA0E,WAAA,EACAC,OAAAA,GACA,SAAA3E,MAAA1D,SACA,KAAA6F,QAAA,GAEA,KAAAyC,gBACA,GAEAzC,MAAAA,GACA,KAAAyC,iBACA,KAAAC,MACA,EACA/C,SAAA,CACAgD,MAAA,EACAH,OAAAA,GACA,KAAAE,MACA,IAGAvH,QAAA,CACAyH,OAAAA,CAAAlD,GACA,wBAAAA,CACA,EACA+C,cAAAA,GACA,KAAA3E,gBAAA3D,OAAA,GACA,KAAAwF,SAAA,KAAA7B,gBACA,SAAAA,gBAAA3D,SACA,KAAA6F,QAAA,IAIA,KAAAL,SAAA,KAAA9B,MACAmE,MAAA,OAAAhC,OAAA,KACAxF,IAAAyG,GAAA4B,OAAAC,OAAA,GAAA7B,IAIA,SAAAtB,SAAAxF,QACA,KAAAwF,SAAAoD,KAAAF,OAAAC,OAAA,QAAAnD,SAAA,IAEA,EACA+C,IAAAA,GACA,KAAA/C,SAAAvF,OAAA4I,GAAA,KAAAJ,QAAAI,EAAA7B,MAAA,KAAAyB,QAAAI,EAAA1B,MAAAnH,OAAA,GACA,KAAAoF,MAAA,yBAAAI,SAEA,ICjIsQ,ICQtQ,IAAI,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,QAAe,EAAiB,Q,gJCJhC,SACAZ,OAAA,CAAAkE,EAAAA,GACA/E,IAAAA,GACA,OACAgF,iBAAA,GACAC,SAAA,KAEA,EACAhI,QAAA,CACA,mBAAAiI,CAAAC,GACA,OAAAA,EAAApF,KAAAqF,eACA,UACA,YAAAC,eAAAF,GACA,WACA,kBAAAG,gBAAAH,GACA,QAEA,OADAI,EAAAA,EAAAC,MAAA,uDACA,KAEA,EAEAC,YAAAA,CAAAC,EAAAC,GACA,MAAAC,EAAAF,EAAAG,SAAAC,OAAA,GACA,IAAApG,EAAAkG,EAAAG,KAAAC,GAAAA,EAAAC,YAAAN,GACA,IAAAjG,IAAAA,EAAAwG,UACA,SAEA,IAAAC,EAAAzG,EAAAwG,UAAAH,KAAAK,GAAA,SAAAA,EAAAH,YACA,OAAAE,EAGAA,EAAAE,MAAAC,OAFA,EAGA,EAEA,mBAAAC,CAAApB,GACA,SAAAH,iBAAAG,EAAAhK,KACA,IACA,IAAAA,EAAA,IAAAqL,IAAArB,EAAAhK,KACAA,EAAAsL,aAAAC,IAAA,kBACAvL,EAAAsL,aAAAC,IAAA,6BACA,IAAAC,QAAApB,EAAAA,EAAAqB,QAAA/G,IAAA1E,EAAA0L,WAAA,CAAAC,aAAA,SACA,IAAAC,EAAA,IAAA/B,EAAAA,EACA,KAAAA,iBAAAG,EAAAhK,KAAA4L,EAAAC,KAAAL,EAAA3G,KACA,OAAAwF,OACAD,EAAAA,EAAA0B,UAAA,KAAAzB,MAAA,wBACA,CAEA,YAAAR,iBAAAG,EAAAhK,IACA,EAEA,qBAAAmK,CAAAH,EAAA+B,EAAA,WACA,IAAApI,EAAAqG,EAAAgC,YAAA,GAEAzB,QAAA,KAAAa,cAAApB,GACAO,GACAH,EAAAA,EAAA0B,UAAA,KAAAzB,MAAA,yBAGA,IAMA4B,EANAC,EAAA,KACAC,EAAA,KACAC,EAAA,KACAC,EAAA,KACA7F,EAAA4D,EAAAA,EAAAkC,iBAAAtC,EAAA+B,GACAQ,EAAA,IAAAC,EAAAA,EAEAvF,MAAAiB,QAAAvE,EAAA8G,QACAwB,EAAAtI,EAAA8G,OAEAxD,MAAAiB,QAAAqC,EAAAG,SAAAC,SACAsB,EAAAxB,OAAAtJ,IAAA0J,GAAAA,EAAAC,aAEA,QAAAvG,KAAA0H,EAAA,CACA,IAAA1H,EACA,SAEA,IAAApC,GAAAsK,EAAAA,EAAAA,GAAAlC,EAAA,CACAhG,QACAmI,UAAA,cAEAN,IACAA,EAAA,IAAAO,KAAAxK,EAAAyK,WAAAC,OAGA,IAAAC,EAAA,KAAAxC,aAAAC,EAAAhG,GACA,GAAAuI,EAAAhM,OAAA,CACA,IAAAgH,EAAA,IAAA6E,KAAAG,EAAA,IACA7E,EAAA,IAAA0E,KAAAG,EAAAA,EAAAhM,OAAA,MACAoL,GAAApE,EAAAoE,KACAA,EAAApE,KAEAqE,GAAAlE,EAAAkE,KACAA,EAAAlE,EAEA,CACAmC,EAAAA,EAAA2C,SAAApJ,EAAAiJ,aACApD,OAAAC,OAAAtH,EAAAyK,WAAA5C,EAAAgC,WAAAY,YAEAP,EAAA,IAAAW,EAAAA,EAAA7K,GACA,IAAA8K,EAAA,IAAAC,EAAAA,EAAA,CACA1G,QACA6F,OAAA,KAAAc,kBAAAd,GACAe,kBAAA,IAEAb,EAAA7C,KAAAuD,EACA,CAEA,GAAAf,GAAAC,EAAA,CAOA,IAAAkB,EANA,KAAAvD,SAAA,IAAAwD,EAAAA,EAAA,CACAC,UAAA,aACAC,WAAA,MACAtB,QAAAA,EACAC,QAAAA,IAGA,KAAArC,SAAArH,GAAA,kBAAAgL,IACAA,EAAAC,MAAAD,EAAAC,KAAAvB,GAAAsB,EAAAC,KAAAxB,IAGAmB,GACAM,OAAAC,aAAAP,GAEAA,EAAAM,OAAAE,WAAA,KACA,IACA,IAAAH,EAAAD,EAAAC,KAAAI,cAAAC,OAAA,MACA1B,EAAA2B,iBAAA,CACAnB,KAAAa,IAEA,IAAAO,EAAAC,SAAAC,uBAAA,uBACAF,EAAA,GAAAG,UAAAV,EACAO,EAAA,GAAAI,UAAA,CACA,OAAAhE,OACAiE,QAAAC,IAAAlE,MACA,CACAgD,EAAA,MACA,KACA,GACA,KAAAlM,IAAAgC,WAAA,KAAA2G,UAEA,KAAAA,SAAA0E,UAAA,CACAjB,UAAA,sBACA/G,MAAA,yDAAAA,KACAiI,KAAA,YAEA,KAAA3E,SAAA4E,QAAAtC,EACA,CAEA,IAAAuC,EAAA,IAAAC,EAAAA,EAAA,CACAhL,GAAAoG,EAAApG,GACA4C,QACAiE,OAAA8B,IAmBA,OAjBAoC,EAAAlM,GAAA,sBACA,KAAAqH,UAAA,KAAAA,SAAA+E,UAEA,KAAA/E,SAAA+E,QAAAC,MAAAC,QAAAJ,EAAAK,aAAA,kBAGA,KAAAC,cAAAN,GAEA,KAAA7E,UACA,KAAA3I,IAAA+N,YAAAzM,GAAA,SAAAC,IACAA,EAAAmM,UAAAF,IACA,KAAAxN,IAAAgO,cAAA,KAAArF,UACA,KAAAA,SAAA,QAKA6E,CACA,EAEAzE,cAAAA,CAAAF,EAAA+B,EAAA,WAEA,IAAA/L,EAAAoK,EAAAA,EAAAgF,aAAApF,EAAAhK,IAAA,yBAAA2M,MAAA0C,WAAAC,QAAA,YAAAA,QAAA,YACA9I,EAAA4D,EAAAA,EAAAkC,iBAAAtC,EAAA+B,GACAxH,EAAA,IAAA2I,EAAAA,EAAA,CACA1G,QACA6F,OAAA,KAAAc,kBAAA,IAAAoC,EAAAA,EAAA,CACAvP,SAEAoN,kBAAA,IAEAuB,EAAA,IAAAC,EAAAA,EAAA,CACAhL,GAAAoG,EAAApG,GACA4C,QACAiE,OAAA,CACAlG,KAMA,GAHA,KAAA0K,cAAAN,GAGAvE,EAAAA,EAAA2C,SAAA/C,EAAAwF,UAAApF,EAAAA,EAAA2C,SAAA/C,EAAAwF,QAAAC,eAAA,CACA,MAAAC,EAAA,gCACAC,EAAA,YACAnG,OAAAoG,OAAA5F,EAAAwF,QAAAC,eACA1O,OAAA8O,GAAA,oBAAAA,EAAAC,YAAA1F,EAAAA,EAAA2C,SAAA8C,EAAApK,YAAAoK,EAAApK,UAAAsK,gBACAC,QAAAH,IACA,IAAApC,EAAAoC,EAAApK,UAAAsK,eACAE,GAAAxC,EAAA1K,MAAA0K,EAAAzK,MAAAyK,EAAAvK,OAAAuK,EAAAxK,UAAAwK,EAAAyC,KAAA,OAAAzC,EAAAyC,KAAAzC,EAAAyC,MAAAP,GACAQ,EAAA1C,EAAA7I,QAAA6I,EAAAyC,KAAA9F,EAAAA,EAAA2C,SAAAU,EAAAyC,MAAA,SAAAzC,EAAAyC,IAAAtL,OAAA6I,EAAAyC,IAAAE,YAAA3O,OAAAkO,GAAAlC,EAAA2C,YAAA3O,OAAAiO,KACAO,GAAAE,IACA,KAAAE,UAAA5C,GAAA,IAIA,CAEA,OAAAkB,CACA,IChOuQ,ICAvQ,IAAI,EAAQ,EAOR,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,QAAe,EAAiB,QClBjB,MAAM2B,EAEpBvQ,WAAAA,CAAYwQ,GACXrQ,KAAKqE,MAAQ,KACbrE,KAAKkE,SAAWmM,EAAQC,cACxBtQ,KAAKuQ,OAASF,EAAQG,YACtBxQ,KAAKsE,MAAQ+L,EAAQI,WACrBzQ,KAAKuE,gBAAkBvE,KAAKsE,MAAMmE,MAAM,EAAG,GAC3CzI,KAAKoG,SAAWpG,KAAKsE,MAAMmE,MAAM,EAAG,GAClCzI,KAAK+F,KAAOsK,CACf,CAEAK,UAAAA,CAAWhO,GACV,MAAO,CAAC,OAAQ,CAAC,MAAO,GAAGA,SAC5B,CAEAiO,UAAAA,CAAWjO,GACV,IAAIkF,EAAM,CAAC,MAAO,GAAGlF,QACjBqF,EAAM,CAAC,MAAO,GAAGrF,QACjBkO,EAAI5Q,KAAK0Q,WAAWhO,GACpBmO,EAAQ,CAAC,IAAK,CAAC,IAAK,CAAC,IAAKD,EAAGhJ,GAAM,CAAC,IAAKG,EAAKH,IAAO,KACzD,MAAO,CAAC,QAASiJ,EAAO,EAAG,IAC5B,CAEAC,gBAAAA,GACC,IAAIpJ,EAAO1H,KAAK0Q,WAAW,SAI3B,MAAO,CAAC,OAAQ,CAAC,KAAMhJ,EAAM,GAAI,EAAG,EACrC,CAEAqJ,QAAAA,GACC,IAAK/Q,KAAKqE,MACT,OAID,IAAI2M,EAAY,CAAC,EACjB,IAAI,IAAItO,KAAK1C,KAAKoG,SAAU,CAC3B,IAAIO,EAAU3G,KAAKoG,SAAS1D,GAC5BsO,EAAU,GAAGtO,SAAWiE,EAAQjD,GAChCsN,EAAU,GAAGtO,QAAUiE,EAAQiB,IAC/BoJ,EAAU,GAAGtO,QAAUiE,EAAQoB,GAChC,CACAiJ,EAAUC,UAAYjR,KAAKsE,MAAM1D,OAAS,EAG1C,IAAIsQ,EAAQ,GACZ,GAAIlR,KAAKkE,SACRgN,EAAM1H,KAAK,WACX0H,EAAM1H,KAAK,CAAC,OAAQ,IACpB0H,EAAM1H,KAAKxJ,KAAKkE,cAEZ,IAA6B,IAAzBlE,KAAKoG,SAASxF,OACtB,OAAO,KAEH,GAA6B,IAAzBZ,KAAKoG,SAASxF,OAAc,CACpCsQ,EAAM1H,KAAK,SACX,IAAI2H,EAAUnR,KAAK2Q,WAAW,GAC9BO,EAAM1H,KAAK2H,GACXD,EAAM1H,KAAK2H,GACXD,EAAM1H,KAAK2H,GACPnR,KAAKuQ,OAAO3P,OAAS,GACxBsQ,EAAM1H,KAAKxJ,KAAK8Q,mBAElB,MAECI,EAAM1H,KAAK,SACX0H,EAAM1H,KAAKxJ,KAAK2Q,WAAW,IAC3BO,EAAM1H,KAAKxJ,KAAK2Q,WAAW,IAC3BO,EAAM1H,KAAKxJ,KAAK2Q,WAAW,IACvB3Q,KAAKuQ,OAAO3P,OAAS,GACxBsQ,EAAM1H,KAAKxJ,KAAK8Q,mBAElB,CAGA9Q,KAAKqE,MAAM0M,SAAS,CAACC,YAAWE,SACjC,E,eC5EDE,EAAAA,EAAapK,UAAUqK,kBAAoB,SAAS3O,GAClD,GAAK1C,KAAKsR,cAAcC,eAA6D,IAA5CvR,KAAKsR,cAAcC,cAAc3Q,OAM1E,OAHI8B,GAAK1C,KAAKsR,cAAcC,cAAc3Q,SACxC8B,EAAI,GAEC8O,KAAKC,KAAKzR,KAAKsR,cAAcC,cAAc7O,GAAK,EACzD,EAEA0O,EAAAA,EAAapK,UAAU0K,mBAAqB,SAASC,GACnD,MAAMrR,EAASN,KAAK4R,gBAAgBD,GAC9BE,EAAgB7R,KAAK8R,iBAAiBH,GAC5C,OAAQrR,GACN,KAAK,EACH,GAAIuR,GAAiB,EACnB,OAAOE,SAAS/K,UAAUgL,SACrB,GAAIH,GAAiB,GAC1B,OAAOE,SAAS/K,UAAUiL,UACrB,GAAIJ,GAAiB,GAC1B,OAAOE,SAAS/K,UAAUkL,UAE5B,MACF,KAAK,EACH,GAAIL,GAAiB,EACnB,OAAOE,SAAS/K,UAAUmL,QACrB,GAAIN,GAAiB,GAC1B,OAAOE,SAAS/K,UAAUoL,SACrB,GAAIP,GAAiB,GAC1B,OAAOE,SAAS/K,UAAUqL,SAE5B,MACF,KAAK,EACH,OAAQR,GACN,KAAK,GACH,OAAO,SAAUS,EAAQC,GACvB,OAAOC,WAAWxS,KAAMsS,EAAQC,EAClC,EACF,KAAK,GACH,OAAOR,SAAS/K,UAAUyL,WAC5B,KAAK,GACH,OAAOV,SAAS/K,UAAU0L,WAC5B,QACE,MAEJ,MACF,QACE,MAEJ,MAAMC,MAAM,wCACd,EAEAvB,EAAAA,EAAapK,UAAU4K,gBAAkB,SAASD,EAAc,GAC9D,OAAK3R,KAAKsR,cAAcsB,cAA2D,IAA3C5S,KAAKsR,cAAcsB,aAAahS,OAGT,qBAAjDZ,KAAKsR,cAAcsB,aAAajB,GAC1C3R,KAAKsR,cAAcsB,aAAajB,GAAe3R,KAAKsR,cAAcsB,aAAa,GAH1E,CAIX,EAEAxB,EAAAA,EAAapK,UAAU8K,iBAAmB,SAASH,EAAc,GAC/D,GAAK3R,KAAKsR,cAAcC,eAA6D,IAA5CvR,KAAKsR,cAAcC,cAAc3Q,OAG1E,MAAgE,qBAAlDZ,KAAKsR,cAAcC,cAAcI,GAC3C3R,KAAKsR,cAAcC,cAAcI,GAAe3R,KAAKsR,cAAcC,cAAc,EACvF,E,uGChDIsB,EAAmB,cAA6BC,EAAAA,WAClDjT,WAAAA,CAAYoC,GACVA,EAAUA,GAAW,CAAC,EAEtB,IAAI0M,EAAUX,SAAS+E,cAAc,OACrCC,MAAM,CACJrE,QAASA,IAGXA,EAAQtB,WAAapL,EAAQoL,WAAa,YAAc,8BACxD,IAAI4F,EAASjF,SAAS+E,cAAc,UACpCpE,EAAQuE,YAAYD,GAEpBtE,EAAQwE,iBAAiB,YAAanT,KAAKoT,KAAKC,KAAKrT,OACrD2O,EAAQwE,iBAAiB,aAAcnT,KAAKoT,KAAKC,KAAKrT,OAGtDA,KAAKsT,iBAAmBtT,KAAKuT,gBAAgBF,KAAKrT,MAClDA,KAAKwT,gBAAkBxT,KAAKyT,eAAeJ,KAAKrT,MAChDA,KAAK0T,aAAe1T,KAAK2T,YAAYN,KAAKrT,MAE1CA,KAAKuK,OAAS,GACVtI,EAAQsI,QACVvK,KAAK6F,SAAS5D,EAAQsI,QAAQ,GAC5BtI,EAAQ2R,aACV5T,KAAK6F,SAAS5D,EAAQ2R,aAAa,GAErC5T,KAAKuC,GAAG,iBAAkB,SAAUgL,GAClC,GAAIvN,KAAK6T,SACP,IAAM7T,KAAK6T,SAASC,YAAc,CAAE,MAAOvG,GAAa,CAE1B,eAA5BvN,KAAKwE,IAAI,gBACXxE,KAAK2O,QAAQC,MAAMmF,IAA6B,IAAvB/T,KAAKwE,IAAI,YAAoB,IACtDxE,KAAK2O,QAAQC,MAAMoF,KAAO,KAEM,aAA5BhU,KAAKwE,IAAI,gBACXxE,KAAKqL,IAAI,cAAe,YAC1BrL,KAAK2O,QAAQC,MAAMoF,KAA8B,IAAvBhU,KAAKwE,IAAI,YAAoB,IACvDxE,KAAK2O,QAAQC,MAAMmF,IAAM,IAEb,gBAAVxG,EAAEnJ,MACJpE,KAAK2O,QAAQsF,UAAUC,OAAO,aAAc,YAC5ClU,KAAK2O,QAAQsF,UAAUE,IAAInU,KAAKwE,IAAI,iBAGjCxE,KAAKoU,UACRpU,KAAKuK,OAAOuF,QAAQ,SAAUnF,GACxBA,EAAEtG,MAAMgQ,eACV1J,EAAEtG,MAAMiQ,SACZ,EAEJ,EAAEjB,KAAKrT,OAEPA,KAAKqL,IAAI,WAAYpJ,EAAQsS,UAAY,IACzCvU,KAAKqL,IAAI,cAAepJ,EAAQuS,aAAe,WACjD,CAKAC,MAAAA,CAAOxT,GACL,IAAIyB,EACAiI,EAEJ,GAAI3K,KAAK6T,SAAU,CACjB,IAAKnR,EAAI,EAAGA,EAAI1C,KAAKuK,OAAO3J,OAAQ8B,IAClCiI,EAAI3K,KAAKuK,OAAO7H,GACZiI,EAAE+J,MACJ/J,EAAEtG,MAAMsQ,GAAG,CAAC,aAAc,aAAc3U,KAAKsT,kBAE7C3I,EAAEtG,MAAMsQ,GAAG,CAAC,aAAc,aAAc3U,KAAKwT,iBAC/C7I,EAAEtG,MAAMsQ,GAAG,CAAC,cAAe,cAAe3U,KAAK0T,cAEjD,IAAM1T,KAAK6T,SAASC,YAAc,CAAE,MAAOvG,GAAa,CAC1D,CAIA,GAFAyF,MAAMyB,OAAOxT,GAETA,EAAK,CAEP,IADAjB,KAAK4U,UAAY,GACZlS,EAAI,EAAGA,EAAI1C,KAAKuK,OAAO3J,OAAQ8B,IAClCiI,EAAI3K,KAAKuK,OAAO7H,GACZiI,EAAE+J,MACJ/J,EAAEtG,MAAM9B,GAAG,CAAC,aAAc,aAAcvC,KAAKsT,kBAE7C3I,EAAEtG,MAAM9B,GAAG,CAAC,aAAc,aAAcvC,KAAKwT,iBAC/C7I,EAAEtG,MAAM9B,GAAG,CAAC,cAAe,cAAevC,KAAK0T,cAEjD,IAAMzS,EAAI6S,YAAc,CAAE,MAAOvG,GAAa,CAChD,CACF,CAGAsH,QAAAA,CAASxQ,GACP,IAAK,IAAIyQ,EAAI,EAAGA,EAAI9U,KAAKuK,OAAO3J,OAAQkU,IACtC,GAAI9U,KAAKuK,OAAOuK,GAAGzQ,QAAUA,EAC3B,OAAOyQ,EAEX,OAAQ,CACV,CAKAjP,QAAAA,CAAS0E,EAAQmK,GACTnK,aAAkBxD,QACtBwD,EAAS,CAACA,IACZ,IAAK,IAAI7H,EAAI,EAAGA,EAAI6H,EAAO3J,OAAQ8B,IAAK,CACtC,IAAIiI,EAAIJ,EAAO7H,GACf,GAAI1C,KAAK6U,SAASlK,GAAK,IACrB3K,KAAKuK,OAAOf,KAAK,CAAEnF,MAAOsG,EAAG+J,MAAOA,IAChC1U,KAAK6T,UAAU,CACba,EACF/J,EAAEpI,GAAG,CAAC,aAAc,aAAcvC,KAAKsT,kBAEvC3I,EAAEpI,GAAG,CAAC,aAAc,aAAcvC,KAAKwT,iBACzC7I,EAAEpI,GAAG,CAAC,cAAe,cAAevC,KAAK0T,cACzC,IAAM1T,KAAK6T,SAASC,YAAc,CAAE,MAAOvG,GAAa,CAC1D,CAEJ,CACF,CAGAwH,YAAAA,GACE,IAAIxK,EAAS,GACbvK,KAAKuK,OAAOuF,QAAQ,SAAUnF,GAAKJ,EAAOf,KAAKmB,EAAEtG,MAAQ,GACzDrE,KAAKgV,YAAYzK,EACnB,CAIAyK,WAAAA,CAAYzK,GACJA,aAAkBxD,QACtBwD,EAAS,CAACA,IACZ,IAAK,IAAI7H,EAAI,EAAGA,EAAI6H,EAAO3J,OAAQ8B,IAAK,CACtC,IAAIoS,EAAI9U,KAAK6U,SAAStK,EAAO7H,IACzBoS,GAAK,GAAK9U,KAAK6T,WACb7T,KAAKuK,OAAOuK,GAAGJ,MACjBnK,EAAO7H,GAAGiS,GAAG,CAAC,aAAc,aAAc3U,KAAKsT,kBAE/C/I,EAAO7H,GAAGiS,GAAG,CAAC,aAAc,aAAc3U,KAAKwT,iBACjDjJ,EAAO7H,GAAGiS,GAAG,CAAC,cAAe,cAAe3U,KAAK0T,cACjD1T,KAAKuK,OAAO0K,OAAOH,EAAG,GAE1B,CACA,GAAI9U,KAAK6T,SACP,IAAM7T,KAAK6T,SAASC,YAAc,CAAE,MAAOvG,GAAa,CAE5D,CAIA2H,YAAAA,GACE,IAAIC,EACJ,MAAgC,aAA5BnV,KAAKwE,IAAI,gBACX2Q,EAAInV,KAAK6T,SAASuB,UACX,CAAC,EAAG,EAAGD,EAAE,GAAKnV,KAAKwE,IAAI,YAAa2Q,EAAE,MAE7CA,EAAInV,KAAK6T,SAASuB,UACX,CAAC,EAAG,EAAGD,EAAE,GAAIA,EAAE,GAAKnV,KAAKwE,IAAI,aAExC,CAGA4O,IAAAA,CAAK7F,GACH,IACI5C,EADA0K,EAAOrV,KAIX,OAFKA,KAAKsV,UACRtV,KAAKsV,QAAUtV,KAAKoT,KAAKC,KAAKrT,OACxBuN,EAAE7I,MACR,IAAK,cACL,IAAK,WACL,IAAK,UACH2Q,EAAKjB,UAAW,EAChB,CAAC,UAAW,YAAa,WAAY,cAAe,aACjDtE,QAAQ,SAAUyF,GACjBvH,SAASwH,oBAAoBD,EAAWF,EAAKC,QAC/C,GAEFtV,KAAKuK,OAAOuF,QAAQ,SAAUnF,GACxBA,EAAEtG,MAAMgQ,eACV1J,EAAEtG,MAAMiQ,SACZ,GACA,MAEF,IAAK,YACL,IAAK,aACHe,EAAKjB,UAAW,EAChB,CAAC,UAAW,YAAa,WAAY,cAAe,aACjDtE,QAAQ,SAAUyF,GACjBvH,SAASmF,iBAAiBoC,EAAWF,EAAKC,QAC5C,GAGJ,IAAK,YACL,IAAK,YACH,GAAID,EAAKjB,SACP,GAAgC,aAA5BiB,EAAK7Q,IAAI,eAA+B,CAC1C,IAAIiR,EAAQlI,EAAEkI,OACRlI,EAAEmI,SAAWnI,EAAEmI,QAAQ9U,QAAU2M,EAAEmI,QAAQ,GAAGD,OAC9ClI,EAAEoI,gBAAkBpI,EAAEoI,eAAe/U,QAAU2M,EAAEoI,eAAe,GAAGF,MACzE,IAAKA,EACH,MACFA,GAASJ,EAAKxB,SAAS+B,mBAAmBC,wBAAwB7B,KAChEvG,OAAOqI,YAAc9H,SAAS+H,gBAAgBC,WAEhDrL,EAAI0K,EAAKxB,SAASuB,UAAU,GAC5B,IAAIa,EAAItL,EAAI6G,KAAK5J,IAAI4J,KAAKzJ,IAAI,EAAG4C,EAAI8K,GAAQ9K,GAC7CA,EAAIsL,EAAItL,EACR0K,EAAKhK,IAAI,WAAYV,GACrB0K,EAAKa,cAAc,CAAExR,KAAM,SAAUyR,KAAM,CAACF,EAAGZ,EAAKxB,SAASuB,UAAU,IAAKb,SAAU,CAAC5J,EAAG,IAC5F,KAAO,CACL,IAAIyL,EAAQ7I,EAAE6I,OACR7I,EAAEmI,SAAWnI,EAAEmI,QAAQ9U,QAAU2M,EAAEmI,QAAQ,GAAGU,OAC9C7I,EAAEoI,gBAAkBpI,EAAEoI,eAAe/U,QAAU2M,EAAEoI,eAAe,GAAGS,MACzE,IAAKA,EACH,MACFA,GAASf,EAAKxB,SAAS+B,mBAAmBC,wBAAwB9B,IAChEtG,OAAO4I,YAAcrI,SAAS+H,gBAAgBO,UAEhD3L,EAAI0K,EAAKxB,SAASuB,UAAU,GAC5B,IAAImB,EAAI5L,EAAI6G,KAAK5J,IAAI4J,KAAKzJ,IAAI,EAAG4C,EAAIyL,GAAQzL,GAC7CA,EAAI4L,EAAI5L,EACR0K,EAAKhK,IAAI,WAAYV,GACrB0K,EAAKa,cAAc,CAAExR,KAAM,SAAUyR,KAAM,CAACd,EAAKxB,SAASuB,UAAU,GAAImB,GAAIhC,SAAU,CAAC,EAAG5J,IAC5F,CAEF,MAEF,QAAS,MAEb,CAGA6L,YAAAA,CAAajJ,EAAGkJ,GACd,IAAIC,EAAKnJ,EAAEoJ,sBACP/F,EAAI6F,EAAG,GACPG,EAAIH,EAAG,GAGX,OAFAA,EAAG,GAAKC,EAAG,GAAK9F,EAAI8F,EAAG,GAAKE,EAAIF,EAAG,GACnCD,EAAG,GAAKC,EAAG,GAAK9F,EAAI8F,EAAG,GAAKE,EAAIF,EAAG,GAC5BD,CACT,CAGAI,SAAAA,CAAUtJ,EAAGuJ,GACX,IAAIJ,EAAKnJ,EAAEoJ,sBACX,GAAID,EAAI,CACN,IAAIK,EAAI,CACN,CAACD,EAAI,GAAG,GAAIA,EAAI,GAAG,IACnB,CAACA,EAAI,GAAG,GAAIA,EAAI,GAAG,IACnB,CAACA,EAAI,GAAG,GAAIA,EAAI,GAAG,IACnB,CAACA,EAAI,GAAG,GAAIA,EAAI,GAAG,IACnB,CAACA,EAAI,GAAG,GAAIA,EAAI,GAAG,KAIrB,GAFAvJ,EAAEyJ,QAAQpR,OAEN2H,EAAErG,OAAOmN,cAAe,CAC1B,IAAI4C,GAAOzF,KAAK0F,MAAM3J,EAAE4J,WAAWC,2BAA2B,GAAI7J,EAAE4J,WAAWC,2BAA2B,IAC1G7J,EAAEyJ,QAAQK,UAAU9J,EAAE4J,WAAWhB,KAAK,GAAK,EAAG5I,EAAE4J,WAAWhB,KAAK,GAAK,GACrE5I,EAAEyJ,QAAQM,OAAOL,GACjB1J,EAAEyJ,QAAQK,WAAW9J,EAAE4J,WAAWhB,KAAK,GAAK,GAAI5I,EAAE4J,WAAWhB,KAAK,GAAK,EACzE,CACAY,EAAEjH,QAAQ,SAAU2G,EAAI/T,GACtB+T,EAAK,CACFA,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKA,EAAG,IAClCD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKA,EAAG,IAElChU,EAGH6K,EAAEyJ,QAAQO,OAAOd,EAAG,GAAIA,EAAG,IAF3BlJ,EAAEyJ,QAAQQ,OAAOf,EAAG,GAAIA,EAAG,GAI/B,GACAlJ,EAAEyJ,QAAQS,SACZ,KAAO,CACL,IAAIC,EAAQnK,EAAE4J,WAAWQ,WACzBpK,EAAEyJ,QAAQY,KAAKd,EAAI,GAAG,GAAKY,EAAOZ,EAAI,GAAG,GAAKY,EAAOZ,EAAI,GAAG,GAAKY,EAAOZ,EAAI,GAAG,GAAKY,EACtF,CACF,CAGAjE,cAAAA,CAAelG,GACb,IAAIsK,EAAMtK,EAAEyJ,QACZ,GAAIa,aAAeC,uBACjB,GAAe,cAAXvK,EAAE7I,KAAsB,CAEtB1E,KAAK+X,WAAaxK,EAAE4J,WAAWa,OACjCH,EAAII,WAAW,EAAG,EAAG,EAAG,GACxBJ,EAAIK,MAAML,EAAIM,kBACdnY,KAAK+X,UAAYxK,EAAE4J,WAAWa,MAIhCH,EAAIO,OAAOP,EAAIQ,cAEf,IASIC,EAAOC,EATPC,EAAUxY,KAAK6T,SAASuB,UAIxBqD,EAAazY,KAAKwW,aAAajJ,EAAG,CAAC,EAAGiL,EAAQ,KAC9CE,EAAW1Y,KAAKwW,aAAajJ,EAAG,CAACiL,EAAQ,GAAI,IAE7CG,EAAYD,EAAS,GAAKD,EAAW,GACrCG,EAAaF,EAAS,GAAKD,EAAW,GAEV,aAA5BzY,KAAKwE,IAAI,gBACX8T,EAAQ9G,KAAKqH,MAAMF,EAAY3Y,KAAKwE,IAAI,aACxC+T,EAASK,IAETN,EAAQK,EACRJ,EAAS/G,KAAKqH,MAAOD,EAAa5Y,KAAKwE,IAAI,aAC3CiU,EAAW,IAAMG,EAAaL,GAEhCV,EAAIiB,QAAQL,EAAW,GAAIA,EAAW,GAAIH,EAAOC,GACjDV,EAAII,WAAW,EAAG,EAAG,EAAG,GACxBJ,EAAIK,MAAML,EAAIM,iBAChB,MACK,CACL,IAAIhC,EAAO5I,EAAE4J,WAAWhB,KACxB0B,EAAIjS,OACJiS,EAAIkB,YACJ,IAAIjC,EAAM,CAAC,CAAC,EAAG,GAAI,CAACX,EAAK,GAAIA,EAAK,KACF,aAA5BnW,KAAKwE,IAAI,eACXsS,EAAI,GAAK,CACG,GAAVX,EAAK,GAAUnW,KAAK6T,SAASuB,UAAU,IAAMpV,KAAKwE,IAAI,YAAc,IACpE2R,EAAK,IAGPW,EAAI,GAAK,CACPX,EAAK,GACK,GAAVA,EAAK,GAAUnW,KAAK6T,SAASuB,UAAU,IAAMpV,KAAKwE,IAAI,YAAc,KAGxExE,KAAK6W,UAAUtJ,EAAGuJ,GAClBe,EAAImB,MACN,CACF,CAGAzF,eAAAA,CAAgBhG,GACd,IAAIsK,EAAMtK,EAAEyJ,QACZ,GAAIa,aAAeC,uBACjB,GAAe,cAAXvK,EAAE7I,KAAsB,CAEtB1E,KAAKiZ,YAAc1L,EAAE4J,WAAWa,OAClCH,EAAII,WAAW,EAAG,EAAG,EAAG,GACxBJ,EAAIK,MAAML,EAAIM,kBACdnY,KAAKiZ,WAAa1L,EAAE4J,WAAWa,MAIjCH,EAAIO,OAAOP,EAAIQ,cAEf,IASIC,EAAOC,EATPC,EAAUxY,KAAK6T,SAASuB,UAIxBqD,EAAazY,KAAKwW,aAAajJ,EAAG,CAAC,EAAGiL,EAAQ,KAC9CE,EAAW1Y,KAAKwW,aAAajJ,EAAG,CAACiL,EAAQ,GAAI,IAE7CG,EAAYD,EAAS,GAAKD,EAAW,GACrCG,EAAaF,EAAS,GAAKD,EAAW,GAEV,aAA5BzY,KAAKwE,IAAI,gBACX+T,EAASK,EACTN,EAAQ9G,KAAKqH,MAAMF,GAAa,EAAI3Y,KAAKwE,IAAI,cAC7CiU,EAAW,IAAME,EAAYL,IAE7BA,EAAQK,EACRJ,EAAS/G,KAAKqH,MAAMD,GAAc,EAAI5Y,KAAKwE,IAAI,eAEjDqT,EAAIiB,QAAQL,EAAW,GAAIA,EAAW,GAAIH,EAAOC,GACjDV,EAAII,WAAW,EAAG,EAAG,EAAG,GACxBJ,EAAIK,MAAML,EAAIM,iBAChB,MACK,CACL,IAAIhC,EAAO5I,EAAE4J,WAAWhB,KACxB0B,EAAIjS,OACJiS,EAAIkB,YACJ,IAAIjC,EAAM,CAAC,CAAC,EAAG,GAAI,CAACX,EAAK,GAAIA,EAAK,KACF,aAA5BnW,KAAKwE,IAAI,eACXsS,EAAI,GAAK,CACG,GAAVX,EAAK,GAAUnW,KAAK6T,SAASuB,UAAU,IAAMpV,KAAKwE,IAAI,YAAc,IACpE,GAGFsS,EAAI,GAAK,CACP,EACU,GAAVX,EAAK,GAAUnW,KAAK6T,SAASuB,UAAU,IAAMpV,KAAKwE,IAAI,YAAc,KAGxExE,KAAK6W,UAAUtJ,EAAGuJ,GAClBe,EAAImB,MACN,CACF,CAGArF,WAAAA,CAAYpG,GACV,GAAIA,EAAEyJ,mBAAmBc,uBACvB,GAAe,eAAXvK,EAAE7I,KAAuB,CAC3B,IAAIwU,EAAK3L,EAAEyJ,QACXkC,EAAGC,QAAQD,EAAGb,aAChB,OAII9K,EAAErG,OAAOkS,cAA4C,aAA5B7L,EAAErG,OAAOkS,gBAAiC7L,EAAErG,OAAO1C,IAAI,aAClFmJ,WAAW,WACTJ,EAAEyJ,QAAQS,SACZ,EAAG,GAEHlK,EAAEyJ,QAAQS,SAGhB,GAGF,WCvXA,IACAlW,KAAA,YACAiE,OAAA,CACAkE,EAAAA,EACA2P,EAAAA,EACAC,EAAAA,EACAC,GAEAC,WAAA,CACAC,eAAA,EACAC,eAAA,EACAC,KAAA,IACAC,aAAA,IACAC,WAAA,IACAC,YAAAA,EAAAA,GAEApR,MAAA,CACA/D,KAAA,IAEAA,IAAAA,GACA,OACAb,gBAAA,WACAe,SAAA,EACAE,MAAA,KACAf,SAAA,GACA+V,MAAA,KACAzP,QAAA,EAEA,EACAzB,SAAA,IACAqB,EAAAA,EAAA8P,SAAA,mBACA9P,EAAAA,EAAA8P,SAAA,sBACAC,YAAAA,GACA,YAAAtV,gBAAAuV,EAAAA,SAAA,uBAAAvV,KAAAD,IACA,EACAb,SAAAA,GACA,YAAAc,gBAAAwV,EAAAA,CACA,EACAC,SAAAA,GACA,YAAAzV,gBAAA0V,EAAAA,GAAA,KAAA1V,KAAAyV,SACA,GAEAtR,OAAAA,GACA,KAAA9C,MAAA,eACA,EACApE,QAAA,CACA,eAAA0Y,GACA,IACA,IAAAC,EACA5V,EACA,QAAAyV,UACAzV,QAAA,KAAAA,KAAA6V,SAAA,KAAAC,iBAEA,QAAA5W,UAAA,CACAc,QAAA,KAAAA,KAAA6V,SAAA,KAAAC,YACA,IAAAC,EAAA/V,EAAAgW,gBACAD,IACAH,EAAAG,EAEA,KACA,UAAAT,eAAA/P,EAAAA,EAAA0Q,sBAAA,KAAAjW,KAAAD,MAOA,UAAAiO,MAAA,sDANA,iBAAAhO,KAAAD,KAAAqF,cAAA,OACA,KAAAmB,cAAA,KAAAvG,KAEA,CAIA,OAEA,KAAAkW,UAAAN,GAEA,MAAAhQ,EAAA,KAAAtJ,IAAA+N,YA2BA,GA1BAzE,EAAAhI,GAAA,MAAAuY,IACA,MAAA7W,EAAA6W,EAAAnM,QAAAnK,IAAA,WACAP,IACA,KAAAD,SAAAwF,KAAAvF,GACA,KAAA8W,kBAGAxQ,EAAAhI,GAAA,SAAAuY,IACA,MAAA7W,EAAA6W,EAAAnM,QAAAnK,IAAA,WACAwW,EAAA,KAAAhX,SAAAiX,QAAAhX,GACA+W,GAAA,IACA,KAAAhX,SAAAiR,OAAA+F,EAAA,GACA,KAAAD,kBAIA,KAAAG,mBACA,KAAArZ,YAAA8C,IACA,IAAAA,EACA,OAEA,IAAAwW,EAAA,KAAAC,SAAAzW,GACAwW,GAAAE,EAAAA,EAAAA,iBAAAF,EAAA,iBAAAla,IAAAqa,UAAAX,iBACA,KAAA1Z,IAAAqa,UAAAC,IAAAJ,EAAA,KAAAK,mBAGA,KAAApB,UACA,KAAAqB,cACA,KAAAC,WAAA/W,GAAA,QAEA,QAAAd,UAAA,CACA,IAAA8X,EAAA,KAAA1a,IAAAqa,UAAAX,iBACAgB,EAAAC,SAAA,0BAAA7a,SAAA4a,EAAAE,aACA,KAAAJ,cAEA,KAAAK,WAAAnX,EAAAA,EAAA2B,OACA,IAAAyV,EAAA,KAAApX,KAAAqX,aACAD,GACA,KAAA5L,UAAA4L,GAAA,EAEA,MACA,KAAA9B,cAAA/P,EAAAA,EAAA0Q,sBAAA,KAAAjW,KAAAD,QACA,KAAA+W,cACA,KAAA5R,cAAA,KAAAlF,OAGA,KAAAsX,YAAA,KAAAA,WAAAC,OACA,KAAAjb,IAAAkb,cAAAhJ,iBAAA,WAAA3Q,GAAAA,EAAAH,kBACA,KAAApB,IAAAkb,cAAAhJ,iBAAA,YAAA8I,WAAAC,OAGA,KAAAjb,IAAAsB,GAAA,mBAAA6Z,eACA,KAAAnb,IAAAsB,GAAA,aAAA8Z,QACA,OAAAlS,OACAD,EAAAA,EAAA0B,UAAA,KAAAzB,MACA,CAEA,KAAAtF,SAAA,CACA,EAEA,mBAAAyX,GACA,IAAAjY,EAAA,KAAAkY,eAAA,KAAA5X,MAEA,IACA,IAAAvD,EAAA0I,QAAAgC,WAAA1K,KACA+Z,EAAA,SAAAqB,WAAA,CAAApb,EAAAyB,KAAAzB,EAAA4B,WAAA,KAAAwZ,WAAA,CAAApb,EAAA0B,KAAA1B,EAAA2B,SACA0Z,EAAA,IAAAC,EAAAA,WAAA,CACApW,MAAA,SACA4G,kBAAA,EACAf,OAAA,IAAAwQ,EAAAA,WAAA,CACAC,SAAA,CACA,IAAAC,EAAAA,YAAAC,EAAAA,EAAAA,IAAA3B,KAEAT,WAAA,YACAqC,OAAA,MAIA,KAAAC,gBAAAP,GACApY,EAAA2K,YAAAxF,KAAAiT,GAEA,KAAAxb,IAAAqa,UAAAC,IAAAJ,EAAA,KAAAK,cAAA,IACA,OAAArR,OACAiE,QAAAC,IAAAlE,MACA,CACA,EAEA8S,cAAAA,CAAAC,GACA,YAAAlZ,SAAA/C,IAAAgD,IACA,MAAAI,EAAAJ,EAAAI,MAEA,IAAAM,EAAAN,EAAA8Y,QAAAD,GACAvY,EAAAA,EAAAoC,MAAAqW,KAAAzY,GAAA,GAGA,MAAA4L,EAAAtM,EAAAsM,OACA8M,EAAA9M,EAAA3P,OAAA,EAAA+D,EAAA2Y,WAAAC,EACA5Y,EAAAA,EAAA1D,IAAA2P,GAAA,IAAAyM,GAAA9M,EAAAxP,SAAA6P,GAAA4M,IAAA5M,GAGA,MAAAhK,EAAAjC,EAAA1D,IAAA,CAAAwc,EAAA/a,KACA,MAAAgF,EAAAzD,EAAAK,MAAA5B,GACA,GAAAgF,EAAA,CACA,MAAAnG,EAAAoH,OAAAjB,EAAAnG,MAAAmG,EAAAhE,IACA,GAAAnC,EAAAX,OAAA,EACA,OAAAW,CAEA,CACA,OAAAoH,OAAAjG,KAIA,OACA4D,MAAAjC,EAAAG,IAAA,SACAG,OACAiC,WAGA,EACA8W,YAAAA,CAAAC,GACA,OAAAA,EAAA1c,IAAA2P,GAAAjI,OAAAhG,WAAAiO,EAAAgN,QAAA,MAAAC,KAAA,KACA,EACAC,WAAAA,EAAA,KAAAnZ,IACA,OAAAoC,MAAAiB,QAAArD,IAAA,IAAAA,EAAA/D,OAGA+D,EACA1D,IAAA2P,IACAA,EAAAjO,WAAAiO,EAAAgN,QAAA,IACAG,MAAAnN,GACA,UAEAA,IAEAiN,KAAA,OAVA,GAWA,EACAzB,aAAAA,CAAAtB,GACA,MAAApL,EAAA,KAAAuN,eAAAnC,EAAAoC,OACA,IAAAc,EAAA,IACA,IAAAtO,EAAA9O,OACAod,EAAA,KAAAF,YAAApO,EAAA,IAEAA,EAAA9O,OAAA,IACAod,EAAAtO,EAAAzO,IAAA2P,GAAA,SAAAA,EAAAtK,UAAA,KAAAwX,YAAAlN,MAAAiN,KAAA,KAEA,MAAAI,EAAAvO,EAAA9O,OAAA,SACA+c,EAAA,KAAAD,aAAA5C,EAAAoD,YACA,KAAApa,gBAAA,CACA,QAAAma,MAAAD,IACA,cAAAC,MAAAD,oBAAAL,IAEA,EACAtB,OAAAA,CAAAvB,GACA,MAAAnW,EAAA,KAAAsY,eAAAnC,EAAAoC,OAEAiB,EAAAxZ,EACA1D,IAAA2P,GAAAA,EAAAjM,MACAyZ,OACAvd,OAAA+P,GAAAyN,SAAAzN,IAEA,GAAAuN,EAAAvd,OAAA,EAEA,YADA,KAAAmE,MAAA,MAIA,IAAA6B,EAAAjC,EAAA1D,IAAA2P,GAAAA,EAAAhK,QAAAwX,OACAxX,EAAAG,MAAAqW,KAAA,IAAAkB,IAAA1X,IAEA,MAAA2X,EAAA5Z,EAAA1D,IAAA2P,IACA,MAAA3P,EAAA,GACA,QAAAyB,KAAAkO,EAAAjM,KACA1D,EAAA2P,EAAAhK,OAAAlE,IAAAkO,EAAAjM,KAAAjC,GAEA,OACA8b,MAAA5N,EAAAtK,MACA3B,KAAA1D,KAIA0c,EAAA,KAAAD,aAAA5C,EAAAoD,YACA,KAAAnZ,MAAA,CACAuB,MAAA,eAAAqX,IACA/W,SACA2X,WAEA,EACAvZ,UAAAA,GACA,KAAAD,MAAA,IACA,EAEA,gBAAA+W,CAAAzL,EAAA/J,EAAA,WACA,MAAAmY,EAAA,IAAArO,EAAAC,GACAqO,EAAA,CACAC,OAAAF,EAAAlO,OAAA,IAEAF,EAAAuO,UACAF,EAAAG,KAAAxO,EAAAuO,UAGAF,EAAA5e,IAAAuQ,EAAAyO,SAGA,MAAA3S,EAAA,IAAA4S,EAAAA,EAAA,CACAC,aAAA,EACAC,WAAA,EACAC,aAAA7O,EAAA6O,aACAC,QAAA,CAAAT,KAGAra,EAAA,IAAA2I,EAAAA,EAAA,CACAtJ,GAAA2M,EAAAyO,SACAxY,QACA6F,OAAAA,EACAkB,UAAA,eAAA/C,UACA8U,UAAA,OAEAX,EAAApa,MAAAA,EACAA,EAAAgH,IAAA,UAAAoT,GACApa,EAAAgb,KAAA,gBAAAZ,EAAA1N,YACA1M,EAAA9B,GAAA,0BAAAwY,gBACA,KAAAhM,cAAA1K,GAEA,IAAA8W,EAAA9K,EAAAiP,YAKA,OAJAnE,GACA,KAAAla,IAAAqa,UAAAC,IAAAJ,EAAA,KAAAK,cAAA,KAGAnX,CACA,EAEA,aAAAT,CAAA2b,GACA,GAAAA,EAAA3e,OAAA,IAAAsJ,EAAAA,EAAAsV,eAAAD,GACA,OAGA,MAAAE,EAAAF,EAAAte,IAAA,gBACA8E,EAAAyU,SAAA,KAAAC,YACA1U,aAAAoU,EAAAA,QACA,KAAA2B,WAAA/V,EAAAA,EAAAO,OAEAP,aAAAsU,EAAAA,GAAAtU,EAAAqU,gBACA,KAAAsB,WAAA3V,GAAA,EAAAA,EAAAO,YAGA4D,EAAAA,EAAAC,MAAA,SAAAwI,MAAA,4BAAA5M,EAAA2Z,mCAGAC,QAAAC,IAAAH,EACA,EAEA1E,YAAAA,GACA,MAAAxQ,EAAA,KAAAtJ,IAAA+N,YAAA6Q,WACAhf,OAAAwD,GAAAA,EAAAG,IAAA,YAAAH,EAAAyK,cACA,OAAAvE,EAAA3J,OAAA,CACA,QAAAmZ,OAAAxP,EAAAuV,MAAA,CAAAnV,EAAAjI,IAAAiI,IAAA,KAAAoP,MAAAxP,OAAA7H,IACA,OAEA,MAAAqd,EAAA,CACAxV,OAAAA,EAAA,GACAqJ,YAAArJ,EAAA,IAEAyV,EAAA,IAAAC,GAAAF,GACA,KAAAhG,MAAA,CAAAiG,UAAAzV,UACA,KAAAtJ,IAAAgC,WAAA+c,EACA,MACA,IAAAzV,EAAA3J,QAAA,KAAAmZ,QACA,KAAA9Y,IAAAgO,cAAA,KAAA8K,MAAAiG,SACA,KAAAjG,MAAA,KAEA,EAEAnV,kBAAAA,CAAAX,EAAAS,EAAAC,GACA,OAAAD,GACA,eACAT,EAAAmC,SAAAzB,EACA,KAAAub,WAAA,WAAAvb,GACA,MAEAV,EAAA8M,UACA,IChaiQ,MCSjQ,IAAI,IAAY,OACd,GACA7N,EACAC,GACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,O,mCCpBhC,IAAID,EAAS,WAAkB,IAAIG,EAAIrD,KAAKsD,EAAGD,EAAIE,MAAMD,GAAG,OAAQD,EAAI8c,MAAMvf,OAAS,EAAG0C,EAAG,MAAM,CAACE,YAAY,mCAAmCxC,MAAM,CAACof,QAAS/c,EAAI8c,MAAMvf,OAAS,GAAG2B,GAAG,CAAC,MAAQc,EAAIgd,SAAS,CAAChd,EAAIyB,GAAGzB,EAAImD,GAAGnD,EAAIid,YAAYjd,EAAIc,IACrP,EACIhB,EAAkB,G,WCKtB,SACA5B,KAAA,cACAiE,OAAA,CACAC,EAAAA,GAEAd,IAAAA,GACA,OACAjC,EAAA,EAEA,EACAmG,SAAA,CACAsX,KAAAA,GACA,OAAApZ,MAAAiB,QAAA,KAAAgW,MACA,KAAAA,KAEA,uBAAAA,MAAA,KAAAA,KAAApd,OAAA,EACA,MAAAod,MAEA,EACA,EACAsC,OAAAA,GACA,gBAAAH,MAAAvf,OACA,GAGA,KAAAuf,MAAA,KAAAzd,EAAA,KAAAsb,KAAApd,OAEA,GAEA8H,MAAA,CACAsV,KAAA,CACAtZ,KAAA,CACAiE,OACA5B,OAEA6B,QAAA,KAGAhH,QAAA,CACAye,MAAAA,GACA,KAAA3d,GACA,IChDmQ,I,eCQ/PU,GAAY,OACd,EACAF,EACAC,GACA,EACA,KACA,WACA,MAIF,QAAeC,EAAiB,O","sources":["webpack://@openeo/web-editor/./src/components/maps/osmgeocoder.js","webpack://@openeo/web-editor/src/components/maps/GeocoderMixin.vue","webpack://@openeo/web-editor/./src/components/maps/GeocoderMixin.vue?9845","webpack://@openeo/web-editor/./src/components/maps/GeocoderMixin.vue","webpack://@openeo/web-editor/./src/components/viewer/MapViewer.vue","webpack://@openeo/web-editor/./src/components/maps/AddDataControl.vue","webpack://@openeo/web-editor/src/components/maps/AddDataControl.vue","webpack://@openeo/web-editor/./src/components/maps/AddDataControl.vue?91fa","webpack://@openeo/web-editor/./src/components/maps/AddDataControl.vue?3c55","webpack://@openeo/web-editor/./src/components/maps/ChannelControl.vue","webpack://@openeo/web-editor/src/components/maps/ChannelControl.vue","webpack://@openeo/web-editor/./src/components/maps/ChannelControl.vue?bc38","webpack://@openeo/web-editor/./src/components/maps/ChannelControl.vue?9e5e","webpack://@openeo/web-editor/src/components/maps/WebServiceMixin.vue","webpack://@openeo/web-editor/./src/components/maps/WebServiceMixin.vue?c34d","webpack://@openeo/web-editor/./src/components/maps/WebServiceMixin.vue","webpack://@openeo/web-editor/./src/components/maps/geotiff/state.js","webpack://@openeo/web-editor/./src/components/maps/geotiff/fix.js","webpack://@openeo/web-editor/./src/components/maps/Swipe.js","webpack://@openeo/web-editor/src/components/viewer/MapViewer.vue","webpack://@openeo/web-editor/./src/components/viewer/MapViewer.vue?dbd2","webpack://@openeo/web-editor/./src/components/viewer/MapViewer.vue?e73e","webpack://@openeo/web-editor/./src/components/maps/TextControl.vue","webpack://@openeo/web-editor/src/components/maps/TextControl.vue","webpack://@openeo/web-editor/./src/components/maps/TextControl.vue?1df8","webpack://@openeo/web-editor/./src/components/maps/TextControl.vue?c848"],"sourcesContent":["export default class OSMGeocoder {\n\tconstructor(url, geojson = false) {\n\t\tthis.url = url;\n\t\tthis.geojson = geojson;\n\t}\n\n\tgetParameters(opt) {\n\t\treturn {\n\t\t\turl: this.url,\n\t\t\tparams: {\n\t\t\t\tq: opt.query,\n\t\t\t\tformat: 'json',\n\t\t\t\tlimit: 10,\n\t\t\t\t'accept-language': 'en',\n\t\t\t\tpolygon_geojson: this.geojson ? 1 : 0,\n\t\t\t\tpolygon_threshold: 0.001,\n\t\t\t},\n\t\t};\n\t}\n\n\thandleResponse(results) {\n\t\tif (results.length === 0) {\n\t\t\treturn [];\n\t\t}\n\t\treturn results\n\t\t\t.filter(result => [\"boundary\", \"geological\", \"leisure\", \"natural\", \"place\", \"water\", \"waterway\"].includes(result.class))\n\t\t\t.map(result => ({\n\t\t\t\tlon: result.lon,\n\t\t\t\tlat: result.lat,\n\t\t\t\tbbox: result.boundingbox,\n\t\t\t\taddress: {\n\t\t\t\t\tname: result.display_name\n\t\t\t\t},\n\t\t\t\toriginal: {\n\t\t\t\t\tformatted: result.display_name,\n\t\t\t\t\tdetails: result.address,\n\t\t\t\t\tgeojson: result.geojson\n\t\t\t\t}\n\t\t\t}));\n\t}\n}","<script>\nimport Geocoder from '@kirtandesai/ol-geocoder';\nimport OSMGeocoder from './osmgeocoder';\n\nexport default {\n\tmethods: {\n\t\taddGeocoder(callback, geojson = false) {\n\t\t\tif (!this.$config.geocoder) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst options = {\n\t\t\t\tprovider: new OSMGeocoder(this.$config.geocoder, geojson),\n\t\t\t\tplaceholder: 'Search for ...',\n\t\t\t\tkeepOpen: true,\n\t\t\t\tpreventDefault: true\n\t\t\t};\n\t\t\tconst geocoder = new Geocoder('nominatim', options);\n\t\t\tgeocoder.on('addresschosen', event => {\n\t\t\t\tif (geojson) {\n\t\t\t\t\tcallback(event.place?.original?.geojson, event);\n\t\t\t\t}\n\t\t\t\telse if (event.place.bbox) {\n\t\t\t\t\tlet bbox = event.place.bbox.map(i => parseFloat(i));\n\t\t\t\t\tlet bboxOpenEO = {\n\t\t\t\t\t\twest: bbox[2],\n\t\t\t\t\t\teast: bbox[3],\n\t\t\t\t\t\tnorth: bbox[1],\n\t\t\t\t\t\tsouth: bbox[0]\n\t\t\t\t\t}\n\t\t\t\t\tcallback(bboxOpenEO, event);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallback(null, event);\t\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.map.addControl(geocoder);\n\t\t}\n\t}\n}\n</script>\n\n<style src=\"@kirtandesai/ol-geocoder/dist/ol-geocoder.min.css\"></style>\n\n<style lang=\"scss\">\n.ol-geocoder.gcd-gl-container {\n\tz-index: 0;\n\tleft: calc(0.5em - 1px) !important;\n\ttop: calc(6.125em + 8px) !important;\n\n\t.ol-control {\n\t\tbackground-color: transparent;\n\t}\n\t\n\tul.gcd-gl-result > li:nth-child(odd) {\n\t\tbackground-color: #f9f9f9;\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GeocoderMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GeocoderMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./GeocoderMixin.vue?vue&type=script&lang=js\"\nexport * from \"./GeocoderMixin.vue?vue&type=script&lang=js\"\nimport style0 from \"@kirtandesai/ol-geocoder/dist/ol-geocoder.min.css?vue&type=style&index=0&prod&lang=css&external\"\nimport style1 from \"./GeocoderMixin.vue?vue&type=style&index=1&id=643f6883&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Splitpanes',{staticClass:\"default-theme\",attrs:{\"horizontal\":\"\"}},[_c('Pane',{attrs:{\"id\":\"map\"}},[_c('div',{staticClass:\"map-viewer\",attrs:{\"id\":_vm.id}},[_c('ProgressControl',{ref:\"progress\",attrs:{\"map\":_vm.map}}),_c('UserLocationControl',{attrs:{\"map\":_vm.map}}),_c('AddDataControl',{attrs:{\"map\":_vm.map},on:{\"add\":_vm.addData}}),(_vm.isGeoTiff)?[_c('TextControl',{attrs:{\"text\":_vm.textControlText}}),_c('div',{staticClass:\"ol-unselectable ol-control geotiff-channels\"},[_vm._l((_vm.geotiffs),function(state){return [(!state.colorMap)?_c('ChannelControl',{key:state.layer.id,attrs:{\"bands\":state.bands,\"defaultChannels\":state.defaultChannels,\"title\":_vm.geotiffs.length > 1 ? state.layer.get('title') : ''},on:{\"update\":(type, data) => _vm.updateGeoTiffStyle(state, type, data)}}):_vm._e()]})],2)]:_vm._e(),(_vm.loading)?_c('div',{staticClass:\"map-loading\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin\"}),_c('span',[_vm._v(\"Loading map...\")])]):_vm._e()],2)]),(_vm.chart)?_c('Pane',{attrs:{\"id\":\"chart\",\"size\":33}},[_c('span',{staticClass:\"close\",on:{\"click\":_vm.closeChart}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})]),_c('ScatterChart',_vm._b({attrs:{\"height\":220}},'ScatterChart',_vm.chart,false))],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ol-add-data ol-unselectable ol-control\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"Add external data source\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.openModal.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-image\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"ol-add-data ol-unselectable ol-control\" style=\"pointer-events: auto;\">\n\t\t<button type=\"button\" @click.prevent.stop=\"openModal\" title=\"Add external data source\">\n\t\t\t<i class=\"fas fa-image\"></i>\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin';\nimport EventBusMixin from '../EventBusMixin';\n\nexport default {\n\tname: 'AddDataControl',\n\tmixins: [\n\t\tControlMixin,\n\t\tEventBusMixin\n\t],\n\tmethods: {\n\t\topenModal() {\n\t\t\tlet events = {\n\t\t\t\tsave: this.addLayer\n\t\t\t};\n\t\t\tthis.broadcast('showModal', 'AddMapDataModal', {}, events);\n\t\t},\n\t\taddLayer(file) {\n\t\t\tthis.$emit('add', file);\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ol-add-data {\n\tz-index: 0;\n\tright: 0.5em;\n\ttop: 4.875em\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddDataControl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddDataControl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddDataControl.vue?vue&type=template&id=046026ef&scoped=true\"\nimport script from \"./AddDataControl.vue?vue&type=script&lang=js\"\nexport * from \"./AddDataControl.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddDataControl.vue?vue&type=style&index=0&id=046026ef&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046026ef\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.channels.length > 0),expression:\"channels.length > 0\"}],staticClass:\"channels\"},[_c('table',[_c('thead',[(_vm.title)?_c('tr',[_c('th',{attrs:{\"colspan\":_vm.cols}},[_vm._v(_vm._s(_vm.title))])]):_vm._e(),_c('tr',[(!_vm.isGray)?_c('th',[_vm._v(\"Channel\")]):_vm._e(),(_vm.multiBand)?_c('th',[_vm._v(\"Band\")]):_vm._e(),_c('th',[_vm._v(\"Min\")]),_c('th',[_vm._v(\"Max\")])])]),_c('tbody',_vm._l((_vm.channels),function(channel,i){return _c('tr',{key:i},[(!_vm.isGray)?_c('th',[_vm._v(_vm._s(_vm.labels[i]))]):_vm._e(),(_vm.multiBand)?_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(channel.id),expression:\"channel.id\",modifiers:{\"number\":true}}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return _vm._n(val)}); _vm.$set(channel, \"id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.bands),function(band){return _c('option',{key:band.id,domProps:{\"value\":band.id}},[_vm._v(_vm._s(band.name || band.id))])}),0)]):_vm._e(),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(channel.min),expression:\"channel.min\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"required\":\"\"},domProps:{\"value\":(channel.min)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(channel, \"min\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(channel.max),expression:\"channel.max\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"required\":\"\"},domProps:{\"value\":(channel.max)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(channel, \"max\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])])}),0),(_vm.multiBand)?_c('tfoot',[_c('tr',[_c('td',{attrs:{\"colspan\":_vm.cols}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isGray),expression:\"isGray\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isGray)?_vm._i(_vm.isGray,null)>-1:(_vm.isGray)},on:{\"change\":function($event){var $$a=_vm.isGray,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isGray=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isGray=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isGray=$$c}}}}),_vm._v(\" Grayscale \")])])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-show=\"channels.length > 0\" class=\"channels\">\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr v-if=\"title\">\n\t\t\t\t\t<th :colspan=\"cols\">{{ title }}</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<th v-if=\"!isGray\">Channel</th>\n\t\t\t\t\t<th v-if=\"multiBand\">Band</th>\n\t\t\t\t\t<th>Min</th>\n\t\t\t\t\t<th>Max</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr v-for=\"(channel, i) in channels\" :key=\"i\">\n\t\t\t\t\t<th v-if=\"!isGray\">{{ labels[i] }}</th>\n\t\t\t\t\t<td v-if=\"multiBand\">\n\t\t\t\t\t\t<select v-model.number=\"channel.id\">\n\t\t\t\t\t\t\t<option v-for=\"band in bands\" :key=\"band.id\" :value=\"band.id\">{{ band.name || band.id }}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td><input type=\"number\" v-model.number=\"channel.min\" required /></td>\n\t\t\t\t\t<td><input type=\"number\" v-model.number=\"channel.max\" required /></td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t\t<tfoot v-if=\"multiBand\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td :colspan=\"cols\">\n\t\t\t\t\t\t<input type=\"checkbox\" v-model=\"isGray\" /> Grayscale\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tfoot>\n\t\t</table>\n\t</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin';\n\nexport default {\n\tname: 'ChannelControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tbands: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t\tdefaultChannels: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t}\n\t},\n\tcomputed: {\n\t\tmultiBand() {\n\t\t\treturn this.bands.length > 1;\n\t\t},\n\t\tcols() {\n\t\t\tif (this.isGray) {\n\t\t\t\treturn this.multiBand ? 3 : 2;\n\t\t\t}\n\t\t\treturn 4;\n\t\t},\n\t\tlabels() {\n\t\t\treturn this.isGray ? ['Grayscale'] : ['Red', 'Green', 'Blue'];\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tchannels: this.defaultChannels,\n\t\t\tisGray: this.defaultChannels.length === 1 || this.bands.length === 1\n\t\t}\n\t},\n\tmounted() {\n\t\t//this.emit();\n\t},\n\twatch: {\n\t\tbands: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tif (this.bands.length === 1) {\n\t\t\t\t\tthis.isGray = true;\n\t\t\t\t}\n\t\t\t\tthis.updateChannels();\n\t\t\t}\n\t\t},\n\t\tisGray() {\n\t\t\tthis.updateChannels();\n\t\t\tthis.emit();\n\t\t},\n\t\tchannels: {\n\t\t\tdeep: true,\n\t\t\thandler() {\n\t\t\t\tthis.emit();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tisValid(value) {\n\t\t\treturn (typeof value === 'number');\n\t\t},\n\t\tupdateChannels() {\n\t\t\tif (this.defaultChannels.length > 0) {\n\t\t\t\tthis.channels = this.defaultChannels;\n\t\t\t\tif (this.defaultChannels.length === 1) {\n\t\t\t\t\tthis.isGray = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.channels = this.bands\n\t\t\t\t\t.slice(0, this.isGray ? 1 : 3)\n\t\t\t\t\t.map(band => Object.assign({}, band));\n\t\t\t}\n\t\t\t// If only two channels are available, add a third one so that we have enough for RGB\n\t\t\t// If we only have one channel it is grayscale\n\t\t\tif (this.channels.length === 2) {\n\t\t\t\tthis.channels.push(Object.assign({}, this.channels[1]));\n\t\t\t}\n\t\t},\n\t\temit() {\n\t\t\tif (this.channels.filter(c => this.isValid(c.min) && this.isValid(c.max)).length > 0) {\n\t\t\t\tthis.$emit('update', 'channels', this.channels);\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.channels {\n\tinput {\n\t\tmax-width: 4em;\n\t}\n\tselect {\n\t\tmax-width: 10em;\n\t}\n\ttable {\n\t\tth {\n\t\t\tfont-weight: 600;\n\t\t\tfont-family: monospace;\n\t\t}\n\t\tth, td {\n\t\t\tpadding: 2px;\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChannelControl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChannelControl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChannelControl.vue?vue&type=template&id=5223a7ca&scoped=true\"\nimport script from \"./ChannelControl.vue?vue&type=script&lang=js\"\nexport * from \"./ChannelControl.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChannelControl.vue?vue&type=style&index=0&id=5223a7ca&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5223a7ca\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport Utils from '../../utils.js';\n\nimport Collection from 'ol/Collection';\nimport LayerGroup from 'ol/layer/Group';\nimport TileLayer from 'ol/layer/Tile';\nimport XYZ from 'ol/source/XYZ';\nimport WMTSCapabilities from 'ol/format/WMTSCapabilities';\nimport WMTS, {optionsFromCapabilities} from 'ol/source/WMTS';\n\nimport 'ol-ext/control/Timeline.css';\nimport Timeline from 'ol-ext/control/Timeline';\n\nimport ExtentMixin from './ExtentMixin.vue';\n\nexport default {\n\tmixins: [ExtentMixin],\n\tdata() {\n\t\treturn {\n\t\t\tWMTSCapabilities: {},\n\t\t\ttimeline: null,\n\t\t}\n\t},\n\tmethods: {\n\t\tasync addWebService(service) {\n\t\t\tswitch(service.type.toLowerCase()) {\n\t\t\t\tcase 'xyz':\n\t\t\t\t\treturn this.updateXYZLayer(service);\n\t\t\t\tcase 'wmts':\n\t\t\t\t\treturn await this.updateWMTSLayer(service);\n\t\t\t\tdefault:\n\t\t\t\t\tUtils.error(this, 'Sorry, this web service type is not supported.');\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\tgetWMTSTimes(capabilities, layerId) {\n\t\t\tconst layers = capabilities.Contents.Layer || [];\n\t\t\tlet layer = layers.find(l => l.Identifier == layerId);\n\t\t\tif (!layer || !layer.Dimension) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tlet timeDimension = layer.Dimension.find(d => d.Identifier === 'TIME');\n\t\t\tif (!timeDimension) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn timeDimension.Value.sort();\n\t\t},\n\n\t\tasync initWMTSLayer(service) {\n\t\t\tif (!this.WMTSCapabilities[service.url]) {\n\t\t\t\ttry {\n\t\t\t\t\tlet url = new URL(service.url);\n\t\t\t\t\turl.searchParams.set('service', 'wmts');\n\t\t\t\t\turl.searchParams.set('request', 'GetCapabilities');\n\t\t\t\t\tlet response = await Utils.axios().get(url.toString(), { responseType: 'text' });\n\t\t\t\t\tvar parser = new WMTSCapabilities();\n\t\t\t\t\tthis.WMTSCapabilities[service.url] = parser.read(response.data);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUtils.exception(this, error, \"WMTS Discovery failed\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.WMTSCapabilities[service.url];\n\t\t},\n\n\t\tasync updateWMTSLayer(service, prefix = \"Service\") {\n\t\t\tlet attrs = service.attributes || {};\n\n\t\t\tlet capabilities = await this.initWMTSLayer(service);\n\t\t\tif (!capabilities) {\n\t\t\t\tUtils.exception(this, error, \"WMTS Discovery failed\");\n\t\t\t}\n\n\t\t\tlet minDate = null;\n\t\t\tlet maxDate = null;\n\t\t\tlet defaultDate = null;\n\t\t\tlet source = null;\n\t\t\tlet title = Utils.getResourceTitle(service, prefix);\n\t\t\tlet layerCollection = new Collection();\n\t\t\tlet layerNames;\n\t\t\tif (Array.isArray(attrs.layers)) {\n\t\t\t\tlayerNames = attrs.layers;\n\t\t\t}\n\t\t\telse if (Array.isArray(capabilities.Contents.Layer)) {\n\t\t\t\tlayerNames = layers.map(l => l.Identifier);\n\t\t\t}\n\t\t\tfor(let layer of layerNames) {\n\t\t\t\tif (!layer) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet options = optionsFromCapabilities(capabilities, {\n\t\t\t\t\tlayer,\n\t\t\t\t\tmatrixSet: 'EPSG:3857'\n\t\t\t\t});\n\t\t\t\tif (!defaultDate) {\n\t\t\t\t\tdefaultDate = new Date(options.dimensions.TIME);\n\t\t\t\t}\n\n\t\t\t\tlet times = this.getWMTSTimes(capabilities, layer);\n\t\t\t\tif (times.length) {\n\t\t\t\t\tlet min = new Date(times[0]);\n\t\t\t\t\tlet max = new Date(times[times.length -1]);\n\t\t\t\t\tif (!minDate || min < minDate) {\n\t\t\t\t\t\tminDate = min;\n\t\t\t\t\t}\n\t\t\t\t\tif (!maxDate || max > maxDate) {\n\t\t\t\t\t\tmaxDate = max;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (Utils.isObject(attrs.dimensions)) {\n\t\t\t\t\tObject.assign(options.dimensions, service.attributes.dimensions);\n\t\t\t\t}\n\t\t\t\tsource = new WMTS(options);\n\t\t\t\tvar mapLayer = new TileLayer({\n\t\t\t\t\ttitle,\n\t\t\t\t\tsource: this.trackTileProgress(source),\n\t\t\t\t\tnoSwitcherDelete: true\n\t\t\t\t});\n\t\t\t\tlayerCollection.push(mapLayer);\n\t\t\t}\n\n\t\t\tif (minDate && maxDate) {\n\t\t\t\tthis.timeline = new Timeline({\n\t\t\t\t\tclassName: 'ol-pointer',\n\t\t\t\t\tgraduation: 'day',\n\t\t\t\t\tminDate: minDate,\n\t\t\t\t\tmaxDate: maxDate\n\t\t\t\t});\n\t\t\t\tlet run;\n\t\t\t\tthis.timeline.on('scroll', function(e) {\n\t\t\t\t\tif (!e.date || e.date > maxDate || e.date < minDate) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (run) {\n\t\t\t\t\t\twindow.clearTimeout(run);\n\t\t\t\t\t}\n\t\t\t\t\trun = window.setTimeout(() => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet date = e.date.toISOString().substr(0, 10);\n\t\t\t\t\t\t\tsource.updateDimensions({\n\t\t\t\t\t\t\t\tTIME: date\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet btns = document.getElementsByClassName('timeline-date-label');\n\t\t\t\t\t\t\tbtns[0].innerText = date;\n\t\t\t\t\t\t\tbtns[0].disabled = true;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trun = null;\n\t\t\t\t\t}, 500);\n\t\t\t\t});\n\t\t\t\tthis.map.addControl(this.timeline);\n\n\t\t\t\tthis.timeline.addButton({\n\t\t\t\t\tclassName: 'timeline-date-label',\n\t\t\t\t\ttitle: `The date that is shown on the map for the collection '${title}'`,\n\t\t\t\t\thtml: 'No date'\n\t\t\t\t});\n\t\t\t\tthis.timeline.setDate(defaultDate);\n\t\t\t}\n\n\t\t\tlet group = new LayerGroup({\n\t\t\t\tid: service.id,\n\t\t\t\ttitle,\n\t\t\t\tlayers: layerCollection\n\t\t\t});\n\t\t\tgroup.on('change:visible',  () => {\n\t\t\t\tif (this.timeline && this.timeline.element) {\n\t\t\t\t\t// Remove time selector on Map if not required any more https://github.com/Open-EO/openeo-web-editor/issues/207\n\t\t\t\t\tthis.timeline.element.style.display = group.getVisible() ? 'block' : 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.addLayerToMap(group);\n\n\t\t\tif (this.timeline) {\n\t\t\t\tthis.map.getLayers().on('remove', event => {\n\t\t\t\t\tif (event.element === group) {\n\t\t\t\t\t\tthis.map.removeControl(this.timeline);\n\t\t\t\t\t\tthis.timeline = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn group;\n\t\t},\n\n\t\tupdateXYZLayer(service, prefix = \"Service\") {\n\t\t\t// Replace/add a query parameter with a unique ID so that OpenLayers doesn't load tiles from cache\n\t\t\tlet url = Utils.replaceParam(service.url, '__editorSessionId', new Date().getTime()).replace(/%7B/g, '{').replace(/%7D/g, '}');\n\t\t\tlet title = Utils.getResourceTitle(service, prefix);\n\t\t\tlet layer = new TileLayer({\n\t\t\t\ttitle,\n\t\t\t\tsource: this.trackTileProgress(new XYZ({\n\t\t\t\t\turl\n\t\t\t\t})),\n\t\t\t\tnoSwitcherDelete: true\n\t\t\t});\n\t\t\tlet group = new LayerGroup({\n\t\t\t\tid: service.id,\n\t\t\t\ttitle,\n\t\t\t\tlayers: [\n\t\t\t\t\tlayer\n\t\t\t\t]\n\t\t\t});\n\t\t\tthis.addLayerToMap(group);\n\n\t\t\t// Try to detect a bounding box and fit the view to it\n\t\t\tif (Utils.isObject(service.process) && Utils.isObject(service.process.process_graph)) {\n\t\t\t\tconst crs84 = \"urn:ogc:def:crs:OGC:1.3:CRS84\";\n\t\t\t\tconst e4326 = \"EPSG:4326\";\n\t\t\t\tObject.values(service.process.process_graph)\n\t\t\t\t\t.filter(node => node.process_id === 'load_collection' && Utils.isObject(node.arguments) && node.arguments.spatial_extent)\n\t\t\t\t\t.forEach(node => {\n\t\t\t\t\t\tlet e = node.arguments.spatial_extent;\n\t\t\t\t\t\tlet isBBox = (e.west || e.east || e.south || e.north) && (!e.crs || e.crs === 4326 || e.crs === e4326);\n\t\t\t\t\t\tlet isGeoJSON = e.type && (!e.crs || (Utils.isObject(e.crs) && e.crs.type === \"name\" && (e.crs.properties?.name === e4326 || e.properties?.name === crs84)));\n\t\t\t\t\t\tif (isBBox || isGeoJSON) {\n\t\t\t\t\t\t\tthis.addExtent(e, false);\n\t\t\t\t\t\t\t// ToDo: This should be combined into just a single call to addExtent to fit the view to the full extents\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn group;\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WebServiceMixin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WebServiceMixin.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./WebServiceMixin.vue?vue&type=script&lang=js\"\nexport * from \"./WebServiceMixin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default class GeoTiffState {\n\n\tconstructor(geotiff) {\n\t\tthis.layer = null;\n\t\tthis.colorMap = geotiff.getColorMap();\n\t\tthis.noData = geotiff.getNoData();\n\t\tthis.bands = geotiff.getBands();\n\t\tthis.defaultChannels = this.bands.slice(0, 3);\n\t\tthis.channels = this.bands.slice(0, 3);\n    this.file = geotiff;\n\t}\n\n\tgetBandVar(i) {\n\t\treturn ['band', ['var', `${i}band`]];\n\t}\n\n\tgetFormula(i) {\n\t\tlet min = ['var', `${i}min`];\n\t\tlet max = ['var', `${i}max`];\n\t\tlet x = this.getBandVar(i);\n\t\tlet scale = ['*', ['/', ['-', x, min], ['-', max, min]], 255]; // Linear scaling from min - max to 0 - 255\n\t\treturn ['clamp', scale, 0, 255]; // clamp values in case we get cales < 0 or > 255\n\t}\n\n\tgetNoDataFormula() {\n\t\tlet band = this.getBandVar('alpha');\n\t\t// https://github.com/openlayers/openlayers/issues/13588#issuecomment-1125317573\n\t\t// return ['clamp', band, 0, 1];\n\t\t// return ['/', band, 255];\n\t\treturn ['case', ['==', band, 0], 0, 1];\n\t}\n\n\tsetStyle() {\n\t\tif (!this.layer) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Compute variables\n\t\tlet variables = {};\n\t\tfor(let i in this.channels) {\n\t\t\tlet channel = this.channels[i];\n\t\t\tvariables[`${i}band`] = channel.id;\n\t\t\tvariables[`${i}min`] = channel.min;\n\t\t\tvariables[`${i}max`] = channel.max;\n\t\t}\n\t\tvariables.alphaband = this.bands.length + 1;\n\n\t\t// Create style\n\t\tlet color = [];\n\t\tif (this.colorMap) {\n\t\t\tcolor.push('palette');\n\t\t\tcolor.push(['band', 1]);\n\t\t\tcolor.push(this.colorMap);\n\t\t}\n\t\telse if (this.channels.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\telse if (this.channels.length === 1) {\n\t\t\tcolor.push('color');\n\t\t\tlet formula = this.getFormula(0);\n\t\t\tcolor.push(formula);\n\t\t\tcolor.push(formula);\n\t\t\tcolor.push(formula);\n\t\t\tif (this.noData.length > 0) {\n\t\t\t\tcolor.push(this.getNoDataFormula());\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcolor.push('color');\n\t\t\tcolor.push(this.getFormula(0));\n\t\t\tcolor.push(this.getFormula(1));\n\t\t\tcolor.push(this.getFormula(2));\n\t\t\tif (this.noData.length > 0) {\n\t\t\t\tcolor.push(this.getNoDataFormula());\n\t\t\t}\n\t\t}\n\n\t\t// Set style\n\t\tthis.layer.setStyle({variables, color});\n\t}\n\n}\n","import { GeoTIFFImage } from 'geotiff';\n\n// Integrate changes/fixes from https://github.com/geotiffjs/geotiff.js/pull/303 until released/integrated by geotiff.js\nGeoTIFFImage.prototype.getSampleByteSize = function(i) {\n  if (!this.fileDirectory.BitsPerSample || this.fileDirectory.BitsPerSample.length === 0) {\n    return;\n  }\n  if (i >= this.fileDirectory.BitsPerSample.length) {\n    i = 0;\n  }\n  return Math.ceil(this.fileDirectory.BitsPerSample[i] / 8);\n};\n\nGeoTIFFImage.prototype.getReaderForSample = function(sampleIndex) {\n  const format = this.getSampleFormat(sampleIndex);\n  const bitsPerSample = this.getBitsPerSample(sampleIndex);\n  switch (format) {\n    case 1: // unsigned integer data\n      if (bitsPerSample <= 8) {\n        return DataView.prototype.getUint8;\n      } else if (bitsPerSample <= 16) {\n        return DataView.prototype.getUint16;\n      } else if (bitsPerSample <= 32) {\n        return DataView.prototype.getUint32;\n      }\n      break;\n    case 2: // twos complement signed integer data\n      if (bitsPerSample <= 8) {\n        return DataView.prototype.getInt8;\n      } else if (bitsPerSample <= 16) {\n        return DataView.prototype.getInt16;\n      } else if (bitsPerSample <= 32) {\n        return DataView.prototype.getInt32;\n      }\n      break;\n    case 3:\n      switch (bitsPerSample) {\n        case 16:\n          return function (offset, littleEndian) {\n            return getFloat16(this, offset, littleEndian);\n          };\n        case 32:\n          return DataView.prototype.getFloat32;\n        case 64:\n          return DataView.prototype.getFloat64;\n        default:\n          break;\n      }\n      break;\n    default:\n      break;\n  }\n  throw Error('Unsupported data format/bitsPerSample');\n};\n\nGeoTIFFImage.prototype.getSampleFormat = function(sampleIndex = 0) {\n  if (!this.fileDirectory.SampleFormat || this.fileDirectory.SampleFormat.length === 0) {\n    return 1;\n  }\n  return typeof this.fileDirectory.SampleFormat[sampleIndex] !== 'undefined'\n    ? this.fileDirectory.SampleFormat[sampleIndex] : this.fileDirectory.SampleFormat[0];\n};\n\nGeoTIFFImage.prototype.getBitsPerSample = function(sampleIndex = 0) {\n  if (!this.fileDirectory.BitsPerSample || this.fileDirectory.BitsPerSample.length === 0) {\n    return;\n  }\n  return typeof this.fileDirectory.BitsPerSample[sampleIndex] !== 'undefined'\n    ? this.fileDirectory.BitsPerSample[sampleIndex] : this.fileDirectory.BitsPerSample[0];\n};\n// End of geotiff.js fixes","// Use this separately until https://github.com/Viglino/ol-ext/pull/1087 is released\n/*\n  Copyright (c) 2015 Jean-Marc VIGLINO,\n  released under the CeCILL-B license (French BSD license)\n  (http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt).\n*/\n\nimport ol_control_Control from 'ol/control/Control.js'\n\n/**\n * @classdesc Swipe Control.\n * @fires moving\n * @constructor\n * @extends {ol_control_Control}\n * @param {Object=} Control options.\n *  @param {ol.layer|Array<ol.layer>} options.layers layers to swipe\n *  @param {ol.layer|Array<ol.layer>} options.rightLayers layers to swipe on right side\n *  @param {string} options.className control class name\n *  @param {number} options.position position property of the swipe [0,1], default 0.5\n *  @param {string} options.orientation orientation property (vertical|horizontal), default vertical\n */\nvar ol_control_Swipe = class olcontrolSwipe extends ol_control_Control {\n  constructor(options) {\n    options = options || {};\n\n    var element = document.createElement('div');\n    super({\n      element: element\n    });\n    \n    element.className = (options.className || 'ol-swipe') + ' ol-unselectable ol-control';\n    var button = document.createElement('button');\n    element.appendChild(button);\n\n    element.addEventListener('mousedown', this.move.bind(this));\n    element.addEventListener('touchstart', this.move.bind(this));\n\n    // An array of listener on layer postcompose\n    this.precomposeRight_ = this.precomposeRight.bind(this);\n    this.precomposeLeft_ = this.precomposeLeft.bind(this);\n    this.postcompose_ = this.postcompose.bind(this);\n\n    this.layers = [];\n    if (options.layers)\n      this.addLayer(options.layers, false);\n    if (options.rightLayers)\n      this.addLayer(options.rightLayers, true);\n\n    this.on('propertychange', function (e) {\n      if (this.getMap()) {\n        try { this.getMap().renderSync(); } catch (e) { /* ok */ }\n      }\n      if (this.get('orientation') === \"horizontal\") {\n        this.element.style.top = this.get('position') * 100 + \"%\";\n        this.element.style.left = \"\";\n      } else {\n        if (this.get('orientation') !== \"vertical\")\n          this.set('orientation', \"vertical\");\n        this.element.style.left = this.get('position') * 100 + \"%\";\n        this.element.style.top = \"\";\n      }\n      if (e.key === 'orientation') {\n        this.element.classList.remove(\"horizontal\", \"vertical\");\n        this.element.classList.add(this.get('orientation'));\n      }\n      // Force VectorImage to refresh\n      if (!this.isMoving) {\n        this.layers.forEach(function (l) {\n          if (l.layer.getImageRatio)\n            l.layer.changed();\n        });\n      }\n    }.bind(this));\n\n    this.set('position', options.position || 0.5);\n    this.set('orientation', options.orientation || 'vertical');\n  }\n  /**\n   * Set the map instance the control associated with.\n   * @param {_ol_Map_} map The map instance.\n   */\n  setMap(map) {\n    var i;\n    var l;\n\n    if (this.getMap()) {\n      for (i = 0; i < this.layers.length; i++) {\n        l = this.layers[i];\n        if (l.right)\n          l.layer.un(['precompose', 'prerender'], this.precomposeRight_);\n        else\n          l.layer.un(['precompose', 'prerender'], this.precomposeLeft_);\n        l.layer.un(['postcompose', 'postrender'], this.postcompose_);\n      }\n      try { this.getMap().renderSync(); } catch (e) { /* ok */ }\n    }\n\n    super.setMap(map);\n\n    if (map) {\n      this._listener = [];\n      for (i = 0; i < this.layers.length; i++) {\n        l = this.layers[i];\n        if (l.right)\n          l.layer.on(['precompose', 'prerender'], this.precomposeRight_);\n        else\n          l.layer.on(['precompose', 'prerender'], this.precomposeLeft_);\n        l.layer.on(['postcompose', 'postrender'], this.postcompose_);\n      }\n      try { map.renderSync(); } catch (e) { /* ok */ }\n    }\n  }\n  /** @private\n  */\n  isLayer_(layer) {\n    for (var k = 0; k < this.layers.length; k++) {\n      if (this.layers[k].layer === layer)\n        return k;\n    }\n    return -1;\n  }\n  /** Add a layer to clip\n   *\t@param {ol.layer|Array<ol.layer>} layer to clip\n   *\t@param {bool} add layer in the right part of the map, default left.\n   */\n  addLayer(layers, right) {\n    if (!(layers instanceof Array))\n      layers = [layers];\n    for (var i = 0; i < layers.length; i++) {\n      var l = layers[i];\n      if (this.isLayer_(l) < 0) {\n        this.layers.push({ layer: l, right: right });\n        if (this.getMap()) {\n          if (right)\n            l.on(['precompose', 'prerender'], this.precomposeRight_);\n          else\n            l.on(['precompose', 'prerender'], this.precomposeLeft_);\n          l.on(['postcompose', 'postrender'], this.postcompose_);\n          try { this.getMap().renderSync(); } catch (e) { /* ok */ }\n        }\n      }\n    }\n  }\n  /** Remove all layers\n   */\n  removeLayers() {\n    var layers = [];\n    this.layers.forEach(function (l) { layers.push(l.layer); });\n    this.removeLayer(layers);\n  }\n  /** Remove a layer to clip\n   *\t@param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  removeLayer(layers) {\n    if (!(layers instanceof Array))\n      layers = [layers];\n    for (var i = 0; i < layers.length; i++) {\n      var k = this.isLayer_(layers[i]);\n      if (k >= 0 && this.getMap()) {\n        if (this.layers[k].right)\n          layers[i].un(['precompose', 'prerender'], this.precomposeRight_);\n        else\n          layers[i].un(['precompose', 'prerender'], this.precomposeLeft_);\n        layers[i].un(['postcompose', 'postrender'], this.postcompose_);\n        this.layers.splice(k, 1);\n      }\n    }\n    if (this.getMap()) {\n      try { this.getMap().renderSync(); } catch (e) { /* ok */ }\n    }\n  }\n  /** Get visible rectangle\n   * @returns {ol.extent}\n   */\n  getRectangle() {\n    var s;\n    if (this.get('orientation') === 'vertical') {\n      s = this.getMap().getSize();\n      return [0, 0, s[0] * this.get('position'), s[1]];\n    } else {\n      s = this.getMap().getSize();\n      return [0, 0, s[0], s[1] * this.get('position')];\n    }\n  }\n  /** @private\n   */\n  move(e) {\n    var self = this;\n    var l;\n    if (!this._movefn)\n      this._movefn = this.move.bind(this);\n    switch (e.type) {\n      case 'touchcancel':\n      case 'touchend':\n      case 'mouseup': {\n        self.isMoving = false;\n        [\"mouseup\", \"mousemove\", \"touchend\", \"touchcancel\", \"touchmove\"]\n          .forEach(function (eventName) {\n            document.removeEventListener(eventName, self._movefn);\n          });\n        // Force VectorImage to refresh\n        this.layers.forEach(function (l) {\n          if (l.layer.getImageRatio)\n            l.layer.changed();\n        });\n        break;\n      }\n      case 'mousedown':\n      case 'touchstart': {\n        self.isMoving = true;\n        [\"mouseup\", \"mousemove\", \"touchend\", \"touchcancel\", \"touchmove\"]\n          .forEach(function (eventName) {\n            document.addEventListener(eventName, self._movefn);\n          });\n      }\n      // fallthrough\n      case 'mousemove':\n      case 'touchmove': {\n        if (self.isMoving) {\n          if (self.get('orientation') === 'vertical') {\n            var pageX = e.pageX\n              || (e.touches && e.touches.length && e.touches[0].pageX)\n              || (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageX);\n            if (!pageX)\n              break;\n            pageX -= self.getMap().getTargetElement().getBoundingClientRect().left +\n              window.pageXOffset - document.documentElement.clientLeft;\n\n            l = self.getMap().getSize()[0];\n            var w = l - Math.min(Math.max(0, l - pageX), l);\n            l = w / l;\n            self.set('position', l);\n            self.dispatchEvent({ type: 'moving', size: [w, self.getMap().getSize()[1]], position: [l, 0] });\n          } else {\n            var pageY = e.pageY\n              || (e.touches && e.touches.length && e.touches[0].pageY)\n              || (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageY);\n            if (!pageY)\n              break;\n            pageY -= self.getMap().getTargetElement().getBoundingClientRect().top +\n              window.pageYOffset - document.documentElement.clientTop;\n\n            l = self.getMap().getSize()[1];\n            var h = l - Math.min(Math.max(0, l - pageY), l);\n            l = h / l;\n            self.set('position', l);\n            self.dispatchEvent({ type: 'moving', size: [self.getMap().getSize()[0], h], position: [0, l] });\n          }\n        }\n        break;\n      }\n      default: break;\n    }\n  }\n  /** @private\n   */\n  _transformPt(e, pt) {\n    var tr = e.inversePixelTransform;\n    var x = pt[0];\n    var y = pt[1];\n    pt[0] = tr[0] * x + tr[2] * y + tr[4];\n    pt[1] = tr[1] * x + tr[3] * y + tr[5];\n    return pt;\n  }\n  /** @private\n   */\n  _drawRect(e, pts) {\n    var tr = e.inversePixelTransform;\n    if (tr) {\n      var r = [\n        [pts[0][0], pts[0][1]],\n        [pts[0][0], pts[1][1]],\n        [pts[1][0], pts[1][1]],\n        [pts[1][0], pts[0][1]],\n        [pts[0][0], pts[0][1]]\n      ];\n      e.context.save();\n      // Rotate VectorImages \n      if (e.target.getImageRatio) {\n        var rot = -Math.atan2(e.frameState.pixelToCoordinateTransform[1], e.frameState.pixelToCoordinateTransform[0]);\n        e.context.translate(e.frameState.size[0] / 2, e.frameState.size[1] / 2);\n        e.context.rotate(rot);\n        e.context.translate(-e.frameState.size[0] / 2, -e.frameState.size[1] / 2);\n      }\n      r.forEach(function (pt, i) {\n        pt = [\n          (pt[0] * tr[0] - pt[1] * tr[1] + tr[4]),\n          (-pt[0] * tr[2] + pt[1] * tr[3] + tr[5])\n        ];\n        if (!i) {\n          e.context.moveTo(pt[0], pt[1]);\n        } else {\n          e.context.lineTo(pt[0], pt[1]);\n        }\n      });\n      e.context.restore();\n    } else {\n      var ratio = e.frameState.pixelRatio;\n      e.context.rect(pts[0][0] * ratio, pts[0][1] * ratio, pts[1][0] * ratio, pts[1][1] * ratio);\n    }\n  }\n  /** @private\n  */\n  precomposeLeft(e) {\n    var ctx = e.context;\n    if (ctx instanceof WebGLRenderingContext) {\n      if (e.type === 'prerender') {\n        // Clear\n        if (this._lefttime != e.frameState.time) {\n          ctx.clearColor(0, 0, 0, 0);\n          ctx.clear(ctx.COLOR_BUFFER_BIT);\n          this._lefttime = e.frameState.time;\n        }\n\n        // Clip\n        ctx.enable(ctx.SCISSOR_TEST);\n\n        var mapSize = this.getMap().getSize(); // [width, height] in CSS pixels\n\n\n        // get render coordinates and dimensions given CSS coordinates\n        var bottomLeft = this._transformPt(e, [0, mapSize[1]]);\n        var topRight = this._transformPt(e, [mapSize[0], 0]);\n\n        var fullWidth = topRight[0] - bottomLeft[0];\n        var fullHeight = topRight[1] - bottomLeft[1];\n        var width, height;\n        if (this.get('orientation') === \"vertical\") {\n          width = Math.round(fullWidth * this.get('position'));\n          height = fullHeight;\n        } else {\n          width = fullWidth;\n          height = Math.round((fullHeight * this.get('position')));\n          bottomLeft[1] += fullHeight - height;\n        }\n        ctx.scissor(bottomLeft[0], bottomLeft[1], width, height);\n        ctx.clearColor(0, 0, 0, 0);\n        ctx.clear(ctx.COLOR_BUFFER_BIT);\n      }\n    } else {\n      var size = e.frameState.size;\n      ctx.save();\n      ctx.beginPath();\n      var pts = [[0, 0], [size[0], size[1]]];\n      if (this.get('orientation') === \"vertical\") {\n        pts[1] = [\n          size[0] * .5 + this.getMap().getSize()[0] * (this.get('position') - .5),\n          size[1]\n        ];\n      } else {\n        pts[1] = [\n          size[0],\n          size[1] * .5 + this.getMap().getSize()[1] * (this.get('position') - .5)\n        ];\n      }\n      this._drawRect(e, pts);\n      ctx.clip();\n    }\n  }\n  /** @private\n  */\n  precomposeRight(e) {\n    var ctx = e.context;\n    if (ctx instanceof WebGLRenderingContext) {\n      if (e.type === 'prerender') {\n        // Clear\n        if (this._righttime != e.frameState.time) {\n          ctx.clearColor(0, 0, 0, 0);\n          ctx.clear(ctx.COLOR_BUFFER_BIT);\n          this._righttime = e.frameState.time;\n        }\n\n        // Clip\n        ctx.enable(ctx.SCISSOR_TEST);\n\n        var mapSize = this.getMap().getSize(); // [width, height] in CSS pixels\n\n\n        // get render coordinates and dimensions given CSS coordinates\n        var bottomLeft = this._transformPt(e, [0, mapSize[1]]);\n        var topRight = this._transformPt(e, [mapSize[0], 0]);\n\n        var fullWidth = topRight[0] - bottomLeft[0];\n        var fullHeight = topRight[1] - bottomLeft[1];\n        var width, height;\n        if (this.get('orientation') === \"vertical\") {\n          height = fullHeight;\n          width = Math.round(fullWidth * (1 - this.get('position')));\n          bottomLeft[0] += fullWidth - width;\n        } else {\n          width = fullWidth;\n          height = Math.round(fullHeight * (1 - this.get('position')));\n        }\n        ctx.scissor(bottomLeft[0], bottomLeft[1], width, height);\n        ctx.clearColor(0, 0, 0, 0);\n        ctx.clear(ctx.COLOR_BUFFER_BIT);\n      }\n    } else {\n      var size = e.frameState.size;\n      ctx.save();\n      ctx.beginPath();\n      var pts = [[0, 0], [size[0], size[1]]];\n      if (this.get('orientation') === \"vertical\") {\n        pts[0] = [\n          size[0] * .5 + this.getMap().getSize()[0] * (this.get('position') - .5),\n          0\n        ];\n      } else {\n        pts[0] = [\n          0,\n          size[1] * .5 + this.getMap().getSize()[1] * (this.get('position') - .5)\n        ];\n      }\n      this._drawRect(e, pts);\n      ctx.clip();\n    }\n  }\n  /** @private\n  */\n  postcompose(e) {\n    if (e.context instanceof WebGLRenderingContext) {\n      if (e.type === 'postrender') {\n        var gl = e.context;\n        gl.disable(gl.SCISSOR_TEST);\n      }\n    } else {\n      // restore context when decluttering is done (ol>=6)\n      // https://github.com/openlayers/openlayers/issues/10096\n      if (e.target.getClassName && e.target.getClassName() !== 'ol-layer' && e.target.get('declutter')) {\n        setTimeout(function () {\n          e.context.restore();\n        }, 0);\n      } else {\n        e.context.restore();\n      }\n    }\n  }\n}\n\nexport default ol_control_Swipe\n","<template>\n\t<Splitpanes horizontal class=\"default-theme\">\n\t\t<Pane id=\"map\">\n\t\t\t<div :id=\"id\" class=\"map-viewer\">\n\t\t\t\t<ProgressControl ref=\"progress\" :map=\"map\" />\n\t\t\t\t<UserLocationControl :map=\"map\" />\n\t\t\t\t<AddDataControl :map=\"map\" @add=\"addData\" />\n\t\t\t\t<template v-if=\"isGeoTiff\">\n\t\t\t\t\t<TextControl :text=\"textControlText\" />\n\t\t\t\t\t<div class=\"ol-unselectable ol-control geotiff-channels\">\n\t\t\t\t\t\t<template v-for=\"state in geotiffs\">\n\t\t\t\t\t\t\t<ChannelControl\n\t\t\t\t\t\t\t\tv-if=\"!state.colorMap\" :key=\"state.layer.id\"\n\t\t\t\t\t\t\t\t:bands=\"state.bands\" :defaultChannels=\"state.defaultChannels\"\n\t\t\t\t\t\t\t\t:title=\"geotiffs.length > 1 ? state.layer.get('title') : ''\"\n\t\t\t\t\t\t\t\t@update=\"(type, data) => updateGeoTiffStyle(state, type, data)\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<div v-if=\"loading\" class=\"map-loading\">\n\t\t\t\t\t<i class=\"fas fa-spinner fa-spin\"></i>\n\t\t\t\t\t<span>Loading map...</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Pane>\n\t\t<Pane v-if=\"chart\" id=\"chart\" :size=\"33\">\n\t\t\t<span class=\"close\" @click=\"closeChart\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></span>\n\t\t\t<ScatterChart v-bind=\"chart\" :height=\"220\" />\n\t\t</Pane>\n\t</Splitpanes>\n</template>\n\n<script>\nimport Utils from '../../utils.js';\nimport { default as GeoTiffFile } from '../../formats/geotiff';\nimport JSON_ from '../../formats/json';\n\nimport { Splitpanes, Pane } from 'splitpanes';\n\nimport ScatterChart from './ScatterChart.vue';\nimport AddDataControl from '../maps/AddDataControl.vue';\nimport ChannelControl from '../maps/ChannelControl.vue';\nimport ExtentMixin from '../maps/ExtentMixin.vue';\nimport GeocoderMixin from '../maps/GeocoderMixin.vue';\nimport MapMixin from '../maps/MapMixin.vue';\nimport TextControl from '../maps/TextControl.vue';\nimport WebServiceMixin from '../maps/WebServiceMixin.vue';\nimport GeoTiffState from '../maps/geotiff/state';\nimport '../maps/geotiff/fix';\n\nimport { Service } from '@openeo/js-client';\n\nimport Feature from 'ol/Feature';\nimport { fromExtent as PolygonFromExtent } from 'ol/geom/Polygon';\nimport { transformExtent } from 'ol/proj';\nimport VectorLayer from 'ol/layer/Vector';\nimport TileLayer from 'ol/layer/WebGLTile';\nimport { default as OlGeoTiff } from 'ol/source/GeoTIFF';\nimport VectorSource from 'ol/source/Vector';\n\nimport 'ol-ext/control/Swipe.css';\nimport Swipe from '../maps/Swipe.js';\n\nexport default {\n\tname: 'MapViewer',\n\tmixins: [\n\t\tExtentMixin,\n\t\tGeocoderMixin,\n\t\tMapMixin,\n\t\tWebServiceMixin\n\t],\n\tcomponents: {\n\t\tAddDataControl,\n\t\tChannelControl,\n\t\tPane,\n\t\tScatterChart,\n\t\tSplitpanes,\n\t\tTextControl\n\t},\n\tprops: {\n\t\tdata: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttextControlText: 'Value: -',\n\t\t\tloading: true,\n\t\t\tchart: null,\n\t\t\tgeotiffs: [],\n\t\t\tswipe: null,\n\t\t\tlayerId: 0\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection']),\n\t\t...Utils.mapState('editor', ['appMode']),\n\t\tisWebService() {\n\t\t\treturn this.data instanceof Service && typeof this.data.type === 'string';\n\t\t},\n\t\tisGeoTiff() {\n\t\t\treturn this.data instanceof GeoTiffFile;\n\t\t},\n\t\tisGeoJson() {\n\t\t\treturn this.data instanceof JSON_ && this.data.isGeoJson;\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$emit('mounted', this);\n\t},\n\tmethods: {\n\t\tasync renderMap() {\n\t\t\ttry {\n\t\t\t\tlet view;\n\t\t\t\tlet data;\n\t\t\t\tif (this.isGeoJson) {\n\t\t\t\t\tdata = await this.data.loadData(this.connection);\n\t\t\t\t}\n\t\t\t\telse if (this.isGeoTiff) {\n\t\t\t\t\tdata = await this.data.loadData(this.connection);\n\t\t\t\t\tlet projection = data.getProjection();\n\t\t\t\t\tif (projection) {\n\t\t\t\t\t\tview = projection;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (this.isWebService && Utils.isMapServiceSupported(this.data.type)) {\n\t\t\t\t\tif (this.data.type.toLowerCase() === 'wmts') {\n\t\t\t\t\t\tlet capabilities = await this.initWMTSLayer(this.data);\n\t\t\t\t\t\t// ToDo: Right now we assume Web Mercator is always available, better check the capabilities...\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(\"Sorry, the given data can't be shown on a web map.\");\n\t\t\t\t}\n\n\t\t\t\tawait this.createMap(view);\n\n\t\t\t\tconst layers = this.map.getLayers();\n\t\t\t\tlayers.on('add', evt => {\n\t\t\t\t\tconst state = evt.element.get('geotiff');\n\t\t\t\t\tif (state) {\n\t\t\t\t\t\tthis.geotiffs.push(state);\n\t\t\t\t\t\tthis.updateSwiper();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlayers.on('remove', evt => {\n\t\t\t\t\tconst state = evt.element.get('geotiff');\n\t\t\t\t\tconst index = this.geotiffs.indexOf(state);\n\t\t\t\t\tif (index > -1) {\n\t\t\t\t\t\tthis.geotiffs.splice(index, 1);\n\t\t\t\t\t\tthis.updateSwiper();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.addLayerSwitcher();\n\t\t\t\tthis.addGeocoder(data => {\n\t\t\t\t\tif (!data) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet extent = this.toExtent(data);\n\t\t\t\t\textent = transformExtent(extent, 'EPSG:4326', this.map.getView().getProjection());\n\t\t\t\t\tthis.map.getView().fit(extent, this.getFitOptions());\n\t\t\t\t});\n\n\t\t\t\tif (this.isGeoJson) {\n\t\t\t\t\tthis.addBasemaps();\n\t\t\t\t\tthis.addGeoJson(data, true);\n\t\t\t\t}\n\t\t\t\telse if (this.isGeoTiff) {\n\t\t\t\t\tlet proj = this.map.getView().getProjection();\n\t\t\t\t\tif (proj.basemap || ['EPSG:3857', 'EPSG:4326'].includes(proj.getCode())) {\n\t\t\t\t\t\tthis.addBasemaps();\n\t\t\t\t\t}\n\t\t\t\t\tthis.addGeoTiff(data, data.title);\n\t\t\t\t\tlet stac = this.data.getContext();\n\t\t\t\t\tif (stac) {\n\t\t\t\t\t\tthis.addExtent(stac, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (this.isWebService && Utils.isMapServiceSupported(this.data.type)) {\n\t\t\t\t\tthis.addBasemaps();\n\t\t\t\t\tthis.addWebService(this.data);\n\t\t\t\t}\n\n\t\t\t\tif (this.$listeners && this.$listeners.drop) {\n\t\t\t\t\tthis.map.getViewport().addEventListener('dragover', event => event.preventDefault());\n\t\t\t\t\tthis.map.getViewport().addEventListener('drop', this.$listeners.drop);\n\t\t\t\t}\n\n\t\t\t\tthis.map.on('pointermove', this.onPointerMove);\n\t\t\t\tthis.map.on('click', this.onClick);\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\n\t\t\tthis.loading = false;\n\t\t},\n\n\t\tasync addCollection() {\n\t\t\tlet layer = this.showWebService(this.data);\n\t\t\t// Fit to extent of collection\n\t\t\ttry {\n\t\t\t\tlet bbox = service.attributes.bbox;\n\t\t\t\tlet extent = [...this.fromLonLat([bbox.west, bbox.south]), ...this.fromLonLat([bbox.east, bbox.north])];\n\t\t\t\tlet extentLayer = new VectorLayer({\n\t\t\t\t\ttitle: \"Extent\",\n\t\t\t\t\tnoSwitcherDelete: true,\n\t\t\t\t\tsource: new VectorSource({\n\t\t\t\t\t\tfeatures: [\n\t\t\t\t\t\t\tnew Feature(PolygonFromExtent(extent))\n\t\t\t\t\t\t],\n\t\t\t\t\t\tprojection: \"EPSG:4326\",\n\t\t\t\t\t\twrapX: false\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\n\t\t\t\tthis.removeLayerFill(extentLayer);\n\t\t\t\tlayer.getLayers().push(extentLayer);\n\n\t\t\t\tthis.map.getView().fit(extent, this.getFitOptions(10));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t},\n\n\t\tgetPixelValues(pixel) {\n\t\t\treturn this.geotiffs.map(state => {\n\t\t\t\tconst layer = state.layer;\n\t\t\t\t// Get data into an array\n\t\t\t\tlet data = layer.getData(pixel);\n\t\t\t\tdata = data ? Array.from(data) : [];\n\t\t\t\t\n\t\t\t\t// Handle transparency / no-data\n\t\t\t\tconst noData = state.noData;\n\t\t\t\tconst alpha = noData.length > 0 ? data.pop() : undefined;\n\t\t\t\tdata = data.map(x => ((alpha === 0 || noData.includes(x)) ? NaN : x));\n\n\t\t\t\t// Get labels\n\t\t\t\tconst labels = data.map((_, i) => {\n\t\t\t\t\tconst band = state.bands[i];\n\t\t\t\t\tif (band) {\n\t\t\t\t\t\tconst name = String(band.name || band.id);\n\t\t\t\t\t\tif (name.length > 0) {\n\t\t\t\t\t\t\treturn name;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn String(i);\n\t\t\t\t});\n\n\t\t\t\t// Collection information and add to array\n\t\t\t\treturn {\n\t\t\t\t\ttitle: layer.get('title'),\n\t\t\t\t\tdata,\n\t\t\t\t\tlabels\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\tformatCoords(coords) {\n\t\t\treturn coords.map(x => String(parseFloat(x.toFixed(6)))).join(', ');\n\t\t},\n\t\tformatValue({data}) {\n\t\t\tif (!Array.isArray(data) || data.length === 0) {\n\t\t\t\treturn '-';\n\t\t\t}\n\t\t\treturn data\n\t\t\t\t.map(x => {\n\t\t\t\t\tx = parseFloat(x.toFixed(6));\n\t\t\t\t\tif (isNaN(x)) {\n\t\t\t\t\t\treturn 'no data';\n\t\t\t\t\t}\n\t\t\t\t\treturn x;\n\t\t\t\t})\n\t\t\t\t.join(' / ');\n\t\t},\n\t\tonPointerMove(evt) {\n\t\t\tconst values = this.getPixelValues(evt.pixel);\n\t\t\tlet text = '-';\n\t\t\tif (values.length === 1) {\n\t\t\t\ttext = this.formatValue(values[0]);\n\t\t\t}\n\t\t\telse if (values.length > 1) {\n\t\t\t\ttext = values.map(x => `\\r\\n- ${x.title}: ${this.formatValue(x)}`).join('');\n\t\t\t}\n\t\t\tconst plural = values.length > 1 ? 's' : '';\n\t\t\tconst coords = this.formatCoords(evt.coordinate);\n\t\t\tthis.textControlText = [\n\t\t\t\t`Value${plural}: ${text}`,\n\t\t\t\t`Pixel Value${plural}: ${text}\\r\\nCoordinate: ${coords}`\n\t\t\t];\n\t\t},\n\t\tonClick(evt) {\n\t\t\tconst data = this.getPixelValues(evt.pixel);\n\n\t\t\tconst validValues = data\n\t\t\t\t.map(x => x.data)\n\t\t\t\t.flat()\n\t\t\t\t.filter(x => isFinite(x));\n\t\t\t\n\t\t\tif (validValues.length < 2) {\n\t\t\t\tthis.chart = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet labels = data.map(x => x.labels).flat();\n\t\t\tlabels = Array.from(new Set(labels));\n\n\t\t\tconst datasets = data.map(x => {\n\t\t\t\tconst map = {};\n\t\t\t\tfor (let i in x.data) {\n\t\t\t\t\tmap[x.labels[i]] = x.data[i];\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tlabel: x.title,\n\t\t\t\t\tdata: map\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst coords = this.formatCoords(evt.coordinate);\n\t\t\tthis.chart = {\n\t\t\t\ttitle: `Coordinate: ${coords}`,\n\t\t\t\tlabels,\n\t\t\t\tdatasets\n\t\t\t};\n\t\t},\n\t\tcloseChart() {\n\t\t\tthis.chart = null;\n\t\t},\n\n\t\tasync addGeoTiff(geotiff, title = \"GeoTiff\") {\n\t\t\tconst tiffState = new GeoTiffState(geotiff);\n\t\t\tconst sourceOpts = {\n\t\t\t\tnodata: tiffState.noData[0] // OL only supports passing one no data value\n\t\t\t};\n\t\t\tif (geotiff.getBlob()) {\n\t\t\t\tsourceOpts.blob = geotiff.getBlob();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsourceOpts.url = geotiff.getUrl();\n\t\t\t}\n\n\t\t\tconst source = new OlGeoTiff({\n\t\t\t\tinterpolate: false,\n\t\t\t\tnormalize: false,\n\t\t\t\tconvertToRGB: geotiff.convertToRGB,\n\t\t\t\tsources: [sourceOpts]\n\t\t\t});\n\n\t\t\tconst layer = new TileLayer({\n\t\t\t\tid: geotiff.getUrl(),\n\t\t\t\ttitle,\n\t\t\t\tsource: source,\n\t\t\t\tclassName: `geotiff${this.layerId++}`, // https://github.com/Viglino/ol-ext/issues/1047 (for Swipe)\n\t\t\t\tcacheSize: 2048 // https://github.com/openlayers/openlayers/issues/13670\n\t\t\t});\n\t\t\ttiffState.layer = layer;\n\t\t\tlayer.set('geotiff', tiffState);\n\t\t\tlayer.once('prerender', () => tiffState.setStyle());\n\t\t\tlayer.on('change:visible', () => this.updateSwiper());\n\t\t\tthis.addLayerToMap(layer);\n\n\t\t\tlet extent = geotiff.getExtent();\n\t\t\tif (extent) {\n\t\t\t\tthis.map.getView().fit(extent, this.getFitOptions(10));\n\t\t\t}\n\n\t\t\treturn layer;\n\t\t},\n\n\t\tasync addData(files) {\n\t\t\tif (files.length > 5 && !Utils.confirmOpenAll(files)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tconst promises = files.map(async (file) => {\n\t\t\t\tawait file.loadData(this.connection);\n\t\t\t\tif (file instanceof GeoTiffFile) {\n\t\t\t\t\treturn await this.addGeoTiff(file, file.title);\n\t\t\t\t}\n\t\t\t\telse if (file instanceof JSON_ && file.isGeoJson) {\n\t\t\t\t\treturn await this.addGeoJson(file, false, file.title);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tUtils.error(this, new Error(`Sorry, the given data at ${file.href} is not supported.`));\n\t\t\t\t}\n\t\t\t});\n\t\t\tawait Promise.all(promises);\n\t\t},\n\n\t\tupdateSwiper() {\n\t\t\tconst layers = this.map.getLayers().getArray()\n\t\t\t\t.filter(layer => layer.get('geotiff') && layer.getVisible());\n\t\t\tif (layers.length === 2) {\n\t\t\t\tif (this.swipe && layers.every((l, i) => l === this.swipe.layers[i])) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst opts = {\n\t\t\t\t\tlayers: layers[0],\n\t\t\t\t\trightLayers: layers[1]\n\t\t\t\t};\n\t\t\t\tconst control = new Swipe(opts);\n\t\t\t\tthis.swipe = { control, layers };\n\t\t\t\tthis.map.addControl(control);\n\t\t\t}\n\t\t\telse if (layers.length !== 2 && this.swipe) {\n\t\t\t\tthis.map.removeControl(this.swipe.control);\n\t\t\t\tthis.swipe = null;\n\t\t\t}\n\t\t},\n\n\t\tupdateGeoTiffStyle(state, type, data) {\n\t\t\tswitch(type) {\n\t\t\t\tcase 'channels':\n\t\t\t\t\tstate.channels = data;\n\t\t\t\t\tthis.setOptions('channels', data);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tstate.setStyle();\n\t\t}\n\t\t\n\t}\n\n}\n</script>\n\n<style src=\"../maps/MapMixin.scss\" lang=\"scss\"></style>\n\n<style lang=\"scss\">\n.map-viewer {\n\tposition: relative;\n\n\t.map-loading {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground-color: rgba(0,0,0,0.6);\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tz-index: 9999;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\n\t\t> i {\n\t\t\tfont-size: 2em;\n\t\t}\n\t}\n}\n\n.ol-control.geotiff-channels {\n\tbottom: calc(22px + 1em);\n  right: 8px;\n\tposition: absolute;\n\tmax-height: 150px;\n\toverflow-y: auto;\n}\n\n#chart {\n\tposition: relative;\n\n\t.close {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0.5em;\n\t\tpadding: 0.5em;\n\t\tcursor: pointer;\n\t\tcolor: black;\n\n\t\t&:hover {\n\t\t\tcolor: red;\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapViewer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapViewer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MapViewer.vue?vue&type=template&id=76347783\"\nimport script from \"./MapViewer.vue?vue&type=script&lang=js\"\nexport * from \"./MapViewer.vue?vue&type=script&lang=js\"\nimport style0 from \"../maps/MapMixin.scss?vue&type=style&index=0&prod&lang=scss&external\"\nimport style1 from \"./MapViewer.vue?vue&type=style&index=1&id=76347783&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.texts.length > 0)?_c('div',{staticClass:\"ol-unselectable ol-control value\",class:{pointer: _vm.texts.length > 1},on:{\"click\":_vm.toggle}},[_vm._v(_vm._s(_vm.current))]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-if=\"texts.length > 0\" class=\"ol-unselectable ol-control value\" @click=\"toggle\" :class=\"{pointer: texts.length > 1}\">{{ current }}</div>\n</template>\n\n<script>\nimport ControlMixin from './ControlMixin';\n\nexport default {\n\tname: 'TextControl',\n\tmixins: [\n\t\tControlMixin\n\t],\n\tdata() {\n\t\treturn {\n\t\t\ti: 0\n\t\t};\t\n\t},\n\tcomputed: {\n\t\ttexts() {\n\t\t\tif (Array.isArray(this.text)) {\n\t\t\t\treturn this.text;\n\t\t\t}\n\t\t\telse if (typeof this.text === 'string' && this.text.length > 0) {\n\t\t\t\treturn [this.text];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tcurrent() {\n\t\t\tif (this.texts.length === 0) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.texts[this.i % this.text.length];\n\t\t\t}\n\t\t}\n\t},\n\tprops: {\n\t\ttext: {\n\t\t\ttype: [\n\t\t\t\tString,\n\t\t\t\tArray\n\t\t\t],\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle() {\n\t\t\tthis.i++;\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.value {\n\tposition: absolute;\n\ttop: 0.5em;\n\tleft: calc(2.375em + 6px);\n\tmax-width: calc(100% - 2*(2.375em + 6px));\n\tbox-sizing: border-box;\n\tbackground-color: rgba(255,255,255,0.6);\n\twhite-space: pre-wrap;\n\tfont-family: monospace;\n\tpadding: 0.2em;\n}\n.pointer {\n\tcursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TextControl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TextControl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TextControl.vue?vue&type=template&id=b1521986&scoped=true\"\nimport script from \"./TextControl.vue?vue&type=script&lang=js\"\nexport * from \"./TextControl.vue?vue&type=script&lang=js\"\nimport style0 from \"./TextControl.vue?vue&type=style&index=0&id=b1521986&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1521986\",\n  null\n  \n)\n\nexport default component.exports"],"names":["OSMGeocoder","constructor","url","geojson","this","getParameters","opt","params","q","query","format","limit","polygon_geojson","polygon_threshold","handleResponse","results","length","filter","result","includes","class","map","lon","lat","bbox","boundingbox","address","name","display_name","original","formatted","details","methods","addGeocoder","callback","$config","geocoder","options","provider","placeholder","keepOpen","preventDefault","Geocoder","on","event","place","i","parseFloat","bboxOpenEO","west","east","north","south","addControl","render","staticRenderFns","component","_vm","_c","_self","staticClass","attrs","id","ref","addData","isGeoTiff","textControlText","_l","geotiffs","state","colorMap","_e","key","layer","bands","defaultChannels","get","update","type","data","updateGeoTiffStyle","loading","_v","chart","closeChart","_b","staticStyle","$event","stopPropagation","openModal","apply","arguments","mixins","ControlMixin","EventBusMixin","events","save","addLayer","broadcast","file","$emit","directives","rawName","value","channels","expression","title","cols","_s","isGray","multiBand","channel","labels","modifiers","$$selectedVal","Array","prototype","call","target","o","selected","val","_value","_n","$set","multiple","band","domProps","min","composing","$forceUpdate","max","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","props","String","default","computed","mounted","watch","immediate","handler","updateChannels","emit","deep","isValid","Object","assign","push","c","ExtentMixin","WMTSCapabilities","timeline","addWebService","service","toLowerCase","updateXYZLayer","updateWMTSLayer","Utils","error","getWMTSTimes","capabilities","layerId","layers","Contents","Layer","find","l","Identifier","Dimension","timeDimension","d","Value","sort","initWMTSLayer","URL","searchParams","set","response","axios","toString","responseType","parser","read","exception","prefix","attributes","layerNames","minDate","maxDate","defaultDate","source","getResourceTitle","layerCollection","Collection","optionsFromCapabilities","matrixSet","Date","dimensions","TIME","times","isObject","WMTS","mapLayer","TileLayer","trackTileProgress","noSwitcherDelete","run","Timeline","className","graduation","e","date","window","clearTimeout","setTimeout","toISOString","substr","updateDimensions","btns","document","getElementsByClassName","innerText","disabled","console","log","addButton","html","setDate","group","LayerGroup","element","style","display","getVisible","addLayerToMap","getLayers","removeControl","replaceParam","getTime","replace","XYZ","process","process_graph","crs84","e4326","values","node","process_id","spatial_extent","forEach","isBBox","crs","isGeoJSON","properties","addExtent","GeoTiffState","geotiff","getColorMap","noData","getNoData","getBands","getBandVar","getFormula","x","scale","getNoDataFormula","setStyle","variables","alphaband","color","formula","GeoTIFFImage","getSampleByteSize","fileDirectory","BitsPerSample","Math","ceil","getReaderForSample","sampleIndex","getSampleFormat","bitsPerSample","getBitsPerSample","DataView","getUint8","getUint16","getUint32","getInt8","getInt16","getInt32","offset","littleEndian","getFloat16","getFloat32","getFloat64","Error","SampleFormat","ol_control_Swipe","ol_control_Control","createElement","super","button","appendChild","addEventListener","move","bind","precomposeRight_","precomposeRight","precomposeLeft_","precomposeLeft","postcompose_","postcompose","rightLayers","getMap","renderSync","top","left","classList","remove","add","isMoving","getImageRatio","changed","position","orientation","setMap","right","un","_listener","isLayer_","k","removeLayers","removeLayer","splice","getRectangle","s","getSize","self","_movefn","eventName","removeEventListener","pageX","touches","changedTouches","getTargetElement","getBoundingClientRect","pageXOffset","documentElement","clientLeft","w","dispatchEvent","size","pageY","pageYOffset","clientTop","h","_transformPt","pt","tr","inversePixelTransform","y","_drawRect","pts","r","context","rot","atan2","frameState","pixelToCoordinateTransform","translate","rotate","lineTo","moveTo","restore","ratio","pixelRatio","rect","ctx","WebGLRenderingContext","_lefttime","time","clearColor","clear","COLOR_BUFFER_BIT","enable","SCISSOR_TEST","width","height","mapSize","bottomLeft","topRight","fullWidth","fullHeight","round","scissor","beginPath","clip","_righttime","gl","disable","getClassName","GeocoderMixin","MapMixin","WebServiceMixin","components","AddDataControl","ChannelControl","Pane","ScatterChart","Splitpanes","TextControl","swipe","mapState","isWebService","Service","GeoTiffFile","isGeoJson","JSON_","renderMap","view","loadData","connection","projection","getProjection","isMapServiceSupported","createMap","evt","updateSwiper","index","indexOf","addLayerSwitcher","extent","toExtent","transformExtent","getView","fit","getFitOptions","addBasemaps","addGeoJson","proj","basemap","getCode","addGeoTiff","stac","getContext","$listeners","drop","getViewport","onPointerMove","onClick","addCollection","showWebService","fromLonLat","extentLayer","VectorLayer","VectorSource","features","Feature","PolygonFromExtent","wrapX","removeLayerFill","getPixelValues","pixel","getData","from","alpha","pop","undefined","NaN","_","formatCoords","coords","toFixed","join","formatValue","isNaN","text","plural","coordinate","validValues","flat","isFinite","Set","datasets","label","tiffState","sourceOpts","nodata","getBlob","blob","getUrl","OlGeoTiff","interpolate","normalize","convertToRGB","sources","cacheSize","once","getExtent","files","confirmOpenAll","promises","href","Promise","all","getArray","every","opts","control","Swipe","setOptions","texts","pointer","toggle","current"],"sourceRoot":""}