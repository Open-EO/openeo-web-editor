{"version":3,"file":"js/2235.93a6920e.js","mappings":"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","sources":["webpack://@openeo/web-editor/./node_modules/ol/source/Source.js","webpack://@openeo/web-editor/./node_modules/ol/source/State.js","webpack://@openeo/web-editor/./node_modules/ol/source/Tile.js","webpack://@openeo/web-editor/./node_modules/ol/source/TileEventType.js","webpack://@openeo/web-editor/./node_modules/ol/source/UrlTile.js","webpack://@openeo/web-editor/./node_modules/ol/source/TileImage.js","webpack://@openeo/web-editor/./node_modules/ol/source/Vector.js","webpack://@openeo/web-editor/./node_modules/ol/source/VectorEventType.js","webpack://@openeo/web-editor/./node_modules/ol/source/XYZ.js","webpack://@openeo/web-editor/./node_modules/ol/structs/LRUCache.js","webpack://@openeo/web-editor/./node_modules/ol/structs/PriorityQueue.js","webpack://@openeo/web-editor/./node_modules/ol/structs/RBush.js","webpack://@openeo/web-editor/./node_modules/ol/style/Circle.js","webpack://@openeo/web-editor/./node_modules/ol/style/Fill.js","webpack://@openeo/web-editor/./node_modules/ol/style/IconOrigin.js","webpack://@openeo/web-editor/./node_modules/ol/style/IconImage.js","webpack://@openeo/web-editor/./node_modules/ol/style/Icon.js","webpack://@openeo/web-editor/./node_modules/ol/style/IconAnchorUnits.js","webpack://@openeo/web-editor/./node_modules/ol/style/IconImageCache.js","webpack://@openeo/web-editor/./node_modules/ol/style/Image.js","webpack://@openeo/web-editor/./node_modules/ol/style/RegularShape.js","webpack://@openeo/web-editor/./node_modules/ol/style/Stroke.js","webpack://@openeo/web-editor/./node_modules/ol/style/Style.js","webpack://@openeo/web-editor/./node_modules/ol/style/TextPlacement.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/Source\n */\nimport BaseObject from '../Object.js';\nimport SourceState from './State.js';\nimport { abstract } from '../util.js';\nimport { get as getProjection } from '../proj.js';\n/**\n * A function that takes a {@link module:ol/PluggableMap~FrameState} and returns a string or\n * an array of strings representing source attributions.\n *\n * @typedef {function(import(\"../PluggableMap.js\").FrameState): (string|Array<string>)} Attribution\n */\n/**\n * A type that can be used to provide attribution information for data sources.\n *\n * It represents either\n * * a simple string (e.g. `' Acme Inc.'`)\n * * an array of simple strings (e.g. `[' Acme Inc.', ' Bacme Inc.']`)\n * * a function that returns a string or array of strings ({@link module:ol/source/Source~Attribution})\n *\n * @typedef {string|Array<string>|Attribution} AttributionLike\n */\n/**\n * @typedef {Object} Options\n * @property {AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {import(\"./State.js\").default} [state='ready'] State.\n * @property {boolean} [wrapX=false] WrapX.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for {@link module:ol/layer/Layer~Layer} sources.\n *\n * A generic `change` event is triggered when the state of the source changes.\n * @abstract\n * @api\n */\nvar Source = /** @class */ (function (_super) {\n    __extends(Source, _super);\n    /**\n     * @param {Options} options Source options.\n     */\n    function Source(options) {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.projection = getProjection(options.projection);\n        /**\n         * @private\n         * @type {?Attribution}\n         */\n        _this.attributions_ = adaptAttributions(options.attributions);\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.attributionsCollapsible_ =\n            options.attributionsCollapsible !== undefined\n                ? options.attributionsCollapsible\n                : true;\n        /**\n         * This source is currently loading data. Sources that defer loading to the\n         * map's tile queue never set this to `true`.\n         * @type {boolean}\n         */\n        _this.loading = false;\n        /**\n         * @private\n         * @type {import(\"./State.js\").default}\n         */\n        _this.state_ =\n            options.state !== undefined ? options.state : SourceState.READY;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.wrapX_ = options.wrapX !== undefined ? options.wrapX : false;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.interpolate_ = !!options.interpolate;\n        /**\n         * @protected\n         * @type {function(import(\"../View.js\").ViewOptions):void}\n         */\n        _this.viewResolver = null;\n        /**\n         * @protected\n         * @type {function(Error):void}\n         */\n        _this.viewRejector = null;\n        var self = _this;\n        /**\n         * @private\n         * @type {Promise<import(\"../View.js\").ViewOptions>}\n         */\n        _this.viewPromise_ = new Promise(function (resolve, reject) {\n            self.viewResolver = resolve;\n            self.viewRejector = reject;\n        });\n        return _this;\n    }\n    /**\n     * Get the attribution function for the source.\n     * @return {?Attribution} Attribution function.\n     * @api\n     */\n    Source.prototype.getAttributions = function () {\n        return this.attributions_;\n    };\n    /**\n     * @return {boolean} Attributions are collapsible.\n     * @api\n     */\n    Source.prototype.getAttributionsCollapsible = function () {\n        return this.attributionsCollapsible_;\n    };\n    /**\n     * Get the projection of the source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    Source.prototype.getProjection = function () {\n        return this.projection;\n    };\n    /**\n     * @abstract\n     * @return {Array<number>|null} Resolutions.\n     */\n    Source.prototype.getResolutions = function () {\n        return abstract();\n    };\n    /**\n     * @return {Promise<import(\"../View.js\").ViewOptions>} A promise for view-related properties.\n     */\n    Source.prototype.getView = function () {\n        return this.viewPromise_;\n    };\n    /**\n     * Get the state of the source, see {@link module:ol/source/State~State} for possible states.\n     * @return {import(\"./State.js\").default} State.\n     * @api\n     */\n    Source.prototype.getState = function () {\n        return this.state_;\n    };\n    /**\n     * @return {boolean|undefined} Wrap X.\n     */\n    Source.prototype.getWrapX = function () {\n        return this.wrapX_;\n    };\n    /**\n     * @return {boolean} Use linear interpolation when resampling.\n     */\n    Source.prototype.getInterpolate = function () {\n        return this.interpolate_;\n    };\n    /**\n     * Refreshes the source. The source will be cleared, and data from the server will be reloaded.\n     * @api\n     */\n    Source.prototype.refresh = function () {\n        this.changed();\n    };\n    /**\n     * Set the attributions of the source.\n     * @param {AttributionLike|undefined} attributions Attributions.\n     *     Can be passed as `string`, `Array<string>`, {@link module:ol/source/Source~Attribution},\n     *     or `undefined`.\n     * @api\n     */\n    Source.prototype.setAttributions = function (attributions) {\n        this.attributions_ = adaptAttributions(attributions);\n        this.changed();\n    };\n    /**\n     * Set the state of the source.\n     * @param {import(\"./State.js\").default} state State.\n     */\n    Source.prototype.setState = function (state) {\n        this.state_ = state;\n        this.changed();\n    };\n    return Source;\n}(BaseObject));\n/**\n * Turns the attributions option into an attributions function.\n * @param {AttributionLike|undefined} attributionLike The attribution option.\n * @return {Attribution|null} An attribution function (or null).\n */\nfunction adaptAttributions(attributionLike) {\n    if (!attributionLike) {\n        return null;\n    }\n    if (Array.isArray(attributionLike)) {\n        return function (frameState) {\n            return attributionLike;\n        };\n    }\n    if (typeof attributionLike === 'function') {\n        return attributionLike;\n    }\n    return function (frameState) {\n        return [attributionLike];\n    };\n}\nexport default Source;\n//# sourceMappingURL=Source.js.map","/**\n * @module ol/source/State\n */\n/**\n * @enum {string}\n * State of the source, one of 'undefined', 'loading', 'ready' or 'error'.\n */\nexport default {\n    UNDEFINED: 'undefined',\n    LOADING: 'loading',\n    READY: 'ready',\n    ERROR: 'error',\n};\n//# sourceMappingURL=State.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/Tile\n */\nimport Event from '../events/Event.js';\nimport Source from './Source.js';\nimport TileCache from '../TileCache.js';\nimport TileState from '../TileState.js';\nimport { abstract } from '../util.js';\nimport { assert } from '../asserts.js';\nimport { equivalent } from '../proj.js';\nimport { getKeyZXY, withinExtentAndZ } from '../tilecoord.js';\nimport { getForProjection as getTileGridForProjection, wrapX, } from '../tilegrid.js';\nimport { scale as scaleSize, toSize } from '../size.js';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./TileEventType\").TileSourceEventTypes, TileSourceEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     import(\"./TileEventType\").TileSourceEventTypes, Return>} TileSourceOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] CacheSize.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {number} [tilePixelRatio] TilePixelRatio.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\n * @property {import(\"./State.js\").default} [state] State.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] TileGrid.\n * @property {boolean} [wrapX=false] WrapX.\n * @property {number} [transition] Transition.\n * @property {string} [key] Key.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0] ZDirection.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for sources providing images divided into a tile grid.\n * @abstract\n * @api\n */\nvar TileSource = /** @class */ (function (_super) {\n    __extends(TileSource, _super);\n    /**\n     * @param {Options} options SourceTile source options.\n     */\n    function TileSource(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            attributionsCollapsible: options.attributionsCollapsible,\n            projection: options.projection,\n            state: options.state,\n            wrapX: options.wrapX,\n            interpolate: options.interpolate,\n        }) || this;\n        /***\n         * @type {TileSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {TileSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {TileSourceOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.opaque_ = options.opaque !== undefined ? options.opaque : false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.tilePixelRatio_ =\n            options.tilePixelRatio !== undefined ? options.tilePixelRatio : 1;\n        /**\n         * @type {import(\"../tilegrid/TileGrid.js\").default|null}\n         */\n        _this.tileGrid = options.tileGrid !== undefined ? options.tileGrid : null;\n        var tileSize = [256, 256];\n        if (_this.tileGrid) {\n            toSize(_this.tileGrid.getTileSize(_this.tileGrid.getMinZoom()), tileSize);\n        }\n        /**\n         * @protected\n         * @type {import(\"../TileCache.js\").default}\n         */\n        _this.tileCache = new TileCache(options.cacheSize || 0);\n        /**\n         * @protected\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.tmpSize = [0, 0];\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.key_ = options.key || '';\n        /**\n         * @protected\n         * @type {import(\"../Tile.js\").Options}\n         */\n        _this.tileOptions = {\n            transition: options.transition,\n            interpolate: options.interpolate,\n        };\n        /**\n         * zDirection hint, read by the renderer. Indicates which resolution should be used\n         * by a renderer if the views resolution does not match any resolution of the tile source.\n         * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n         * will be used. If -1, the nearest higher resolution will be used.\n         * @type {number|import(\"../array.js\").NearestDirectionFunction}\n         */\n        _this.zDirection = options.zDirection ? options.zDirection : 0;\n        return _this;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileSource.prototype.canExpireCache = function () {\n        return this.tileCache.canExpireCache();\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileSource.prototype.expireCache = function (projection, usedTiles) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (tileCache) {\n            tileCache.expireCache(usedTiles);\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {number} z Zoom level.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @param {function(import(\"../Tile.js\").default):(boolean|void)} callback Called with each\n     *     loaded tile.  If the callback returns `false`, the tile will not be\n     *     considered loaded.\n     * @return {boolean} The tile range is fully covered with loaded tiles.\n     */\n    TileSource.prototype.forEachLoadedTile = function (projection, z, tileRange, callback) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (!tileCache) {\n            return false;\n        }\n        var covered = true;\n        var tile, tileCoordKey, loaded;\n        for (var x = tileRange.minX; x <= tileRange.maxX; ++x) {\n            for (var y = tileRange.minY; y <= tileRange.maxY; ++y) {\n                tileCoordKey = getKeyZXY(z, x, y);\n                loaded = false;\n                if (tileCache.containsKey(tileCoordKey)) {\n                    tile = /** @type {!import(\"../Tile.js\").default} */ (tileCache.get(tileCoordKey));\n                    loaded = tile.getState() === TileState.LOADED;\n                    if (loaded) {\n                        loaded = callback(tile) !== false;\n                    }\n                }\n                if (!loaded) {\n                    covered = false;\n                }\n            }\n        }\n        return covered;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileSource.prototype.getGutterForProjection = function (projection) {\n        return 0;\n    };\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     */\n    TileSource.prototype.getKey = function () {\n        return this.key_;\n    };\n    /**\n     * Set the value to be used as the key for all tiles in the source.\n     * @param {string} key The key for tiles.\n     * @protected\n     */\n    TileSource.prototype.setKey = function (key) {\n        if (this.key_ !== key) {\n            this.key_ = key;\n            this.changed();\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileSource.prototype.getOpaque = function (projection) {\n        return this.opaque_;\n    };\n    /**\n     * @return {Array<number>|null} Resolutions.\n     */\n    TileSource.prototype.getResolutions = function () {\n        if (!this.tileGrid) {\n            return null;\n        }\n        return this.tileGrid.getResolutions();\n    };\n    /**\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     */\n    TileSource.prototype.getTile = function (z, x, y, pixelRatio, projection) {\n        return abstract();\n    };\n    /**\n     * Return the tile grid of the tile source.\n     * @return {import(\"../tilegrid/TileGrid.js\").default|null} Tile grid.\n     * @api\n     */\n    TileSource.prototype.getTileGrid = function () {\n        return this.tileGrid;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileSource.prototype.getTileGridForProjection = function (projection) {\n        if (!this.tileGrid) {\n            return getTileGridForProjection(projection);\n        }\n        else {\n            return this.tileGrid;\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     * @protected\n     */\n    TileSource.prototype.getTileCacheForProjection = function (projection) {\n        assert(equivalent(this.getProjection(), projection), 68 // A VectorTile source can only be rendered if it has a projection compatible with the view projection.\n        );\n        return this.tileCache;\n    };\n    /**\n     * Get the tile pixel ratio for this source. Subclasses may override this\n     * method, which is meant to return a supported pixel ratio that matches the\n     * provided `pixelRatio` as close as possible.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Tile pixel ratio.\n     */\n    TileSource.prototype.getTilePixelRatio = function (pixelRatio) {\n        return this.tilePixelRatio_;\n    };\n    /**\n     * @param {number} z Z.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../size.js\").Size} Tile size.\n     */\n    TileSource.prototype.getTilePixelSize = function (z, pixelRatio, projection) {\n        var tileGrid = this.getTileGridForProjection(projection);\n        var tilePixelRatio = this.getTilePixelRatio(pixelRatio);\n        var tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\n        if (tilePixelRatio == 1) {\n            return tileSize;\n        }\n        else {\n            return scaleSize(tileSize, tilePixelRatio, this.tmpSize);\n        }\n    };\n    /**\n     * Returns a tile coordinate wrapped around the x-axis. When the tile coordinate\n     * is outside the resolution and extent range of the tile grid, `null` will be\n     * returned.\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../proj/Projection.js\").default} [opt_projection] Projection.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate to be passed to the tileUrlFunction or\n     *     null if no tile URL should be created for the passed `tileCoord`.\n     */\n    TileSource.prototype.getTileCoordForTileUrlFunction = function (tileCoord, opt_projection) {\n        var projection = opt_projection !== undefined ? opt_projection : this.getProjection();\n        var tileGrid = this.getTileGridForProjection(projection);\n        if (this.getWrapX() && projection.isGlobal()) {\n            tileCoord = wrapX(tileGrid, tileCoord, projection);\n        }\n        return withinExtentAndZ(tileCoord, tileGrid) ? tileCoord : null;\n    };\n    /**\n     * Remove all cached tiles from the source. The next render cycle will fetch new tiles.\n     * @api\n     */\n    TileSource.prototype.clear = function () {\n        this.tileCache.clear();\n    };\n    TileSource.prototype.refresh = function () {\n        this.clear();\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Increases the cache size if needed\n     * @param {number} tileCount Minimum number of tiles needed.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.updateCacheSize = function (tileCount, projection) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (tileCount > tileCache.highWaterMark) {\n            tileCache.highWaterMark = tileCount;\n        }\n    };\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.useTile = function (z, x, y, projection) { };\n    return TileSource;\n}(Source));\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Tile~TileSource} instances are instances of this\n * type.\n */\nvar TileSourceEvent = /** @class */ (function (_super) {\n    __extends(TileSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Tile.js\").default} tile The tile.\n     */\n    function TileSourceEvent(type, tile) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The tile related to the event.\n         * @type {import(\"../Tile.js\").default}\n         * @api\n         */\n        _this.tile = tile;\n        return _this;\n    }\n    return TileSourceEvent;\n}(Event));\nexport { TileSourceEvent };\nexport default TileSource;\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/source/TileEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a tile starts loading.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadstart\n     * @api\n     */\n    TILELOADSTART: 'tileloadstart',\n    /**\n     * Triggered when a tile finishes loading, either when its data is loaded,\n     * or when loading was aborted because the tile is no longer needed.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadend\n     * @api\n     */\n    TILELOADEND: 'tileloadend',\n    /**\n     * Triggered if tile loading results in an error.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloaderror\n     * @api\n     */\n    TILELOADERROR: 'tileloaderror',\n};\n/**\n * @typedef {'tileloadstart'|'tileloadend'|'tileloaderror'} TileSourceEventTypes\n */\n//# sourceMappingURL=TileEventType.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/UrlTile\n */\nimport TileEventType from './TileEventType.js';\nimport TileSource, { TileSourceEvent } from './Tile.js';\nimport TileState from '../TileState.js';\nimport { createFromTemplates, expandUrl } from '../tileurlfunction.js';\nimport { getKeyZXY } from '../tilecoord.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Cache size.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\n * @property {import(\"./State.js\").default} [state] State.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] TileGrid.\n * @property {import(\"../Tile.js\").LoadFunction} tileLoadFunction TileLoadFunction.\n * @property {number} [tilePixelRatio] TilePixelRatio.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] TileUrlFunction.\n * @property {string} [url] Url.\n * @property {Array<string>} [urls] Urls.\n * @property {boolean} [wrapX=true] WrapX.\n * @property {number} [transition] Transition.\n * @property {string} [key] Key.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0] ZDirection.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n */\n/**\n * @classdesc\n * Base class for sources providing tiles divided into a tile grid over http.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n */\nvar UrlTile = /** @class */ (function (_super) {\n    __extends(UrlTile, _super);\n    /**\n     * @param {Options} options Image tile options.\n     */\n    function UrlTile(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            opaque: options.opaque,\n            projection: options.projection,\n            state: options.state,\n            tileGrid: options.tileGrid,\n            tilePixelRatio: options.tilePixelRatio,\n            wrapX: options.wrapX,\n            transition: options.transition,\n            interpolate: options.interpolate,\n            key: options.key,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.generateTileUrlFunction_ =\n            _this.tileUrlFunction === UrlTile.prototype.tileUrlFunction;\n        /**\n         * @protected\n         * @type {import(\"../Tile.js\").LoadFunction}\n         */\n        _this.tileLoadFunction = options.tileLoadFunction;\n        if (options.tileUrlFunction) {\n            _this.tileUrlFunction = options.tileUrlFunction;\n        }\n        /**\n         * @protected\n         * @type {!Array<string>|null}\n         */\n        _this.urls = null;\n        if (options.urls) {\n            _this.setUrls(options.urls);\n        }\n        else if (options.url) {\n            _this.setUrl(options.url);\n        }\n        /**\n         * @private\n         * @type {!Object<string, boolean>}\n         */\n        _this.tileLoadingKeys_ = {};\n        return _this;\n    }\n    /**\n     * Return the tile load function of the source.\n     * @return {import(\"../Tile.js\").LoadFunction} TileLoadFunction\n     * @api\n     */\n    UrlTile.prototype.getTileLoadFunction = function () {\n        return this.tileLoadFunction;\n    };\n    /**\n     * Return the tile URL function of the source.\n     * @return {import(\"../Tile.js\").UrlFunction} TileUrlFunction\n     * @api\n     */\n    UrlTile.prototype.getTileUrlFunction = function () {\n        return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction\n            ? this.tileUrlFunction.bind(this)\n            : this.tileUrlFunction;\n    };\n    /**\n     * Return the URLs used for this source.\n     * When a tileUrlFunction is used instead of url or urls,\n     * null will be returned.\n     * @return {!Array<string>|null} URLs.\n     * @api\n     */\n    UrlTile.prototype.getUrls = function () {\n        return this.urls;\n    };\n    /**\n     * Handle tile change events.\n     * @param {import(\"../events/Event.js\").default} event Event.\n     * @protected\n     */\n    UrlTile.prototype.handleTileChange = function (event) {\n        var tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\n        var uid = getUid(tile);\n        var tileState = tile.getState();\n        var type;\n        if (tileState == TileState.LOADING) {\n            this.tileLoadingKeys_[uid] = true;\n            type = TileEventType.TILELOADSTART;\n        }\n        else if (uid in this.tileLoadingKeys_) {\n            delete this.tileLoadingKeys_[uid];\n            type =\n                tileState == TileState.ERROR\n                    ? TileEventType.TILELOADERROR\n                    : tileState == TileState.LOADED\n                        ? TileEventType.TILELOADEND\n                        : undefined;\n        }\n        if (type != undefined) {\n            this.dispatchEvent(new TileSourceEvent(type, tile));\n        }\n    };\n    /**\n     * Set the tile load function of the source.\n     * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @api\n     */\n    UrlTile.prototype.setTileLoadFunction = function (tileLoadFunction) {\n        this.tileCache.clear();\n        this.tileLoadFunction = tileLoadFunction;\n        this.changed();\n    };\n    /**\n     * Set the tile URL function of the source.\n     * @param {import(\"../Tile.js\").UrlFunction} tileUrlFunction Tile URL function.\n     * @param {string} [key] Optional new tile key for the source.\n     * @api\n     */\n    UrlTile.prototype.setTileUrlFunction = function (tileUrlFunction, key) {\n        this.tileUrlFunction = tileUrlFunction;\n        this.tileCache.pruneExceptNewestZ();\n        if (typeof key !== 'undefined') {\n            this.setKey(key);\n        }\n        else {\n            this.changed();\n        }\n    };\n    /**\n     * Set the URL to use for requests.\n     * @param {string} url URL.\n     * @api\n     */\n    UrlTile.prototype.setUrl = function (url) {\n        var urls = expandUrl(url);\n        this.urls = urls;\n        this.setUrls(urls);\n    };\n    /**\n     * Set the URLs to use for requests.\n     * @param {Array<string>} urls URLs.\n     * @api\n     */\n    UrlTile.prototype.setUrls = function (urls) {\n        this.urls = urls;\n        var key = urls.join('\\n');\n        if (this.generateTileUrlFunction_) {\n            this.setTileUrlFunction(createFromTemplates(urls, this.tileGrid), key);\n        }\n        else {\n            this.setKey(key);\n        }\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    UrlTile.prototype.tileUrlFunction = function (tileCoord, pixelRatio, projection) {\n        return undefined;\n    };\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     */\n    UrlTile.prototype.useTile = function (z, x, y) {\n        var tileCoordKey = getKeyZXY(z, x, y);\n        if (this.tileCache.containsKey(tileCoordKey)) {\n            this.tileCache.get(tileCoordKey);\n        }\n    };\n    return UrlTile;\n}(TileSource));\nexport default UrlTile;\n//# sourceMappingURL=UrlTile.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/TileImage\n */\nimport EventType from '../events/EventType.js';\nimport ImageTile from '../ImageTile.js';\nimport ReprojTile from '../reproj/Tile.js';\nimport TileCache from '../TileCache.js';\nimport TileState from '../TileState.js';\nimport UrlTile from './UrlTile.js';\nimport { ENABLE_RASTER_REPROJECTION } from '../reproj/common.js';\nimport { equivalent, get as getProjection } from '../proj.js';\nimport { getKey, getKeyZXY } from '../tilecoord.js';\nimport { getForProjection as getTileGridForProjection } from '../tilegrid.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"./State.js\").default} [state] Source state.\n * @property {typeof import(\"../ImageTile.js\").default} [tileClass] Class used to instantiate image tiles.\n * Default is {@link module:ol/ImageTile~ImageTile}.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service. For example, if the tile\n * service advertizes 256px by 256px tiles but actually sends 512px\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n * should be set to `2`.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get tile URL given a tile coordinate and the projection.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\n * used instead of defining each one separately in the `urls` option.\n * @property {Array<string>} [urls] An array of URL templates.\n * @property {boolean} [wrapX] Whether to wrap the world horizontally. The default, is to\n * request out-of-bounds tiles from the server. When set to `false`, only one\n * world will be rendered. When set to `true`, tiles will be requested for one\n * world only, but they will be wrapped horizontally to render multiple worlds.\n * @property {number} [transition] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [key] Optional tile key for proper cache fetching\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Base class for sources providing images divided into a tile grid.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n * @api\n */\nvar TileImage = /** @class */ (function (_super) {\n    __extends(TileImage, _super);\n    /**\n     * @param {!Options} options Image tile options.\n     */\n    function TileImage(options) {\n        var _this = this;\n        var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n        if (options.interpolate !== undefined) {\n            interpolate = options.interpolate;\n        }\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            opaque: options.opaque,\n            projection: options.projection,\n            state: options.state,\n            tileGrid: options.tileGrid,\n            tileLoadFunction: options.tileLoadFunction\n                ? options.tileLoadFunction\n                : defaultTileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            tileUrlFunction: options.tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX,\n            transition: options.transition,\n            interpolate: interpolate,\n            key: options.key,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @protected\n         * @type {?string}\n         */\n        _this.crossOrigin =\n            options.crossOrigin !== undefined ? options.crossOrigin : null;\n        /**\n         * @protected\n         * @type {typeof ImageTile}\n         */\n        _this.tileClass =\n            options.tileClass !== undefined ? options.tileClass : ImageTile;\n        /**\n         * @protected\n         * @type {!Object<string, TileCache>}\n         */\n        _this.tileCacheForProjection = {};\n        /**\n         * @protected\n         * @type {!Object<string, import(\"../tilegrid/TileGrid.js\").default>}\n         */\n        _this.tileGridForProjection = {};\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.reprojectionErrorThreshold_ = options.reprojectionErrorThreshold;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderReprojectionEdges_ = false;\n        return _this;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileImage.prototype.canExpireCache = function () {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.canExpireCache.call(this);\n        }\n        if (this.tileCache.canExpireCache()) {\n            return true;\n        }\n        else {\n            for (var key in this.tileCacheForProjection) {\n                if (this.tileCacheForProjection[key].canExpireCache()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileImage.prototype.expireCache = function (projection, usedTiles) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            _super.prototype.expireCache.call(this, projection, usedTiles);\n            return;\n        }\n        var usedTileCache = this.getTileCacheForProjection(projection);\n        this.tileCache.expireCache(this.tileCache == usedTileCache ? usedTiles : {});\n        for (var id in this.tileCacheForProjection) {\n            var tileCache = this.tileCacheForProjection[id];\n            tileCache.expireCache(tileCache == usedTileCache ? usedTiles : {});\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutterForProjection = function (projection) {\n        if (ENABLE_RASTER_REPROJECTION &&\n            this.getProjection() &&\n            projection &&\n            !equivalent(this.getProjection(), projection)) {\n            return 0;\n        }\n        else {\n            return this.getGutter();\n        }\n    };\n    /**\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutter = function () {\n        return 0;\n    };\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     */\n    TileImage.prototype.getKey = function () {\n        var key = _super.prototype.getKey.call(this);\n        if (!this.getInterpolate()) {\n            key += ':disable-interpolation';\n        }\n        return key;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileImage.prototype.getOpaque = function (projection) {\n        if (ENABLE_RASTER_REPROJECTION &&\n            this.getProjection() &&\n            projection &&\n            !equivalent(this.getProjection(), projection)) {\n            return false;\n        }\n        else {\n            return _super.prototype.getOpaque.call(this, projection);\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileImage.prototype.getTileGridForProjection = function (projection) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.getTileGridForProjection.call(this, projection);\n        }\n        var thisProj = this.getProjection();\n        if (this.tileGrid && (!thisProj || equivalent(thisProj, projection))) {\n            return this.tileGrid;\n        }\n        else {\n            var projKey = getUid(projection);\n            if (!(projKey in this.tileGridForProjection)) {\n                this.tileGridForProjection[projKey] =\n                    getTileGridForProjection(projection);\n            }\n            return this.tileGridForProjection[projKey];\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     */\n    TileImage.prototype.getTileCacheForProjection = function (projection) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.getTileCacheForProjection.call(this, projection);\n        }\n        var thisProj = this.getProjection();\n        if (!thisProj || equivalent(thisProj, projection)) {\n            return this.tileCache;\n        }\n        else {\n            var projKey = getUid(projection);\n            if (!(projKey in this.tileCacheForProjection)) {\n                this.tileCacheForProjection[projKey] = new TileCache(this.tileCache.highWaterMark);\n            }\n            return this.tileCacheForProjection[projKey];\n        }\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {string} key The key set on the tile.\n     * @return {!ImageTile} Tile.\n     * @private\n     */\n    TileImage.prototype.createTile_ = function (z, x, y, pixelRatio, projection, key) {\n        var tileCoord = [z, x, y];\n        var urlTileCoord = this.getTileCoordForTileUrlFunction(tileCoord, projection);\n        var tileUrl = urlTileCoord\n            ? this.tileUrlFunction(urlTileCoord, pixelRatio, projection)\n            : undefined;\n        var tile = new this.tileClass(tileCoord, tileUrl !== undefined ? TileState.IDLE : TileState.EMPTY, tileUrl !== undefined ? tileUrl : '', this.crossOrigin, this.tileLoadFunction, this.tileOptions);\n        tile.key = key;\n        tile.addEventListener(EventType.CHANGE, this.handleTileChange.bind(this));\n        return tile;\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!(ImageTile|ReprojTile)} Tile.\n     */\n    TileImage.prototype.getTile = function (z, x, y, pixelRatio, projection) {\n        var sourceProjection = this.getProjection();\n        if (!ENABLE_RASTER_REPROJECTION ||\n            !sourceProjection ||\n            !projection ||\n            equivalent(sourceProjection, projection)) {\n            return this.getTileInternal(z, x, y, pixelRatio, sourceProjection || projection);\n        }\n        else {\n            var cache = this.getTileCacheForProjection(projection);\n            var tileCoord = [z, x, y];\n            var tile = void 0;\n            var tileCoordKey = getKey(tileCoord);\n            if (cache.containsKey(tileCoordKey)) {\n                tile = cache.get(tileCoordKey);\n            }\n            var key = this.getKey();\n            if (tile && tile.key == key) {\n                return tile;\n            }\n            else {\n                var sourceTileGrid = this.getTileGridForProjection(sourceProjection);\n                var targetTileGrid = this.getTileGridForProjection(projection);\n                var wrappedTileCoord = this.getTileCoordForTileUrlFunction(tileCoord, projection);\n                var newTile = new ReprojTile(sourceProjection, sourceTileGrid, projection, targetTileGrid, tileCoord, wrappedTileCoord, this.getTilePixelRatio(pixelRatio), this.getGutter(), function (z, x, y, pixelRatio) {\n                    return this.getTileInternal(z, x, y, pixelRatio, sourceProjection);\n                }.bind(this), this.reprojectionErrorThreshold_, this.renderReprojectionEdges_, this.getInterpolate());\n                newTile.key = key;\n                if (tile) {\n                    newTile.interimTile = tile;\n                    newTile.refreshInterimChain();\n                    cache.replace(tileCoordKey, newTile);\n                }\n                else {\n                    cache.set(tileCoordKey, newTile);\n                }\n                return newTile;\n            }\n        }\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {!import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!(ImageTile|ReprojTile)} Tile.\n     * @protected\n     */\n    TileImage.prototype.getTileInternal = function (z, x, y, pixelRatio, projection) {\n        var tile = null;\n        var tileCoordKey = getKeyZXY(z, x, y);\n        var key = this.getKey();\n        if (!this.tileCache.containsKey(tileCoordKey)) {\n            tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n            this.tileCache.set(tileCoordKey, tile);\n        }\n        else {\n            tile = this.tileCache.get(tileCoordKey);\n            if (tile.key != key) {\n                // The source's params changed. If the tile has an interim tile and if we\n                // can use it then we use it. Otherwise we create a new tile.  In both\n                // cases we attempt to assign an interim tile to the new tile.\n                var interimTile = tile;\n                tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n                //make the new tile the head of the list,\n                if (interimTile.getState() == TileState.IDLE) {\n                    //the old tile hasn't begun loading yet, and is now outdated, so we can simply discard it\n                    tile.interimTile = interimTile.interimTile;\n                }\n                else {\n                    tile.interimTile = interimTile;\n                }\n                tile.refreshInterimChain();\n                this.tileCache.replace(tileCoordKey, tile);\n            }\n        }\n        return tile;\n    };\n    /**\n     * Sets whether to render reprojection edges or not (usually for debugging).\n     * @param {boolean} render Render the edges.\n     * @api\n     */\n    TileImage.prototype.setRenderReprojectionEdges = function (render) {\n        if (!ENABLE_RASTER_REPROJECTION ||\n            this.renderReprojectionEdges_ == render) {\n            return;\n        }\n        this.renderReprojectionEdges_ = render;\n        for (var id in this.tileCacheForProjection) {\n            this.tileCacheForProjection[id].clear();\n        }\n        this.changed();\n    };\n    /**\n     * Sets the tile grid to use when reprojecting the tiles to the given\n     * projection instead of the default tile grid for the projection.\n     *\n     * This can be useful when the default tile grid cannot be created\n     * (e.g. projection has no extent defined) or\n     * for optimization reasons (custom tile size, resolutions, ...).\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tilegrid Tile grid to use for the projection.\n     * @api\n     */\n    TileImage.prototype.setTileGridForProjection = function (projection, tilegrid) {\n        if (ENABLE_RASTER_REPROJECTION) {\n            var proj = getProjection(projection);\n            if (proj) {\n                var projKey = getUid(proj);\n                if (!(projKey in this.tileGridForProjection)) {\n                    this.tileGridForProjection[projKey] = tilegrid;\n                }\n            }\n        }\n    };\n    return TileImage;\n}(UrlTile));\n/**\n * @param {ImageTile} imageTile Image tile.\n * @param {string} src Source.\n */\nfunction defaultTileLoadFunction(imageTile, src) {\n    /** @type {HTMLImageElement|HTMLVideoElement} */ (imageTile.getImage()).src =\n        src;\n}\nexport default TileImage;\n//# sourceMappingURL=TileImage.js.map","/**\n * @module ol/source/Vector\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RBush from '../structs/RBush.js';\nimport Source from './Source.js';\nimport SourceState from './State.js';\nimport VectorEventType from './VectorEventType.js';\nimport { TRUE, VOID } from '../functions.js';\nimport { all as allStrategy } from '../loadingstrategy.js';\nimport { assert } from '../asserts.js';\nimport { containsExtent, equals } from '../extent.js';\nimport { extend } from '../array.js';\nimport { getUid } from '../util.js';\nimport { getValues, isEmpty } from '../obj.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { xhr } from '../featureloader.js';\n/**\n * A function that takes an {@link module:ol/extent~Extent} and a resolution as arguments, and\n * returns an array of {@link module:ol/extent~Extent} with the extents to load. Usually this\n * is one of the standard {@link module:ol/loadingstrategy} strategies.\n *\n * @typedef {function(import(\"../extent.js\").Extent, number, import(\"../proj/Projection.js\").default): Array<import(\"../extent.js\").Extent>} LoadingStrategy\n * @api\n */\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Vector~VectorSource} instances are instances of this\n * type.\n * @template {import(\"../geom/Geometry.js\").default} [Geometry=import(\"../geom/Geometry.js\").default]\n */\nvar VectorSourceEvent = /** @class */ (function (_super) {\n    __extends(VectorSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Feature.js\").default<Geometry>} [opt_feature] Feature.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} [opt_features] Features.\n     */\n    function VectorSourceEvent(type, opt_feature, opt_features) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The added or removed feature for the `ADDFEATURE` and `REMOVEFEATURE` events, `undefined` otherwise.\n         * @type {import(\"../Feature.js\").default<Geometry>|undefined}\n         * @api\n         */\n        _this.feature = opt_feature;\n        /**\n         * The loaded features for the `FEATURESLOADED` event, `undefined` otherwise.\n         * @type {Array<import(\"../Feature.js\").default<Geometry>>|undefined}\n         * @api\n         */\n        _this.features = opt_features;\n        return _this;\n    }\n    return VectorSourceEvent;\n}(Event));\nexport { VectorSourceEvent };\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./VectorEventType\").VectorSourceEventTypes, VectorSourceEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     import(\"./VectorEventType\").VectorSourceEventTypes, Return>} VectorSourceOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {Array<import(\"../Feature.js\").default>|Collection<import(\"../Feature.js\").default>} [features]\n * Features. If provided as {@link module:ol/Collection~Collection}, the features in the source\n * and the collection will stay in sync.\n * @property {import(\"../format/Feature.js\").default} [format] The feature format used by the XHR\n * feature loader when `url` is set. Required if `url` is set, otherwise ignored.\n * @property {import(\"../featureloader.js\").FeatureLoader} [loader]\n * The loader function used to load features, from a remote source for example.\n * If this is not set and `url` is set, the source will create and use an XHR\n * feature loader. The `'featuresloadend'` and `'featuresloaderror'` events\n * will only fire if the `success` and `failure` callbacks are used.\n *\n * Example:\n *\n * ```js\n * import {Vector} from 'ol/source';\n * import {GeoJSON} from 'ol/format';\n * import {bbox} from 'ol/loadingstrategy';\n *\n * var vectorSource = new Vector({\n *   format: new GeoJSON(),\n *   loader: function(extent, resolution, projection, success, failure) {\n *      var proj = projection.getCode();\n *      var url = 'https://ahocevar.com/geoserver/wfs?service=WFS&' +\n *          'version=1.1.0&request=GetFeature&typename=osm:water_areas&' +\n *          'outputFormat=application/json&srsname=' + proj + '&' +\n *          'bbox=' + extent.join(',') + ',' + proj;\n *      var xhr = new XMLHttpRequest();\n *      xhr.open('GET', url);\n *      var onError = function() {\n *        vectorSource.removeLoadedExtent(extent);\n *        failure();\n *      }\n *      xhr.onerror = onError;\n *      xhr.onload = function() {\n *        if (xhr.status == 200) {\n *          var features = vectorSource.getFormat().readFeatures(xhr.responseText);\n *          vectorSource.addFeatures(features);\n *          success(features);\n *        } else {\n *          onError();\n *        }\n *      }\n *      xhr.send();\n *    },\n *    strategy: bbox\n *  });\n * ```\n * @property {boolean} [overlaps=true] This source may have overlapping geometries.\n * Setting this to `false` (e.g. for sources with polygons that represent administrative\n * boundaries or TopoJSON sources) allows the renderer to optimise fill and\n * stroke operations.\n * @property {LoadingStrategy} [strategy] The loading strategy to use.\n * By default an {@link module:ol/loadingstrategy.all}\n * strategy is used, a one-off strategy which loads all features at once.\n * @property {string|import(\"../featureloader.js\").FeatureUrlFunction} [url]\n * Setting this option instructs the source to load features using an XHR loader\n * (see {@link module:ol/featureloader.xhr}). Use a `string` and an\n * {@link module:ol/loadingstrategy.all} for a one-off download of all features from\n * the given URL. Use a {@link module:ol/featureloader~FeatureUrlFunction} to generate the url with\n * other loading strategies.\n * Requires `format` to be set as well.\n * When default XHR feature loader is provided, the features will\n * be transformed from the data projection to the view projection\n * during parsing. If your remote data source does not advertise its projection\n * properly, this transformation will be incorrect. For some formats, the\n * default projection (usually EPSG:4326) can be overridden by setting the\n * dataProjection constructor option on the format.\n * Note that if a source contains non-feature data, such as a GeoJSON geometry\n * or a KML NetworkLink, these will be ignored. Use a custom loader to load these.\n * @property {boolean} [useSpatialIndex=true]\n * By default, an RTree is used as spatial index. When features are removed and\n * added frequently, and the total number of features is low, setting this to\n * `false` may improve performance.\n *\n * Note that\n * {@link module:ol/source/Vector~VectorSource#getFeaturesInExtent},\n * {@link module:ol/source/Vector~VectorSource#getClosestFeatureToCoordinate} and\n * {@link module:ol/source/Vector~VectorSource#getExtent} cannot be used when `useSpatialIndex` is\n * set to `false`, and {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent} will loop\n * through all features.\n *\n * When set to `false`, the features will be maintained in an\n * {@link module:ol/Collection~Collection}, which can be retrieved through\n * {@link module:ol/source/Vector~VectorSource#getFeaturesCollection}.\n * @property {boolean} [wrapX=true] Wrap the world horizontally. For vector editing across the\n * -180 and 180 meridians to work properly, this should be set to `false`. The\n * resulting geometry coordinates will then exceed the world bounds.\n */\n/**\n * @classdesc\n * Provides a source of features for vector layers. Vector features provided\n * by this source are suitable for editing. See {@link module:ol/source/VectorTile~VectorTile} for\n * vector data that is optimized for rendering.\n *\n * @fires VectorSourceEvent\n * @api\n * @template {import(\"../geom/Geometry.js\").default} [Geometry=import(\"../geom/Geometry.js\").default]\n */\nvar VectorSource = /** @class */ (function (_super) {\n    __extends(VectorSource, _super);\n    /**\n     * @param {Options} [opt_options] Vector source options.\n     */\n    function VectorSource(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            interpolate: true,\n            projection: undefined,\n            state: SourceState.READY,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n        }) || this;\n        /***\n         * @type {VectorSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {VectorSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {VectorSourceOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {import(\"../featureloader.js\").FeatureLoader}\n         */\n        _this.loader_ = VOID;\n        /**\n         * @private\n         * @type {import(\"../format/Feature.js\").default|undefined}\n         */\n        _this.format_ = options.format;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overlaps_ = options.overlaps === undefined ? true : options.overlaps;\n        /**\n         * @private\n         * @type {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined}\n         */\n        _this.url_ = options.url;\n        if (options.loader !== undefined) {\n            _this.loader_ = options.loader;\n        }\n        else if (_this.url_ !== undefined) {\n            assert(_this.format_, 7); // `format` must be set when `url` is set\n            // create a XHR feature loader for \"url\" and \"format\"\n            _this.loader_ = xhr(_this.url_, \n            /** @type {import(\"../format/Feature.js\").default} */ (_this.format_));\n        }\n        /**\n         * @private\n         * @type {LoadingStrategy}\n         */\n        _this.strategy_ =\n            options.strategy !== undefined ? options.strategy : allStrategy;\n        var useSpatialIndex = options.useSpatialIndex !== undefined ? options.useSpatialIndex : true;\n        /**\n         * @private\n         * @type {RBush<import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.featuresRtree_ = useSpatialIndex ? new RBush() : null;\n        /**\n         * @private\n         * @type {RBush<{extent: import(\"../extent.js\").Extent}>}\n         */\n        _this.loadedExtentsRtree_ = new RBush();\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.loadingExtentsCount_ = 0;\n        /**\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.nullGeometryFeatures_ = {};\n        /**\n         * A lookup of features by id (the return from feature.getId()).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.idIndex_ = {};\n        /**\n         * A lookup of features by uid (using getUid(feature)).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.uidIndex_ = {};\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n         */\n        _this.featureChangeKeys_ = {};\n        /**\n         * @private\n         * @type {Collection<import(\"../Feature.js\").default<Geometry>>|null}\n         */\n        _this.featuresCollection_ = null;\n        var collection, features;\n        if (Array.isArray(options.features)) {\n            features =\n                /** @type {Array<import(\"../Feature.js\").default<Geometry>>} */ (options.features);\n        }\n        else if (options.features) {\n            collection =\n                /** @type {Collection<import(\"../Feature.js\").default<Geometry>>} */ (options.features);\n            features = collection.getArray();\n        }\n        if (!useSpatialIndex && collection === undefined) {\n            collection = new Collection(features);\n        }\n        if (features !== undefined) {\n            _this.addFeaturesInternal(features);\n        }\n        if (collection !== undefined) {\n            _this.bindFeaturesCollection_(collection);\n        }\n        return _this;\n    }\n    /**\n     * Add a single feature to the source.  If you want to add a batch of features\n     * at once, call {@link module:ol/source/Vector~VectorSource#addFeatures #addFeatures()}\n     * instead. A feature will not be added to the source if feature with\n     * the same id is already there. The reason for this behavior is to avoid\n     * feature duplication when using bbox or tile loading strategies.\n     * Note: this also applies if an {@link module:ol/Collection~Collection} is used for features,\n     * meaning that if a feature with a duplicate id is added in the collection, it will\n     * be removed from it right away.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to add.\n     * @api\n     */\n    VectorSource.prototype.addFeature = function (feature) {\n        this.addFeatureInternal(feature);\n        this.changed();\n    };\n    /**\n     * Add a feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.addFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        if (!this.addToIndex_(featureKey, feature)) {\n            if (this.featuresCollection_) {\n                this.featuresCollection_.remove(feature);\n            }\n            return;\n        }\n        this.setupChangeEvents_(featureKey, feature);\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            var extent = geometry.getExtent();\n            if (this.featuresRtree_) {\n                this.featuresRtree_.insert(extent, feature);\n            }\n        }\n        else {\n            this.nullGeometryFeatures_[featureKey] = feature;\n        }\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, feature));\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @private\n     */\n    VectorSource.prototype.setupChangeEvents_ = function (featureKey, feature) {\n        this.featureChangeKeys_[featureKey] = [\n            listen(feature, EventType.CHANGE, this.handleFeatureChange_, this),\n            listen(feature, ObjectEventType.PROPERTYCHANGE, this.handleFeatureChange_, this),\n        ];\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} The feature is \"valid\", in the sense that it is also a\n     *     candidate for insertion into the Rtree.\n     * @private\n     */\n    VectorSource.prototype.addToIndex_ = function (featureKey, feature) {\n        var valid = true;\n        var id = feature.getId();\n        if (id !== undefined) {\n            if (!(id.toString() in this.idIndex_)) {\n                this.idIndex_[id.toString()] = feature;\n            }\n            else {\n                valid = false;\n            }\n        }\n        if (valid) {\n            assert(!(featureKey in this.uidIndex_), 30); // The passed `feature` was already added to the source\n            this.uidIndex_[featureKey] = feature;\n        }\n        return valid;\n    };\n    /**\n     * Add a batch of features to the source.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features to add.\n     * @api\n     */\n    VectorSource.prototype.addFeatures = function (features) {\n        this.addFeaturesInternal(features);\n        this.changed();\n    };\n    /**\n     * Add features without firing a `change` event.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features.\n     * @protected\n     */\n    VectorSource.prototype.addFeaturesInternal = function (features) {\n        var extents = [];\n        var newFeatures = [];\n        var geometryFeatures = [];\n        for (var i = 0, length_1 = features.length; i < length_1; i++) {\n            var feature = features[i];\n            var featureKey = getUid(feature);\n            if (this.addToIndex_(featureKey, feature)) {\n                newFeatures.push(feature);\n            }\n        }\n        for (var i = 0, length_2 = newFeatures.length; i < length_2; i++) {\n            var feature = newFeatures[i];\n            var featureKey = getUid(feature);\n            this.setupChangeEvents_(featureKey, feature);\n            var geometry = feature.getGeometry();\n            if (geometry) {\n                var extent = geometry.getExtent();\n                extents.push(extent);\n                geometryFeatures.push(feature);\n            }\n            else {\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.load(extents, geometryFeatures);\n        }\n        if (this.hasListener(VectorEventType.ADDFEATURE)) {\n            for (var i = 0, length_3 = newFeatures.length; i < length_3; i++) {\n                this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, newFeatures[i]));\n            }\n        }\n    };\n    /**\n     * @param {!Collection<import(\"../Feature.js\").default<Geometry>>} collection Collection.\n     * @private\n     */\n    VectorSource.prototype.bindFeaturesCollection_ = function (collection) {\n        var modifyingCollection = false;\n        this.addEventListener(VectorEventType.ADDFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.push(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        this.addEventListener(VectorEventType.REMOVEFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.remove(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        collection.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.addFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        collection.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.removeFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        this.featuresCollection_ = collection;\n    };\n    /**\n     * Remove all features from the source.\n     * @param {boolean} [opt_fast] Skip dispatching of {@link module:ol/source/Vector.VectorSourceEvent#event:removefeature removefeature} events.\n     * @api\n     */\n    VectorSource.prototype.clear = function (opt_fast) {\n        if (opt_fast) {\n            for (var featureId in this.featureChangeKeys_) {\n                var keys = this.featureChangeKeys_[featureId];\n                keys.forEach(unlistenByKey);\n            }\n            if (!this.featuresCollection_) {\n                this.featureChangeKeys_ = {};\n                this.idIndex_ = {};\n                this.uidIndex_ = {};\n            }\n        }\n        else {\n            if (this.featuresRtree_) {\n                var removeAndIgnoreReturn = function (feature) {\n                    this.removeFeatureInternal(feature);\n                }.bind(this);\n                this.featuresRtree_.forEach(removeAndIgnoreReturn);\n                for (var id in this.nullGeometryFeatures_) {\n                    this.removeFeatureInternal(this.nullGeometryFeatures_[id]);\n                }\n            }\n        }\n        if (this.featuresCollection_) {\n            this.featuresCollection_.clear();\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.clear();\n        }\n        this.nullGeometryFeatures_ = {};\n        var clearEvent = new VectorSourceEvent(VectorEventType.CLEAR);\n        this.dispatchEvent(clearEvent);\n        this.changed();\n    };\n    /**\n     * Iterate through all features on the source, calling the provided callback\n     * with each one.  If the callback returns any \"truthy\" value, iteration will\n     * stop and the function will return the same value.\n     * Note: this function only iterate through the feature that have a defined geometry.\n     *\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     on the source.  Return a truthy value to stop iteration.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeature = function (callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEach(callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometries contain the provided\n     * coordinate, calling the callback with each feature.  If the callback returns\n     * a \"truthy\" value, iteration will stop and the function will return the same\n     * value.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose goemetry contains the provided coordinate.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     */\n    VectorSource.prototype.forEachFeatureAtCoordinateDirect = function (coordinate, callback) {\n        var extent = [coordinate[0], coordinate[1], coordinate[0], coordinate[1]];\n        return this.forEachFeatureInExtent(extent, function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsCoordinate(coordinate)) {\n                return callback(feature);\n            }\n            else {\n                return undefined;\n            }\n        });\n    };\n    /**\n     * Iterate through all features whose bounding box intersects the provided\n     * extent (note that the feature's geometry may not intersect the extent),\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you are interested in features whose geometry intersects an extent, call\n     * the {@link module:ol/source/Vector~VectorSource#forEachFeatureIntersectingExtent #forEachFeatureIntersectingExtent()} method instead.\n     *\n     * When `useSpatialIndex` is set to false, this method will loop through all\n     * features, equivalent to {@link module:ol/source/Vector~VectorSource#forEachFeature #forEachFeature()}.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose bounding box intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureInExtent = function (extent, callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEachInExtent(extent, callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometry intersects the provided extent,\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you only want to test for bounding box intersection, call the\n     * {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent #forEachFeatureInExtent()} method instead.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose geometry intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureIntersectingExtent = function (extent, callback) {\n        return this.forEachFeatureInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         * @return {T|undefined} The return value from the last call to the callback.\n         */\n        function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsExtent(extent)) {\n                var result = callback(feature);\n                if (result) {\n                    return result;\n                }\n            }\n        });\n    };\n    /**\n     * Get the features collection associated with this source. Will be `null`\n     * unless the source was configured with `useSpatialIndex` set to `false`, or\n     * with an {@link module:ol/Collection~Collection} as `features`.\n     * @return {Collection<import(\"../Feature.js\").default<Geometry>>|null} The collection of features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesCollection = function () {\n        return this.featuresCollection_;\n    };\n    /**\n     * Get a snapshot of the features currently on the source in random order. The returned array\n     * is a copy, the features are references to the features in the source.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeatures = function () {\n        var features;\n        if (this.featuresCollection_) {\n            features = this.featuresCollection_.getArray().slice(0);\n        }\n        else if (this.featuresRtree_) {\n            features = this.featuresRtree_.getAll();\n            if (!isEmpty(this.nullGeometryFeatures_)) {\n                extend(features, getValues(this.nullGeometryFeatures_));\n            }\n        }\n        return /** @type {Array<import(\"../Feature.js\").default<Geometry>>} */ (features);\n    };\n    /**\n     * Get all features whose geometry intersects the provided coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesAtCoordinate = function (coordinate) {\n        var features = [];\n        this.forEachFeatureAtCoordinateDirect(coordinate, function (feature) {\n            features.push(feature);\n        });\n        return features;\n    };\n    /**\n     * Get all features whose bounding box intersects the provided extent.  Note that this returns an array of\n     * all features intersecting the given extent in random order (so it may include\n     * features whose geometries do not intersect the extent).\n     *\n     * When `useSpatialIndex` is set to false, this method will return all\n     * features.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesInExtent = function (extent) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.getInExtent(extent);\n        }\n        else if (this.featuresCollection_) {\n            return this.featuresCollection_.getArray().slice(0);\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Get the closest feature to the provided coordinate.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>):boolean} [opt_filter] Feature filter function.\n     *     The filter function will receive one argument, the {@link module:ol/Feature~Feature feature}\n     *     and it should return a boolean value. By default, no filtering is made.\n     * @return {import(\"../Feature.js\").default<Geometry>} Closest feature.\n     * @api\n     */\n    VectorSource.prototype.getClosestFeatureToCoordinate = function (coordinate, opt_filter) {\n        // Find the closest feature using branch and bound.  We start searching an\n        // infinite extent, and find the distance from the first feature found.  This\n        // becomes the closest feature.  We then compute a smaller extent which any\n        // closer feature must intersect.  We continue searching with this smaller\n        // extent, trying to find a closer feature.  Every time we find a closer\n        // feature, we update the extent being searched so that any even closer\n        // feature must intersect it.  We continue until we run out of features.\n        var x = coordinate[0];\n        var y = coordinate[1];\n        var closestFeature = null;\n        var closestPoint = [NaN, NaN];\n        var minSquaredDistance = Infinity;\n        var extent = [-Infinity, -Infinity, Infinity, Infinity];\n        var filter = opt_filter ? opt_filter : TRUE;\n        this.featuresRtree_.forEachInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         */\n        function (feature) {\n            if (filter(feature)) {\n                var geometry = feature.getGeometry();\n                var previousMinSquaredDistance = minSquaredDistance;\n                minSquaredDistance = geometry.closestPointXY(x, y, closestPoint, minSquaredDistance);\n                if (minSquaredDistance < previousMinSquaredDistance) {\n                    closestFeature = feature;\n                    // This is sneaky.  Reduce the extent that it is currently being\n                    // searched while the R-Tree traversal using this same extent object\n                    // is still in progress.  This is safe because the new extent is\n                    // strictly contained by the old extent.\n                    var minDistance = Math.sqrt(minSquaredDistance);\n                    extent[0] = x - minDistance;\n                    extent[1] = y - minDistance;\n                    extent[2] = x + minDistance;\n                    extent[3] = y + minDistance;\n                }\n            }\n        });\n        return closestFeature;\n    };\n    /**\n     * Get the extent of the features currently in the source.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Destination extent. If provided, no new extent\n     *     will be created. Instead, that extent's coordinates will be overwritten.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    VectorSource.prototype.getExtent = function (opt_extent) {\n        return this.featuresRtree_.getExtent(opt_extent);\n    };\n    /**\n     * Get a feature by its identifier (the value returned by feature.getId()).\n     * Note that the index treats string and numeric identifiers as the same.  So\n     * `source.getFeatureById(2)` will return a feature with id `'2'` or `2`.\n     *\n     * @param {string|number} id Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>|null} The feature (or `null` if not found).\n     * @api\n     */\n    VectorSource.prototype.getFeatureById = function (id) {\n        var feature = this.idIndex_[id.toString()];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get a feature by its internal unique identifier (using `getUid`).\n     *\n     * @param {string} uid Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>|null} The feature (or `null` if not found).\n     */\n    VectorSource.prototype.getFeatureByUid = function (uid) {\n        var feature = this.uidIndex_[uid];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get the format associated with this source.\n     *\n     * @return {import(\"../format/Feature.js\").default|undefined} The feature format.\n     * @api\n     */\n    VectorSource.prototype.getFormat = function () {\n        return this.format_;\n    };\n    /**\n     * @return {boolean} The source can have overlapping geometries.\n     */\n    VectorSource.prototype.getOverlaps = function () {\n        return this.overlaps_;\n    };\n    /**\n     * Get the url associated with this source.\n     *\n     * @return {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined} The url.\n     * @api\n     */\n    VectorSource.prototype.getUrl = function () {\n        return this.url_;\n    };\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    VectorSource.prototype.handleFeatureChange_ = function (event) {\n        var feature = /** @type {import(\"../Feature.js\").default<Geometry>} */ (event.target);\n        var featureKey = getUid(feature);\n        var geometry = feature.getGeometry();\n        if (!geometry) {\n            if (!(featureKey in this.nullGeometryFeatures_)) {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.remove(feature);\n                }\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        else {\n            var extent = geometry.getExtent();\n            if (featureKey in this.nullGeometryFeatures_) {\n                delete this.nullGeometryFeatures_[featureKey];\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.insert(extent, feature);\n                }\n            }\n            else {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.update(extent, feature);\n                }\n            }\n        }\n        var id = feature.getId();\n        if (id !== undefined) {\n            var sid = id.toString();\n            if (this.idIndex_[sid] !== feature) {\n                this.removeFromIdIndex_(feature);\n                this.idIndex_[sid] = feature;\n            }\n        }\n        else {\n            this.removeFromIdIndex_(feature);\n            this.uidIndex_[featureKey] = feature;\n        }\n        this.changed();\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.CHANGEFEATURE, feature));\n    };\n    /**\n     * Returns true if the feature is contained within the source.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @return {boolean} Has feature.\n     * @api\n     */\n    VectorSource.prototype.hasFeature = function (feature) {\n        var id = feature.getId();\n        if (id !== undefined) {\n            return id in this.idIndex_;\n        }\n        else {\n            return getUid(feature) in this.uidIndex_;\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    VectorSource.prototype.isEmpty = function () {\n        if (this.featuresRtree_) {\n            return (this.featuresRtree_.isEmpty() && isEmpty(this.nullGeometryFeatures_));\n        }\n        if (this.featuresCollection_) {\n            return this.featuresCollection_.getLength() === 0;\n        }\n        return true;\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    VectorSource.prototype.loadFeatures = function (extent, resolution, projection) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var extentsToLoad = this.strategy_(extent, resolution, projection);\n        var _loop_1 = function (i, ii) {\n            var extentToLoad = extentsToLoad[i];\n            var alreadyLoaded = loadedExtentsRtree.forEachInExtent(extentToLoad, \n            /**\n             * @param {{extent: import(\"../extent.js\").Extent}} object Object.\n             * @return {boolean} Contains.\n             */\n            function (object) {\n                return containsExtent(object.extent, extentToLoad);\n            });\n            if (!alreadyLoaded) {\n                ++this_1.loadingExtentsCount_;\n                this_1.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADSTART));\n                this_1.loader_.call(this_1, extentToLoad, resolution, projection, function (features) {\n                    --this.loadingExtentsCount_;\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADEND, undefined, features));\n                }.bind(this_1), function () {\n                    --this.loadingExtentsCount_;\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADERROR));\n                }.bind(this_1));\n                loadedExtentsRtree.insert(extentToLoad, { extent: extentToLoad.slice() });\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, ii = extentsToLoad.length; i < ii; ++i) {\n            _loop_1(i, ii);\n        }\n        this.loading =\n            this.loader_.length < 4 ? false : this.loadingExtentsCount_ > 0;\n    };\n    VectorSource.prototype.refresh = function () {\n        this.clear(true);\n        this.loadedExtentsRtree_.clear();\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Remove an extent from the list of loaded extents.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    VectorSource.prototype.removeLoadedExtent = function (extent) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var obj;\n        loadedExtentsRtree.forEachInExtent(extent, function (object) {\n            if (equals(object.extent, extent)) {\n                obj = object;\n                return true;\n            }\n        });\n        if (obj) {\n            loadedExtentsRtree.remove(obj);\n        }\n    };\n    /**\n     * Remove a single feature from the source.  If you want to remove all features\n     * at once, use the {@link module:ol/source/Vector~VectorSource#clear #clear()} method\n     * instead.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to remove.\n     * @api\n     */\n    VectorSource.prototype.removeFeature = function (feature) {\n        if (!feature) {\n            return;\n        }\n        var featureKey = getUid(feature);\n        if (featureKey in this.nullGeometryFeatures_) {\n            delete this.nullGeometryFeatures_[featureKey];\n        }\n        else {\n            if (this.featuresRtree_) {\n                this.featuresRtree_.remove(feature);\n            }\n        }\n        var result = this.removeFeatureInternal(feature);\n        if (result) {\n            this.changed();\n        }\n    };\n    /**\n     * Remove feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @return {import(\"../Feature.js\").default<Geometry>|undefined} The removed feature\n     *     (or undefined if the feature was not found).\n     * @protected\n     */\n    VectorSource.prototype.removeFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        var featureChangeKeys = this.featureChangeKeys_[featureKey];\n        if (!featureChangeKeys) {\n            return;\n        }\n        featureChangeKeys.forEach(unlistenByKey);\n        delete this.featureChangeKeys_[featureKey];\n        var id = feature.getId();\n        if (id !== undefined) {\n            delete this.idIndex_[id.toString()];\n        }\n        delete this.uidIndex_[featureKey];\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.REMOVEFEATURE, feature));\n        return feature;\n    };\n    /**\n     * Remove a feature from the id index.  Called internally when the feature id\n     * may have changed.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} Removed the feature from the index.\n     * @private\n     */\n    VectorSource.prototype.removeFromIdIndex_ = function (feature) {\n        var removed = false;\n        for (var id in this.idIndex_) {\n            if (this.idIndex_[id] === feature) {\n                delete this.idIndex_[id];\n                removed = true;\n                break;\n            }\n        }\n        return removed;\n    };\n    /**\n     * Set the new loader of the source. The next render cycle will use the\n     * new loader.\n     * @param {import(\"../featureloader.js\").FeatureLoader} loader The loader to set.\n     * @api\n     */\n    VectorSource.prototype.setLoader = function (loader) {\n        this.loader_ = loader;\n    };\n    /**\n     * Points the source to a new url. The next render cycle will use the new url.\n     * @param {string|import(\"../featureloader.js\").FeatureUrlFunction} url Url.\n     * @api\n     */\n    VectorSource.prototype.setUrl = function (url) {\n        assert(this.format_, 7); // `format` must be set when `url` is set\n        this.url_ = url;\n        this.setLoader(xhr(url, this.format_));\n    };\n    return VectorSource;\n}(Source));\nexport default VectorSource;\n//# sourceMappingURL=Vector.js.map","/**\n * @module ol/source/VectorEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a feature is added to the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#addfeature\n     * @api\n     */\n    ADDFEATURE: 'addfeature',\n    /**\n     * Triggered when a feature is updated.\n     * @event module:ol/source/Vector.VectorSourceEvent#changefeature\n     * @api\n     */\n    CHANGEFEATURE: 'changefeature',\n    /**\n     * Triggered when the clear method is called on the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#clear\n     * @api\n     */\n    CLEAR: 'clear',\n    /**\n     * Triggered when a feature is removed from the source.\n     * See {@link module:ol/source/Vector~VectorSource#clear source.clear()} for exceptions.\n     * @event module:ol/source/Vector.VectorSourceEvent#removefeature\n     * @api\n     */\n    REMOVEFEATURE: 'removefeature',\n    /**\n     * Triggered when features starts loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadstart\n     * @api\n     */\n    FEATURESLOADSTART: 'featuresloadstart',\n    /**\n     * Triggered when features finishes loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadend\n     * @api\n     */\n    FEATURESLOADEND: 'featuresloadend',\n    /**\n     * Triggered if feature loading results in an error.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloaderror\n     * @api\n     */\n    FEATURESLOADERROR: 'featuresloaderror',\n};\n/**\n * @typedef {'addfeature'|'changefeature'|'clear'|'removefeature'|'featuresloadstart'|'featuresloadend'|'featuresloaderror'} VectorSourceEventTypes\n */\n//# sourceMappingURL=VectorEventType.js.map","/**\n * @module ol/source/XYZ\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport TileImage from './TileImage.js';\nimport { createXYZ, extentFromProjection } from '../tilegrid.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {number} [maxZoom=42] Optional max zoom level. Not used if `tileGrid` is provided.\n * @property {number} [minZoom=0] Optional min zoom level. Not used if `tileGrid` is provided.\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\n * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n * should be set to `2`.\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\n * Not used if `tileGrid` is provided.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get\n * tile URL given a tile coordinate and the projection.\n * Required if `url` or `urls` are not provided.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`,\n * and `{z}` placeholders. A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`,\n * may be used instead of defining each one separately in the `urls` option.\n * @property {Array<string>} [urls] An array of URL templates.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for tile data with URLs in a set XYZ format that are\n * defined in a URL template. By default, this follows the widely-used\n * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\n * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\n * using the `{-y}` placeholder in the URL template, so long as the\n * source does not have a custom tile grid. In this case\n * a `tileUrlFunction` can be used, such as:\n * ```js\n *  tileUrlFunction: function(coordinate) {\n *    return 'http://mapserver.com/' + coordinate[0] + '/' +\n *      coordinate[1] + '/' + (-coordinate[2] - 1) + '.png';\n *  }\n * ```\n * @api\n */\nvar XYZ = /** @class */ (function (_super) {\n    __extends(XYZ, _super);\n    /**\n     * @param {Options} [opt_options] XYZ options.\n     */\n    function XYZ(opt_options) {\n        var options = opt_options || {};\n        var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n        if (options.interpolate !== undefined) {\n            interpolate = options.interpolate;\n        }\n        var projection = options.projection !== undefined ? options.projection : 'EPSG:3857';\n        var tileGrid = options.tileGrid !== undefined\n            ? options.tileGrid\n            : createXYZ({\n                extent: extentFromProjection(projection),\n                maxResolution: options.maxResolution,\n                maxZoom: options.maxZoom,\n                minZoom: options.minZoom,\n                tileSize: options.tileSize,\n            });\n        return _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            interpolate: interpolate,\n            opaque: options.opaque,\n            projection: projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileGrid: tileGrid,\n            tileLoadFunction: options.tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            tileUrlFunction: options.tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n    }\n    return XYZ;\n}(TileImage));\nexport default XYZ;\n//# sourceMappingURL=XYZ.js.map","/**\n * @module ol/structs/LRUCache\n */\nimport { assert } from '../asserts.js';\n/**\n * @typedef {Object} Entry\n * @property {string} key_ Key.\n * @property {Object} newer Newer.\n * @property {Object} older Older.\n * @property {*} value_ Value.\n */\n/**\n * @classdesc\n * Implements a Least-Recently-Used cache where the keys do not conflict with\n * Object's properties (e.g. 'hasOwnProperty' is not allowed as a key). Expiring\n * items from the cache is the responsibility of the user.\n *\n * @fires import(\"../events/Event.js\").default\n * @template T\n */\nvar LRUCache = /** @class */ (function () {\n    /**\n     * @param {number} [opt_highWaterMark] High water mark.\n     */\n    function LRUCache(opt_highWaterMark) {\n        /**\n         * Desired max cache size after expireCache(). If set to 0, no cache entries\n         * will be pruned at all.\n         * @type {number}\n         */\n        this.highWaterMark =\n            opt_highWaterMark !== undefined ? opt_highWaterMark : 2048;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.count_ = 0;\n        /**\n         * @private\n         * @type {!Object<string, Entry>}\n         */\n        this.entries_ = {};\n        /**\n         * @private\n         * @type {?Entry}\n         */\n        this.oldest_ = null;\n        /**\n         * @private\n         * @type {?Entry}\n         */\n        this.newest_ = null;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    LRUCache.prototype.canExpireCache = function () {\n        return this.highWaterMark > 0 && this.getCount() > this.highWaterMark;\n    };\n    /**\n     * Expire the cache.\n     * @param {!Object<string, boolean>} [keep] Keys to keep. To be implemented by subclasses.\n     */\n    LRUCache.prototype.expireCache = function (keep) {\n        while (this.canExpireCache()) {\n            this.pop();\n        }\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    LRUCache.prototype.clear = function () {\n        this.count_ = 0;\n        this.entries_ = {};\n        this.oldest_ = null;\n        this.newest_ = null;\n    };\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Contains key.\n     */\n    LRUCache.prototype.containsKey = function (key) {\n        return this.entries_.hasOwnProperty(key);\n    };\n    /**\n     * @param {function(T, string, LRUCache<T>): ?} f The function\n     *     to call for every entry from the oldest to the newer. This function takes\n     *     3 arguments (the entry value, the entry key and the LRUCache object).\n     *     The return value is ignored.\n     */\n    LRUCache.prototype.forEach = function (f) {\n        var entry = this.oldest_;\n        while (entry) {\n            f(entry.value_, entry.key_, this);\n            entry = entry.newer;\n        }\n    };\n    /**\n     * @param {string} key Key.\n     * @param {*} [opt_options] Options (reserved for subclasses).\n     * @return {T} Value.\n     */\n    LRUCache.prototype.get = function (key, opt_options) {\n        var entry = this.entries_[key];\n        assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n        if (entry === this.newest_) {\n            return entry.value_;\n        }\n        else if (entry === this.oldest_) {\n            this.oldest_ = /** @type {Entry} */ (this.oldest_.newer);\n            this.oldest_.older = null;\n        }\n        else {\n            entry.newer.older = entry.older;\n            entry.older.newer = entry.newer;\n        }\n        entry.newer = null;\n        entry.older = this.newest_;\n        this.newest_.newer = entry;\n        this.newest_ = entry;\n        return entry.value_;\n    };\n    /**\n     * Remove an entry from the cache.\n     * @param {string} key The entry key.\n     * @return {T} The removed entry.\n     */\n    LRUCache.prototype.remove = function (key) {\n        var entry = this.entries_[key];\n        assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n        if (entry === this.newest_) {\n            this.newest_ = /** @type {Entry} */ (entry.older);\n            if (this.newest_) {\n                this.newest_.newer = null;\n            }\n        }\n        else if (entry === this.oldest_) {\n            this.oldest_ = /** @type {Entry} */ (entry.newer);\n            if (this.oldest_) {\n                this.oldest_.older = null;\n            }\n        }\n        else {\n            entry.newer.older = entry.older;\n            entry.older.newer = entry.newer;\n        }\n        delete this.entries_[key];\n        --this.count_;\n        return entry.value_;\n    };\n    /**\n     * @return {number} Count.\n     */\n    LRUCache.prototype.getCount = function () {\n        return this.count_;\n    };\n    /**\n     * @return {Array<string>} Keys.\n     */\n    LRUCache.prototype.getKeys = function () {\n        var keys = new Array(this.count_);\n        var i = 0;\n        var entry;\n        for (entry = this.newest_; entry; entry = entry.older) {\n            keys[i++] = entry.key_;\n        }\n        return keys;\n    };\n    /**\n     * @return {Array<T>} Values.\n     */\n    LRUCache.prototype.getValues = function () {\n        var values = new Array(this.count_);\n        var i = 0;\n        var entry;\n        for (entry = this.newest_; entry; entry = entry.older) {\n            values[i++] = entry.value_;\n        }\n        return values;\n    };\n    /**\n     * @return {T} Last value.\n     */\n    LRUCache.prototype.peekLast = function () {\n        return this.oldest_.value_;\n    };\n    /**\n     * @return {string} Last key.\n     */\n    LRUCache.prototype.peekLastKey = function () {\n        return this.oldest_.key_;\n    };\n    /**\n     * Get the key of the newest item in the cache.  Throws if the cache is empty.\n     * @return {string} The newest key.\n     */\n    LRUCache.prototype.peekFirstKey = function () {\n        return this.newest_.key_;\n    };\n    /**\n     * @return {T} value Value.\n     */\n    LRUCache.prototype.pop = function () {\n        var entry = this.oldest_;\n        delete this.entries_[entry.key_];\n        if (entry.newer) {\n            entry.newer.older = null;\n        }\n        this.oldest_ = /** @type {Entry} */ (entry.newer);\n        if (!this.oldest_) {\n            this.newest_ = null;\n        }\n        --this.count_;\n        return entry.value_;\n    };\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.replace = function (key, value) {\n        this.get(key); // update `newest_`\n        this.entries_[key].value_ = value;\n    };\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.set = function (key, value) {\n        assert(!(key in this.entries_), 16); // Tried to set a value for a key that is used already\n        var entry = {\n            key_: key,\n            newer: null,\n            older: this.newest_,\n            value_: value,\n        };\n        if (!this.newest_) {\n            this.oldest_ = entry;\n        }\n        else {\n            this.newest_.newer = entry;\n        }\n        this.newest_ = entry;\n        this.entries_[key] = entry;\n        ++this.count_;\n    };\n    /**\n     * Set a maximum number of entries for the cache.\n     * @param {number} size Cache size.\n     * @api\n     */\n    LRUCache.prototype.setSize = function (size) {\n        this.highWaterMark = size;\n    };\n    return LRUCache;\n}());\nexport default LRUCache;\n//# sourceMappingURL=LRUCache.js.map","/**\n * @module ol/structs/PriorityQueue\n */\nimport { assert } from '../asserts.js';\nimport { clear } from '../obj.js';\n/**\n * @type {number}\n */\nexport var DROP = Infinity;\n/**\n * @classdesc\n * Priority queue.\n *\n * The implementation is inspired from the Closure Library's Heap class and\n * Python's heapq module.\n *\n * See https://github.com/google/closure-library/blob/master/closure/goog/structs/heap.js\n * and https://hg.python.org/cpython/file/2.7/Lib/heapq.py.\n *\n * @template T\n */\nvar PriorityQueue = /** @class */ (function () {\n    /**\n     * @param {function(T): number} priorityFunction Priority function.\n     * @param {function(T): string} keyFunction Key function.\n     */\n    function PriorityQueue(priorityFunction, keyFunction) {\n        /**\n         * @type {function(T): number}\n         * @private\n         */\n        this.priorityFunction_ = priorityFunction;\n        /**\n         * @type {function(T): string}\n         * @private\n         */\n        this.keyFunction_ = keyFunction;\n        /**\n         * @type {Array<T>}\n         * @private\n         */\n        this.elements_ = [];\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        this.priorities_ = [];\n        /**\n         * @type {!Object<string, boolean>}\n         * @private\n         */\n        this.queuedElements_ = {};\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.clear = function () {\n        this.elements_.length = 0;\n        this.priorities_.length = 0;\n        clear(this.queuedElements_);\n    };\n    /**\n     * Remove and return the highest-priority element. O(log N).\n     * @return {T} Element.\n     */\n    PriorityQueue.prototype.dequeue = function () {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[0];\n        if (elements.length == 1) {\n            elements.length = 0;\n            priorities.length = 0;\n        }\n        else {\n            elements[0] = elements.pop();\n            priorities[0] = priorities.pop();\n            this.siftUp_(0);\n        }\n        var elementKey = this.keyFunction_(element);\n        delete this.queuedElements_[elementKey];\n        return element;\n    };\n    /**\n     * Enqueue an element. O(log N).\n     * @param {T} element Element.\n     * @return {boolean} The element was added to the queue.\n     */\n    PriorityQueue.prototype.enqueue = function (element) {\n        assert(!(this.keyFunction_(element) in this.queuedElements_), 31); // Tried to enqueue an `element` that was already added to the queue\n        var priority = this.priorityFunction_(element);\n        if (priority != DROP) {\n            this.elements_.push(element);\n            this.priorities_.push(priority);\n            this.queuedElements_[this.keyFunction_(element)] = true;\n            this.siftDown_(0, this.elements_.length - 1);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @return {number} Count.\n     */\n    PriorityQueue.prototype.getCount = function () {\n        return this.elements_.length;\n    };\n    /**\n     * Gets the index of the left child of the node at the given index.\n     * @param {number} index The index of the node to get the left child for.\n     * @return {number} The index of the left child.\n     * @private\n     */\n    PriorityQueue.prototype.getLeftChildIndex_ = function (index) {\n        return index * 2 + 1;\n    };\n    /**\n     * Gets the index of the right child of the node at the given index.\n     * @param {number} index The index of the node to get the right child for.\n     * @return {number} The index of the right child.\n     * @private\n     */\n    PriorityQueue.prototype.getRightChildIndex_ = function (index) {\n        return index * 2 + 2;\n    };\n    /**\n     * Gets the index of the parent of the node at the given index.\n     * @param {number} index The index of the node to get the parent for.\n     * @return {number} The index of the parent.\n     * @private\n     */\n    PriorityQueue.prototype.getParentIndex_ = function (index) {\n        return (index - 1) >> 1;\n    };\n    /**\n     * Make this a heap. O(N).\n     * @private\n     */\n    PriorityQueue.prototype.heapify_ = function () {\n        var i;\n        for (i = (this.elements_.length >> 1) - 1; i >= 0; i--) {\n            this.siftUp_(i);\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    PriorityQueue.prototype.isEmpty = function () {\n        return this.elements_.length === 0;\n    };\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Is key queued.\n     */\n    PriorityQueue.prototype.isKeyQueued = function (key) {\n        return key in this.queuedElements_;\n    };\n    /**\n     * @param {T} element Element.\n     * @return {boolean} Is queued.\n     */\n    PriorityQueue.prototype.isQueued = function (element) {\n        return this.isKeyQueued(this.keyFunction_(element));\n    };\n    /**\n     * @param {number} index The index of the node to move down.\n     * @private\n     */\n    PriorityQueue.prototype.siftUp_ = function (index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var count = elements.length;\n        var element = elements[index];\n        var priority = priorities[index];\n        var startIndex = index;\n        while (index < count >> 1) {\n            var lIndex = this.getLeftChildIndex_(index);\n            var rIndex = this.getRightChildIndex_(index);\n            var smallerChildIndex = rIndex < count && priorities[rIndex] < priorities[lIndex]\n                ? rIndex\n                : lIndex;\n            elements[index] = elements[smallerChildIndex];\n            priorities[index] = priorities[smallerChildIndex];\n            index = smallerChildIndex;\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n        this.siftDown_(startIndex, index);\n    };\n    /**\n     * @param {number} startIndex The index of the root.\n     * @param {number} index The index of the node to move up.\n     * @private\n     */\n    PriorityQueue.prototype.siftDown_ = function (startIndex, index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[index];\n        var priority = priorities[index];\n        while (index > startIndex) {\n            var parentIndex = this.getParentIndex_(index);\n            if (priorities[parentIndex] > priority) {\n                elements[index] = elements[parentIndex];\n                priorities[index] = priorities[parentIndex];\n                index = parentIndex;\n            }\n            else {\n                break;\n            }\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.reprioritize = function () {\n        var priorityFunction = this.priorityFunction_;\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var index = 0;\n        var n = elements.length;\n        var element, i, priority;\n        for (i = 0; i < n; ++i) {\n            element = elements[i];\n            priority = priorityFunction(element);\n            if (priority == DROP) {\n                delete this.queuedElements_[this.keyFunction_(element)];\n            }\n            else {\n                priorities[index] = priority;\n                elements[index++] = element;\n            }\n        }\n        elements.length = index;\n        priorities.length = index;\n        this.heapify_();\n    };\n    return PriorityQueue;\n}());\nexport default PriorityQueue;\n//# sourceMappingURL=PriorityQueue.js.map","/**\n * @module ol/structs/RBush\n */\nimport RBush_ from 'rbush';\nimport { createOrUpdate, equals } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { isEmpty } from '../obj.js';\n/**\n * @typedef {Object} Entry\n * @property {number} minX MinX.\n * @property {number} minY MinY.\n * @property {number} maxX MaxX.\n * @property {number} maxY MaxY.\n * @property {Object} [value] Value.\n */\n/**\n * @classdesc\n * Wrapper around the RBush by Vladimir Agafonkin.\n * See https://github.com/mourner/rbush.\n *\n * @template T\n */\nvar RBush = /** @class */ (function () {\n    /**\n     * @param {number} [opt_maxEntries] Max entries.\n     */\n    function RBush(opt_maxEntries) {\n        /**\n         * @private\n         */\n        this.rbush_ = new RBush_(opt_maxEntries);\n        /**\n         * A mapping between the objects added to this rbush wrapper\n         * and the objects that are actually added to the internal rbush.\n         * @private\n         * @type {Object<string, Entry>}\n         */\n        this.items_ = {};\n    }\n    /**\n     * Insert a value into the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.insert = function (extent, value) {\n        /** @type {Entry} */\n        var item = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n            value: value,\n        };\n        this.rbush_.insert(item);\n        this.items_[getUid(value)] = item;\n    };\n    /**\n     * Bulk-insert values into the RBush.\n     * @param {Array<import(\"../extent.js\").Extent>} extents Extents.\n     * @param {Array<T>} values Values.\n     */\n    RBush.prototype.load = function (extents, values) {\n        var items = new Array(values.length);\n        for (var i = 0, l = values.length; i < l; i++) {\n            var extent = extents[i];\n            var value = values[i];\n            /** @type {Entry} */\n            var item = {\n                minX: extent[0],\n                minY: extent[1],\n                maxX: extent[2],\n                maxY: extent[3],\n                value: value,\n            };\n            items[i] = item;\n            this.items_[getUid(value)] = item;\n        }\n        this.rbush_.load(items);\n    };\n    /**\n     * Remove a value from the RBush.\n     * @param {T} value Value.\n     * @return {boolean} Removed.\n     */\n    RBush.prototype.remove = function (value) {\n        var uid = getUid(value);\n        // get the object in which the value was wrapped when adding to the\n        // internal rbush. then use that object to do the removal.\n        var item = this.items_[uid];\n        delete this.items_[uid];\n        return this.rbush_.remove(item) !== null;\n    };\n    /**\n     * Update the extent of a value in the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.update = function (extent, value) {\n        var item = this.items_[getUid(value)];\n        var bbox = [item.minX, item.minY, item.maxX, item.maxY];\n        if (!equals(bbox, extent)) {\n            this.remove(value);\n            this.insert(extent, value);\n        }\n    };\n    /**\n     * Return all values in the RBush.\n     * @return {Array<T>} All.\n     */\n    RBush.prototype.getAll = function () {\n        var items = this.rbush_.all();\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Return all values in the given extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<T>} All in extent.\n     */\n    RBush.prototype.getInExtent = function (extent) {\n        /** @type {Entry} */\n        var bbox = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n        };\n        var items = this.rbush_.search(bbox);\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Calls a callback function with each value in the tree.\n     * If the callback returns a truthy value, this value is returned without\n     * checking the rest of the tree.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach = function (callback) {\n        return this.forEach_(this.getAll(), callback);\n    };\n    /**\n     * Calls a callback function with each value in the provided extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEachInExtent = function (extent, callback) {\n        return this.forEach_(this.getInExtent(extent), callback);\n    };\n    /**\n     * @param {Array<T>} values Values.\n     * @param {function(T): *} callback Callback.\n     * @private\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach_ = function (values, callback) {\n        var result;\n        for (var i = 0, l = values.length; i < l; i++) {\n            result = callback(values[i]);\n            if (result) {\n                return result;\n            }\n        }\n        return result;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    RBush.prototype.isEmpty = function () {\n        return isEmpty(this.items_);\n    };\n    /**\n     * Remove all values from the RBush.\n     */\n    RBush.prototype.clear = function () {\n        this.rbush_.clear();\n        this.items_ = {};\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Extent.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     */\n    RBush.prototype.getExtent = function (opt_extent) {\n        var data = this.rbush_.toJSON();\n        return createOrUpdate(data.minX, data.minY, data.maxX, data.maxY, opt_extent);\n    };\n    /**\n     * @param {RBush} rbush R-Tree.\n     */\n    RBush.prototype.concat = function (rbush) {\n        this.rbush_.load(rbush.rbush_.all());\n        for (var i in rbush.items_) {\n            this.items_[i] = rbush.items_[i];\n        }\n    };\n    return RBush;\n}());\nexport default RBush;\n//# sourceMappingURL=RBush.js.map","/**\n * @module ol/style/Circle\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport RegularShape from './RegularShape.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} radius Circle radius.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {Array<number>} [displacement=[0,0]] displacement\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. A two dimensional scale will produce an ellipse.\n * Unless two dimensional scaling is required a better result may be obtained with an appropriate setting for `radius`.\n * @property {number} [rotation=0] Rotation in radians\n * (positive rotation clockwise, meaningful only when used in conjunction with a two dimensional scale).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view\n * (meaningful only when used in conjunction with a two dimensional scale).\n */\n/**\n * @classdesc\n * Set circle style for vector features.\n * @api\n */\nvar CircleStyle = /** @class */ (function (_super) {\n    __extends(CircleStyle, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function CircleStyle(opt_options) {\n        var options = opt_options ? opt_options : {};\n        return _super.call(this, {\n            points: Infinity,\n            fill: options.fill,\n            radius: options.radius,\n            stroke: options.stroke,\n            scale: options.scale !== undefined ? options.scale : 1,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            rotateWithView: options.rotateWithView !== undefined ? options.rotateWithView : false,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n        }) || this;\n    }\n    /**\n     * Clones the style.\n     * @return {CircleStyle} The cloned style.\n     * @api\n     */\n    CircleStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new CircleStyle({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            radius: this.getRadius(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Set the circle radius.\n     *\n     * @param {number} radius Circle radius.\n     * @api\n     */\n    CircleStyle.prototype.setRadius = function (radius) {\n        this.radius_ = radius;\n        this.render();\n    };\n    return CircleStyle;\n}(RegularShape));\nexport default CircleStyle;\n//# sourceMappingURL=Circle.js.map","/**\n * @module ol/style/Fill\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null} [color=null] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n */\n/**\n * @classdesc\n * Set fill style for vector features.\n * @api\n */\nvar Fill = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Fill(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n    }\n    /**\n     * Clones the style. The color is not cloned if it is an {@link module:ol/colorlike~ColorLike}.\n     * @return {Fill} The cloned style.\n     * @api\n     */\n    Fill.prototype.clone = function () {\n        var color = this.getColor();\n        return new Fill({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n        });\n    };\n    /**\n     * Get the fill color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null} Color.\n     * @api\n     */\n    Fill.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null} color Color.\n     * @api\n     */\n    Fill.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    return Fill;\n}());\nexport default Fill;\n//# sourceMappingURL=Fill.js.map","/**\n * @module ol/style/IconOrigin\n */\n/**\n * Icon origin. One of 'bottom-left', 'bottom-right', 'top-left', 'top-right'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Origin is at bottom left\n     * @api\n     */\n    BOTTOM_LEFT: 'bottom-left',\n    /**\n     * Origin is at bottom right\n     * @api\n     */\n    BOTTOM_RIGHT: 'bottom-right',\n    /**\n     * Origin is at top left\n     * @api\n     */\n    TOP_LEFT: 'top-left',\n    /**\n     * Origin is at top right\n     * @api\n     */\n    TOP_RIGHT: 'top-right',\n};\n//# sourceMappingURL=IconOrigin.js.map","/**\n * @module ol/style/IconImage\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport { asString } from '../color.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { shared as iconImageCache } from './IconImageCache.js';\nimport { listenImage } from '../Image.js';\n/**\n * @type {CanvasRenderingContext2D}\n */\nvar taintedTestContext = null;\nvar IconImage = /** @class */ (function (_super) {\n    __extends(IconImage, _super);\n    /**\n     * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n     * @param {string|undefined} src Src.\n     * @param {import(\"../size.js\").Size} size Size.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../ImageState.js\").default} imageState Image state.\n     * @param {import(\"../color.js\").Color} color Color.\n     */\n    function IconImage(image, src, size, crossOrigin, imageState, color) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.hitDetectionImage_ = null;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.image_ = !image ? new Image() : image;\n        if (crossOrigin !== null) {\n            /** @type {HTMLImageElement} */ (_this.image_).crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = color;\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @private\n         * @type {import(\"../ImageState.js\").default}\n         */\n        _this.imageState_ = imageState;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = size;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        _this.src_ = src;\n        /**\n         * @private\n         */\n        _this.tainted_;\n        return _this;\n    }\n    /**\n     * @private\n     * @return {boolean} The image canvas is tainted.\n     */\n    IconImage.prototype.isTainted_ = function () {\n        if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n            if (!taintedTestContext) {\n                taintedTestContext = createCanvasContext2D(1, 1);\n            }\n            taintedTestContext.drawImage(this.image_, 0, 0);\n            try {\n                taintedTestContext.getImageData(0, 0, 1, 1);\n                this.tainted_ = false;\n            }\n            catch (e) {\n                taintedTestContext = null;\n                this.tainted_ = true;\n            }\n        }\n        return this.tainted_ === true;\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.dispatchChangeEvent_ = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageError_ = function () {\n        this.imageState_ = ImageState.ERROR;\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageLoad_ = function () {\n        this.imageState_ = ImageState.LOADED;\n        if (this.size_) {\n            this.image_.width = this.size_[0];\n            this.image_.height = this.size_[1];\n        }\n        else {\n            this.size_ = [this.image_.width, this.image_.height];\n        }\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     */\n    IconImage.prototype.getImage = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Image or Canvas element.\n     */\n    IconImage.prototype.getPixelRatio = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? pixelRatio : 1;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    IconImage.prototype.getImageState = function () {\n        return this.imageState_;\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    IconImage.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionImage_) {\n            if (this.isTainted_()) {\n                var width = this.size_[0];\n                var height = this.size_[1];\n                var context = createCanvasContext2D(width, height);\n                context.fillRect(0, 0, width, height);\n                this.hitDetectionImage_ = context.canvas;\n            }\n            else {\n                this.hitDetectionImage_ = this.image_;\n            }\n        }\n        return this.hitDetectionImage_;\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    IconImage.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * @return {string|undefined} Image src.\n     */\n    IconImage.prototype.getSrc = function () {\n        return this.src_;\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    IconImage.prototype.load = function () {\n        if (this.imageState_ == ImageState.IDLE) {\n            this.imageState_ = ImageState.LOADING;\n            try {\n                /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n            }\n            catch (e) {\n                this.handleImageError_();\n            }\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @private\n     */\n    IconImage.prototype.replaceColor_ = function (pixelRatio) {\n        if (!this.color_ ||\n            this.canvas_[pixelRatio] ||\n            this.imageState_ !== ImageState.LOADED) {\n            return;\n        }\n        var canvas = document.createElement('canvas');\n        this.canvas_[pixelRatio] = canvas;\n        canvas.width = Math.ceil(this.image_.width * pixelRatio);\n        canvas.height = Math.ceil(this.image_.height * pixelRatio);\n        var ctx = canvas.getContext('2d');\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.drawImage(this.image_, 0, 0);\n        ctx.globalCompositeOperation = 'multiply';\n        // Internet Explorer 11 does not support the multiply operation.\n        // If the canvas is tainted in Internet Explorer this still produces\n        // a solid color image with the shape of the icon.\n        if (ctx.globalCompositeOperation === 'multiply' || this.isTainted_()) {\n            ctx.fillStyle = asString(this.color_);\n            ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n            ctx.globalCompositeOperation = 'destination-in';\n            ctx.drawImage(this.image_, 0, 0);\n        }\n        else {\n            var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            var data = imgData.data;\n            var r = this.color_[0] / 255.0;\n            var g = this.color_[1] / 255.0;\n            var b = this.color_[2] / 255.0;\n            var a = this.color_[3];\n            for (var i = 0, ii = data.length; i < ii; i += 4) {\n                data[i] *= r;\n                data[i + 1] *= g;\n                data[i + 2] *= b;\n                data[i + 3] *= a;\n            }\n            ctx.putImageData(imgData, 0, 0);\n        }\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    IconImage.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return IconImage;\n}(EventTarget));\n/**\n * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n * @param {string} src Src.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default} imageState Image state.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {IconImage} Icon image.\n */\nexport function get(image, src, size, crossOrigin, imageState, color) {\n    var iconImage = iconImageCache.get(src, crossOrigin, color);\n    if (!iconImage) {\n        iconImage = new IconImage(image, src, size, crossOrigin, imageState, color);\n        iconImageCache.set(src, crossOrigin, color, iconImage);\n    }\n    return iconImage;\n}\nexport default IconImage;\n//# sourceMappingURL=IconImage.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/style/Icon\n */\nimport EventType from '../events/EventType.js';\nimport IconAnchorUnits from './IconAnchorUnits.js';\nimport IconOrigin from './IconOrigin.js';\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { assert } from '../asserts.js';\nimport { get as getIconImage } from './IconImage.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {Array<number>} [anchor=[0.5, 0.5]] Anchor. Default value is the icon center.\n * @property {import(\"./IconOrigin.js\").default} [anchorOrigin='top-left'] Origin of the anchor: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorXUnits='fraction'] Units in which the anchor x value is\n * specified. A value of `'fraction'` indicates the x value is a fraction of the icon. A value of `'pixels'` indicates\n * the x value in pixels.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorYUnits='fraction'] Units in which the anchor y value is\n * specified. A value of `'fraction'` indicates the y value is a fraction of the icon. A value of `'pixels'` indicates\n * the y value in pixels.\n * @property {import(\"../color.js\").Color|string} [color] Color to tint the icon. If not specified,\n * the icon will be left as is.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images. Note that you must provide a\n * `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {HTMLImageElement|HTMLCanvasElement} [img] Image object for the icon. If the `src` option is not provided then the\n * provided image must already be loaded. And in that case, it is required\n * to provide the size of the image, with the `imgSize` option.\n * @property {Array<number>} [offset=[0, 0]] Offset, which, together with the size and the offset origin, define the\n * sub-rectangle to use from the original icon image.\n * @property {Array<number>} [displacement=[0,0]] Displacement of the icon.\n * @property {import(\"./IconOrigin.js\").default} [offsetOrigin='top-left'] Origin of the offset: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {number} [opacity=1] Opacity of the icon.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the icon with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {import(\"../size.js\").Size} [size] Icon size in pixel. Can be used together with `offset` to define the\n * sub-rectangle to use from the origin (sprite) icon image.\n * @property {import(\"../size.js\").Size} [imgSize] Image size in pixels. Only required if `img` is set and `src` is not, and\n * for SVG images in Internet Explorer 11. The provided `imgSize` needs to match the actual size of the image.\n * @property {string} [src] Image source URI.\n */\n/**\n * @classdesc\n * Set icon style for vector features.\n * @api\n */\nvar Icon = /** @class */ (function (_super) {\n    __extends(Icon, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Icon(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        /**\n         * @type {number}\n         */\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        /**\n         * @type {number}\n         */\n        var rotation = options.rotation !== undefined ? options.rotation : 0;\n        /**\n         * @type {number|import(\"../size.js\").Size}\n         */\n        var scale = options.scale !== undefined ? options.scale : 1;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: opacity,\n            rotation: rotation,\n            scale: scale,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n            rotateWithView: rotateWithView,\n        }) || this;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.anchor_ = options.anchor !== undefined ? options.anchor : [0.5, 0.5];\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.normalizedAnchor_ = null;\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.anchorOrigin_ =\n            options.anchorOrigin !== undefined\n                ? options.anchorOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorXUnits_ =\n            options.anchorXUnits !== undefined\n                ? options.anchorXUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorYUnits_ =\n            options.anchorYUnits !== undefined\n                ? options.anchorYUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {?string}\n         */\n        _this.crossOrigin_ =\n            options.crossOrigin !== undefined ? options.crossOrigin : null;\n        /**\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        var image = options.img !== undefined ? options.img : null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size|undefined}\n         */\n        _this.imgSize_ = options.imgSize;\n        /**\n         * @type {string|undefined}\n         */\n        var src = options.src;\n        assert(!(src !== undefined && image), 4); // `image` and `src` cannot be provided at the same time\n        assert(!image || (image && _this.imgSize_), 5); // `imgSize` must be set when `image` is provided\n        if ((src === undefined || src.length === 0) && image) {\n            src = /** @type {HTMLImageElement} */ (image).src || getUid(image);\n        }\n        assert(src !== undefined && src.length > 0, 6); // A defined and non-empty `src` or `image` must be provided\n        /**\n         * @type {import(\"../ImageState.js\").default}\n         */\n        var imageState = options.src !== undefined ? ImageState.IDLE : ImageState.LOADED;\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = options.color !== undefined ? asArray(options.color) : null;\n        /**\n         * @private\n         * @type {import(\"./IconImage.js\").default}\n         */\n        _this.iconImage_ = getIconImage(image, \n        /** @type {string} */ (src), _this.imgSize_ !== undefined ? _this.imgSize_ : null, _this.crossOrigin_, imageState, _this.color_);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.offset_ = options.offset !== undefined ? options.offset : [0, 0];\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.offsetOrigin_ =\n            options.offsetOrigin !== undefined\n                ? options.offsetOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = options.size !== undefined ? options.size : null;\n        return _this;\n    }\n    /**\n     * Clones the style. The underlying Image/HTMLCanvasElement is not cloned.\n     * @return {Icon} The cloned style.\n     * @api\n     */\n    Icon.prototype.clone = function () {\n        var scale = this.getScale();\n        return new Icon({\n            anchor: this.anchor_.slice(),\n            anchorOrigin: this.anchorOrigin_,\n            anchorXUnits: this.anchorXUnits_,\n            anchorYUnits: this.anchorYUnits_,\n            color: this.color_ && this.color_.slice\n                ? this.color_.slice()\n                : this.color_ || undefined,\n            crossOrigin: this.crossOrigin_,\n            imgSize: this.imgSize_,\n            offset: this.offset_.slice(),\n            offsetOrigin: this.offsetOrigin_,\n            opacity: this.getOpacity(),\n            rotateWithView: this.getRotateWithView(),\n            rotation: this.getRotation(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            size: this.size_ !== null ? this.size_.slice() : undefined,\n            src: this.getSrc(),\n        });\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    Icon.prototype.getAnchor = function () {\n        var anchor = this.normalizedAnchor_;\n        if (!anchor) {\n            anchor = this.anchor_;\n            var size = this.getSize();\n            if (this.anchorXUnits_ == IconAnchorUnits.FRACTION ||\n                this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n                if (!size) {\n                    return null;\n                }\n                anchor = this.anchor_.slice();\n                if (this.anchorXUnits_ == IconAnchorUnits.FRACTION) {\n                    anchor[0] *= size[0];\n                }\n                if (this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n                    anchor[1] *= size[1];\n                }\n            }\n            if (this.anchorOrigin_ != IconOrigin.TOP_LEFT) {\n                if (!size) {\n                    return null;\n                }\n                if (anchor === this.anchor_) {\n                    anchor = this.anchor_.slice();\n                }\n                if (this.anchorOrigin_ == IconOrigin.TOP_RIGHT ||\n                    this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                    anchor[0] = -anchor[0] + size[0];\n                }\n                if (this.anchorOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                    this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                    anchor[1] = -anchor[1] + size[1];\n                }\n            }\n            this.normalizedAnchor_ = anchor;\n        }\n        var displacement = this.getDisplacement();\n        return [anchor[0] - displacement[0], anchor[1] + displacement[1]];\n    };\n    /**\n     * Set the anchor point. The anchor determines the center point for the\n     * symbolizer.\n     *\n     * @param {Array<number>} anchor Anchor.\n     * @api\n     */\n    Icon.prototype.setAnchor = function (anchor) {\n        this.anchor_ = anchor;\n        this.normalizedAnchor_ = null;\n    };\n    /**\n     * Get the icon color.\n     * @return {import(\"../color.js\").Color} Color.\n     * @api\n     */\n    Icon.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    Icon.prototype.getImage = function (pixelRatio) {\n        return this.iconImage_.getImage(pixelRatio);\n    };\n    /**\n     * Get the pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} The pixel ratio of the image.\n     * @api\n     */\n    Icon.prototype.getPixelRatio = function (pixelRatio) {\n        return this.iconImage_.getPixelRatio(pixelRatio);\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    Icon.prototype.getImageSize = function () {\n        return this.iconImage_.getSize();\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    Icon.prototype.getImageState = function () {\n        return this.iconImage_.getImageState();\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    Icon.prototype.getHitDetectionImage = function () {\n        return this.iconImage_.getHitDetectionImage();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    Icon.prototype.getOrigin = function () {\n        if (this.origin_) {\n            return this.origin_;\n        }\n        var offset = this.offset_;\n        if (this.offsetOrigin_ != IconOrigin.TOP_LEFT) {\n            var size = this.getSize();\n            var iconImageSize = this.iconImage_.getSize();\n            if (!size || !iconImageSize) {\n                return null;\n            }\n            offset = offset.slice();\n            if (this.offsetOrigin_ == IconOrigin.TOP_RIGHT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[0] = iconImageSize[0] - size[0] - offset[0];\n            }\n            if (this.offsetOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[1] = iconImageSize[1] - size[1] - offset[1];\n            }\n        }\n        this.origin_ = offset;\n        return this.origin_;\n    };\n    /**\n     * Get the image URL.\n     * @return {string|undefined} Image src.\n     * @api\n     */\n    Icon.prototype.getSrc = function () {\n        return this.iconImage_.getSrc();\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     * @api\n     */\n    Icon.prototype.getSize = function () {\n        return !this.size_ ? this.iconImage_.getSize() : this.size_;\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.listenImageChange = function (listener) {\n        this.iconImage_.addEventListener(EventType.CHANGE, listener);\n    };\n    /**\n     * Load not yet loaded URI.\n     * When rendering a feature with an icon style, the vector renderer will\n     * automatically call this method. However, you might want to call this\n     * method yourself for preloading or other purposes.\n     * @api\n     */\n    Icon.prototype.load = function () {\n        this.iconImage_.load();\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.unlistenImageChange = function (listener) {\n        this.iconImage_.removeEventListener(EventType.CHANGE, listener);\n    };\n    return Icon;\n}(ImageStyle));\nexport default Icon;\n//# sourceMappingURL=Icon.js.map","/**\n * @module ol/style/IconAnchorUnits\n */\n/**\n * Icon anchor units. One of 'fraction', 'pixels'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Anchor is a fraction\n     * @api\n     */\n    FRACTION: 'fraction',\n    /**\n     * Anchor is in pixels\n     * @api\n     */\n    PIXELS: 'pixels',\n};\n//# sourceMappingURL=IconAnchorUnits.js.map","/**\n * @module ol/style/IconImageCache\n */\nimport { asString } from '../color.js';\n/**\n * @classdesc\n * Singleton class. Available through {@link module:ol/style/IconImageCache.shared}.\n */\nvar IconImageCache = /** @class */ (function () {\n    function IconImageCache() {\n        /**\n         * @type {!Object<string, import(\"./IconImage.js\").default>}\n         * @private\n         */\n        this.cache_ = {};\n        /**\n         * @type {number}\n         * @private\n         */\n        this.cacheSize_ = 0;\n        /**\n         * @type {number}\n         * @private\n         */\n        this.maxCacheSize_ = 32;\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    IconImageCache.prototype.clear = function () {\n        this.cache_ = {};\n        this.cacheSize_ = 0;\n    };\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    IconImageCache.prototype.canExpireCache = function () {\n        return this.cacheSize_ > this.maxCacheSize_;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    IconImageCache.prototype.expire = function () {\n        if (this.canExpireCache()) {\n            var i = 0;\n            for (var key in this.cache_) {\n                var iconImage = this.cache_[key];\n                if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n                    delete this.cache_[key];\n                    --this.cacheSize_;\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @return {import(\"./IconImage.js\").default} Icon image.\n     */\n    IconImageCache.prototype.get = function (src, crossOrigin, color) {\n        var key = getKey(src, crossOrigin, color);\n        return key in this.cache_ ? this.cache_[key] : null;\n    };\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n     */\n    IconImageCache.prototype.set = function (src, crossOrigin, color, iconImage) {\n        var key = getKey(src, crossOrigin, color);\n        this.cache_[key] = iconImage;\n        ++this.cacheSize_;\n    };\n    /**\n     * Set the cache size of the icon cache. Default is `32`. Change this value when\n     * your map uses more than 32 different icon images and you are not caching icon\n     * styles on the application level.\n     * @param {number} maxCacheSize Cache max size.\n     * @api\n     */\n    IconImageCache.prototype.setSize = function (maxCacheSize) {\n        this.maxCacheSize_ = maxCacheSize;\n        this.expire();\n    };\n    return IconImageCache;\n}());\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {string} Cache key.\n */\nfunction getKey(src, crossOrigin, color) {\n    var colorString = color ? asString(color) : 'null';\n    return crossOrigin + ':' + src + ':' + colorString;\n}\nexport default IconImageCache;\n/**\n * The {@link module:ol/style/IconImageCache~IconImageCache} for\n * {@link module:ol/style/Icon~Icon} images.\n * @api\n */\nexport var shared = new IconImageCache();\n//# sourceMappingURL=IconImageCache.js.map","/**\n * @module ol/style/Image\n */\nimport { abstract } from '../util.js';\nimport { toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {number} opacity Opacity.\n * @property {boolean} rotateWithView If the image should get rotated with the view.\n * @property {number} rotation Rotation.\n * @property {number|import(\"../size.js\").Size} scale Scale.\n * @property {Array<number>} displacement Displacement.\n */\n/**\n * @classdesc\n * A base class used for creating subclasses and not instantiated in\n * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n * {@link module:ol/style/RegularShape~RegularShape}.\n * @abstract\n * @api\n */\nvar ImageStyle = /** @class */ (function () {\n    /**\n     * @param {Options} options Options.\n     */\n    function ImageStyle(options) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.opacity_ = options.opacity;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.rotateWithView_ = options.rotateWithView;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.rotation_ = options.rotation;\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size}\n         */\n        this.scale_ = options.scale;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.scaleArray_ = toSize(options.scale);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.displacement_ = options.displacement;\n    }\n    /**\n     * Clones the style.\n     * @return {ImageStyle} The cloned style.\n     * @api\n     */\n    ImageStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        return new ImageStyle({\n            opacity: this.getOpacity(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n        });\n    };\n    /**\n     * Get the symbolizer opacity.\n     * @return {number} Opacity.\n     * @api\n     */\n    ImageStyle.prototype.getOpacity = function () {\n        return this.opacity_;\n    };\n    /**\n     * Determine whether the symbolizer rotates with the map.\n     * @return {boolean} Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Get the symoblizer rotation.\n     * @return {number} Rotation.\n     * @api\n     */\n    ImageStyle.prototype.getRotation = function () {\n        return this.rotation_;\n    };\n    /**\n     * Get the symbolizer scale.\n     * @return {number|import(\"../size.js\").Size} Scale.\n     * @api\n     */\n    ImageStyle.prototype.getScale = function () {\n        return this.scale_;\n    };\n    /**\n     * Get the symbolizer scale array.\n     * @return {import(\"../size.js\").Size} Scale array.\n     */\n    ImageStyle.prototype.getScaleArray = function () {\n        return this.scaleArray_;\n    };\n    /**\n     * Get the displacement of the shape\n     * @return {Array<number>} Shape's center displacement\n     * @api\n     */\n    ImageStyle.prototype.getDisplacement = function () {\n        return this.displacement_;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @abstract\n     * @return {Array<number>} Anchor.\n     */\n    ImageStyle.prototype.getAnchor = function () {\n        return abstract();\n    };\n    /**\n     * Get the image element for the symbolizer.\n     * @abstract\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getImage = function (pixelRatio) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getHitDetectionImage = function () {\n        return abstract();\n    };\n    /**\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Pixel ratio.\n     */\n    ImageStyle.prototype.getPixelRatio = function (pixelRatio) {\n        return 1;\n    };\n    /**\n     * @abstract\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    ImageStyle.prototype.getImageState = function () {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    ImageStyle.prototype.getImageSize = function () {\n        return abstract();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @abstract\n     * @return {Array<number>} Origin.\n     */\n    ImageStyle.prototype.getOrigin = function () {\n        return abstract();\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @abstract\n     * @return {import(\"../size.js\").Size} Size.\n     */\n    ImageStyle.prototype.getSize = function () {\n        return abstract();\n    };\n    /**\n     * Set the displacement.\n     *\n     * @param {Array<number>} displacement Displacement.\n     * @api\n     */\n    ImageStyle.prototype.setDisplacement = function (displacement) {\n        this.displacement_ = displacement;\n    };\n    /**\n     * Set the opacity.\n     *\n     * @param {number} opacity Opacity.\n     * @api\n     */\n    ImageStyle.prototype.setOpacity = function (opacity) {\n        this.opacity_ = opacity;\n    };\n    /**\n     * Set whether to rotate the style with the view.\n     *\n     * @param {boolean} rotateWithView Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.setRotateWithView = function (rotateWithView) {\n        this.rotateWithView_ = rotateWithView;\n    };\n    /**\n     * Set the rotation.\n     *\n     * @param {number} rotation Rotation.\n     * @api\n     */\n    ImageStyle.prototype.setRotation = function (rotation) {\n        this.rotation_ = rotation;\n    };\n    /**\n     * Set the scale.\n     *\n     * @param {number|import(\"../size.js\").Size} scale Scale.\n     * @api\n     */\n    ImageStyle.prototype.setScale = function (scale) {\n        this.scale_ = scale;\n        this.scaleArray_ = toSize(scale);\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.listenImageChange = function (listener) {\n        abstract();\n    };\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageStyle.prototype.load = function () {\n        abstract();\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.unlistenImageChange = function (listener) {\n        abstract();\n    };\n    return ImageStyle;\n}());\nexport default ImageStyle;\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/style/RegularShape\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { asColorLike } from '../colorlike.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { defaultFillStyle, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, } from '../render/canvas.js';\n/**\n * Specify radius for regular polygons, or radius1 and radius2 for stars.\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} points Number of points for stars and regular polygons. In case of a polygon, the number of points\n * is the number of sides.\n * @property {number} [radius] Radius of a regular polygon.\n * @property {number} [radius1] First radius of a star. Ignored if radius is set.\n * @property {number} [radius2] Second radius of a star.\n * @property {number} [angle=0] Shape's angle in radians. A value of 0 will have one of the shape's point facing up.\n * @property {Array<number>} [displacement=[0,0]] Displacement of the shape\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. Unless two dimensional scaling is required a better\n * result may be obtained with appropriate settings for `radius`, `radius1` and `radius2`.\n */\n/**\n * @typedef {Object} RenderOptions\n * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle] StrokeStyle.\n * @property {number} strokeWidth StrokeWidth.\n * @property {number} size Size.\n * @property {Array<number>} lineDash LineDash.\n * @property {number} lineDashOffset LineDashOffset.\n * @property {CanvasLineJoin} lineJoin LineJoin.\n * @property {number} miterLimit MiterLimit.\n */\n/**\n * @classdesc\n * Set regular shape style for vector features. The resulting shape will be\n * a regular polygon when `radius` is provided, or a star when `radius1` and\n * `radius2` are provided.\n * @api\n */\nvar RegularShape = /** @class */ (function (_super) {\n    __extends(RegularShape, _super);\n    /**\n     * @param {Options} options Options.\n     */\n    function RegularShape(options) {\n        var _this = this;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: 1,\n            rotateWithView: rotateWithView,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            scale: options.scale !== undefined ? options.scale : 1,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n        }) || this;\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = undefined;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.hitDetectionCanvas_ = null;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        _this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = [0, 0];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.points_ = options.points;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.radius_ =\n            options.radius !== undefined ? options.radius : options.radius1;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.radius2_ = options.radius2;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.angle_ = options.angle !== undefined ? options.angle : 0;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        _this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = null;\n        /**\n         * @private\n         * @type {RenderOptions}\n         */\n        _this.renderOptions_ = null;\n        _this.render();\n        return _this;\n    }\n    /**\n     * Clones the style.\n     * @return {RegularShape} The cloned style.\n     * @api\n     */\n    RegularShape.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new RegularShape({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            points: this.getPoints(),\n            radius: this.getRadius(),\n            radius2: this.getRadius2(),\n            angle: this.getAngle(),\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            displacement: this.getDisplacement().slice(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    RegularShape.prototype.getAnchor = function () {\n        var size = this.size_;\n        if (!size) {\n            return null;\n        }\n        var displacement = this.getDisplacement();\n        return [size[0] / 2 - displacement[0], size[1] / 2 + displacement[1]];\n    };\n    /**\n     * Get the angle used in generating the shape.\n     * @return {number} Shape's rotation in radians.\n     * @api\n     */\n    RegularShape.prototype.getAngle = function () {\n        return this.angle_;\n    };\n    /**\n     * Get the fill style for the shape.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    RegularShape.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * @return {HTMLCanvasElement} Image element.\n     */\n    RegularShape.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionCanvas_) {\n            this.createHitDetectionCanvas_(this.renderOptions_);\n        }\n        return this.hitDetectionCanvas_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    RegularShape.prototype.getImage = function (pixelRatio) {\n        var image = this.canvas_[pixelRatio];\n        if (!image) {\n            var renderOptions = this.renderOptions_;\n            var context = createCanvasContext2D(renderOptions.size * pixelRatio, renderOptions.size * pixelRatio);\n            this.draw_(renderOptions, context, pixelRatio);\n            image = context.canvas;\n            this.canvas_[pixelRatio] = image;\n        }\n        return image;\n    };\n    /**\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Pixel ratio.\n     */\n    RegularShape.prototype.getPixelRatio = function (pixelRatio) {\n        return pixelRatio;\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    RegularShape.prototype.getImageSize = function () {\n        return this.size_;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    RegularShape.prototype.getImageState = function () {\n        return ImageState.LOADED;\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    RegularShape.prototype.getOrigin = function () {\n        return this.origin_;\n    };\n    /**\n     * Get the number of points for generating the shape.\n     * @return {number} Number of points for stars and regular polygons.\n     * @api\n     */\n    RegularShape.prototype.getPoints = function () {\n        return this.points_;\n    };\n    /**\n     * Get the (primary) radius for the shape.\n     * @return {number} Radius.\n     * @api\n     */\n    RegularShape.prototype.getRadius = function () {\n        return this.radius_;\n    };\n    /**\n     * Get the secondary radius for the shape.\n     * @return {number|undefined} Radius2.\n     * @api\n     */\n    RegularShape.prototype.getRadius2 = function () {\n        return this.radius2_;\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @return {import(\"../size.js\").Size} Size.\n     * @api\n     */\n    RegularShape.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * Get the stroke style for the shape.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    RegularShape.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.listenImageChange = function (listener) { };\n    /**\n     * Load not yet loaded URI.\n     */\n    RegularShape.prototype.load = function () { };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.unlistenImageChange = function (listener) { };\n    /**\n     * Calculate additional canvas size needed for the miter.\n     * @param {string} lineJoin Line join\n     * @param {number} strokeWidth Stroke width\n     * @param {number} miterLimit Miter limit\n     * @return {number} Additional canvas size needed\n     * @private\n     */\n    RegularShape.prototype.calculateLineJoinSize_ = function (lineJoin, strokeWidth, miterLimit) {\n        if (strokeWidth === 0 ||\n            this.points_ === Infinity ||\n            (lineJoin !== 'bevel' && lineJoin !== 'miter')) {\n            return strokeWidth;\n        }\n        // m  | ^\n        // i  | |\\                  .\n        // t >|  #\\\n        // e  | |\\ \\              .\n        // r      \\s\\\n        //      |  \\t\\          .                 .\n        //          \\r\\                      .   .\n        //      |    \\o\\      .          .  . . .\n        //          e \\k\\            .  .    . .\n        //      |      \\e\\  .    .  .       . .\n        //       d      \\ \\  .  .          . .\n        //      | _ _a_ _\\#  .            . .\n        //   r1          / `             . .\n        //      |                       . .\n        //       b     /               . .\n        //      |                     . .\n        //           / r2            . .\n        //      |                        .   .\n        //         /                           .   .\n        //      |                                   .   .\n        //       /                                         .   .\n        //       center\n        var r1 = this.radius_;\n        var r2 = this.radius2_ === undefined ? r1 : this.radius2_;\n        if (r1 < r2) {\n            var tmp = r1;\n            r1 = r2;\n            r2 = tmp;\n        }\n        var points = this.radius2_ === undefined ? this.points_ : this.points_ * 2;\n        var alpha = (2 * Math.PI) / points;\n        var a = r2 * Math.sin(alpha);\n        var b = Math.sqrt(r2 * r2 - a * a);\n        var d = r1 - b;\n        var e = Math.sqrt(a * a + d * d);\n        var miterRatio = e / a;\n        if (lineJoin === 'miter' && miterRatio <= miterLimit) {\n            return miterRatio * strokeWidth;\n        }\n        // Calculate the distnce from center to the stroke corner where\n        // it was cut short because of the miter limit.\n        //              l\n        //        ----+---- <= distance from center to here is maxr\n        //       /####|k ##\\\n        //      /#####^#####\\\n        //     /#### /+\\# s #\\\n        //    /### h/+++\\# t #\\\n        //   /### t/+++++\\# r #\\\n        //  /### a/+++++++\\# o #\\\n        // /### p/++ fill +\\# k #\\\n        ///#### /+++++^+++++\\# e #\\\n        //#####/+++++/+\\+++++\\#####\\\n        var k = strokeWidth / 2 / miterRatio;\n        var l = (strokeWidth / 2) * (d / e);\n        var maxr = Math.sqrt((r1 + k) * (r1 + k) + l * l);\n        var bevelAdd = maxr - r1;\n        if (this.radius2_ === undefined || lineJoin === 'bevel') {\n            return bevelAdd * 2;\n        }\n        // If outer miter is over the miter limit the inner miter may reach through the\n        // center and be longer than the bevel, same calculation as above but swap r1 / r2.\n        var aa = r1 * Math.sin(alpha);\n        var bb = Math.sqrt(r1 * r1 - aa * aa);\n        var dd = r2 - bb;\n        var ee = Math.sqrt(aa * aa + dd * dd);\n        var innerMiterRatio = ee / aa;\n        if (innerMiterRatio <= miterLimit) {\n            var innerLength = (innerMiterRatio * strokeWidth) / 2 - r2 - r1;\n            return 2 * Math.max(bevelAdd, innerLength);\n        }\n        return bevelAdd * 2;\n    };\n    /**\n     * @return {RenderOptions}  The render options\n     * @protected\n     */\n    RegularShape.prototype.createRenderOptions = function () {\n        var lineJoin = defaultLineJoin;\n        var miterLimit = 0;\n        var lineDash = null;\n        var lineDashOffset = 0;\n        var strokeStyle;\n        var strokeWidth = 0;\n        if (this.stroke_) {\n            strokeStyle = this.stroke_.getColor();\n            if (strokeStyle === null) {\n                strokeStyle = defaultStrokeStyle;\n            }\n            strokeStyle = asColorLike(strokeStyle);\n            strokeWidth = this.stroke_.getWidth();\n            if (strokeWidth === undefined) {\n                strokeWidth = defaultLineWidth;\n            }\n            lineDash = this.stroke_.getLineDash();\n            lineDashOffset = this.stroke_.getLineDashOffset();\n            lineJoin = this.stroke_.getLineJoin();\n            if (lineJoin === undefined) {\n                lineJoin = defaultLineJoin;\n            }\n            miterLimit = this.stroke_.getMiterLimit();\n            if (miterLimit === undefined) {\n                miterLimit = defaultMiterLimit;\n            }\n        }\n        var add = this.calculateLineJoinSize_(lineJoin, strokeWidth, miterLimit);\n        var maxRadius = Math.max(this.radius_, this.radius2_ || 0);\n        var size = Math.ceil(2 * maxRadius + add);\n        return {\n            strokeStyle: strokeStyle,\n            strokeWidth: strokeWidth,\n            size: size,\n            lineDash: lineDash,\n            lineDashOffset: lineDashOffset,\n            lineJoin: lineJoin,\n            miterLimit: miterLimit,\n        };\n    };\n    /**\n     * @protected\n     */\n    RegularShape.prototype.render = function () {\n        this.renderOptions_ = this.createRenderOptions();\n        var size = this.renderOptions_.size;\n        this.canvas_ = {};\n        this.size_ = [size, size];\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The rendering context.\n     * @param {number} pixelRatio The pixel ratio.\n     */\n    RegularShape.prototype.draw_ = function (renderOptions, context, pixelRatio) {\n        context.scale(pixelRatio, pixelRatio);\n        // set origin to canvas center\n        context.translate(renderOptions.size / 2, renderOptions.size / 2);\n        this.createPath_(context);\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            if (color === null) {\n                color = defaultFillStyle;\n            }\n            context.fillStyle = asColorLike(color);\n            context.fill();\n        }\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (context.setLineDash && renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.lineJoin = renderOptions.lineJoin;\n            context.miterLimit = renderOptions.miterLimit;\n            context.stroke();\n        }\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     */\n    RegularShape.prototype.createHitDetectionCanvas_ = function (renderOptions) {\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            // determine if fill is transparent (or pattern or gradient)\n            var opacity = 0;\n            if (typeof color === 'string') {\n                color = asArray(color);\n            }\n            if (color === null) {\n                opacity = 1;\n            }\n            else if (Array.isArray(color)) {\n                opacity = color.length === 4 ? color[3] : 1;\n            }\n            if (opacity === 0) {\n                // if a transparent fill style is set, create an extra hit-detection image\n                // with a default fill style\n                var context = createCanvasContext2D(renderOptions.size, renderOptions.size);\n                this.hitDetectionCanvas_ = context.canvas;\n                this.drawHitDetectionCanvas_(renderOptions, context);\n            }\n        }\n        if (!this.hitDetectionCanvas_) {\n            this.hitDetectionCanvas_ = this.getImage(1);\n        }\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context The context to draw in.\n     */\n    RegularShape.prototype.createPath_ = function (context) {\n        var points = this.points_;\n        var radius = this.radius_;\n        if (points === Infinity) {\n            context.arc(0, 0, radius, 0, 2 * Math.PI);\n        }\n        else {\n            var radius2 = this.radius2_ === undefined ? radius : this.radius2_;\n            if (this.radius2_ !== undefined) {\n                points *= 2;\n            }\n            var startAngle = this.angle_ - Math.PI / 2;\n            var step = (2 * Math.PI) / points;\n            for (var i = 0; i < points; i++) {\n                var angle0 = startAngle + i * step;\n                var radiusC = i % 2 === 0 ? radius : radius2;\n                context.lineTo(radiusC * Math.cos(angle0), radiusC * Math.sin(angle0));\n            }\n            context.closePath();\n        }\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The context.\n     */\n    RegularShape.prototype.drawHitDetectionCanvas_ = function (renderOptions, context) {\n        // set origin to canvas center\n        context.translate(renderOptions.size / 2, renderOptions.size / 2);\n        this.createPath_(context);\n        context.fillStyle = defaultFillStyle;\n        context.fill();\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.lineJoin = renderOptions.lineJoin;\n            context.miterLimit = renderOptions.miterLimit;\n            context.stroke();\n        }\n    };\n    return RegularShape;\n}(ImageStyle));\nexport default RegularShape;\n//# sourceMappingURL=RegularShape.js.map","/**\n * @module ol/style/Stroke\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n * @property {CanvasLineCap} [lineCap='round'] Line cap style: `butt`, `round`, or `square`.\n * @property {CanvasLineJoin} [lineJoin='round'] Line join style: `bevel`, `round`, or `miter`.\n * @property {Array<number>} [lineDash] Line dash pattern. Default is `null` (no dash).\n * Please note that Internet Explorer 10 and lower do not support the `setLineDash` method on\n * the `CanvasRenderingContext2D` and therefore this option will have no visual effect in these browsers.\n * @property {number} [lineDashOffset=0] Line dash offset.\n * @property {number} [miterLimit=10] Miter limit.\n * @property {number} [width] Width.\n */\n/**\n * @classdesc\n * Set stroke style for vector features.\n * Note that the defaults given are the Canvas defaults, which will be used if\n * option is not defined. The `get` functions return whatever was entered in\n * the options; they will not return the default.\n * @api\n */\nvar Stroke = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Stroke(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n        /**\n         * @private\n         * @type {CanvasLineCap|undefined}\n         */\n        this.lineCap_ = options.lineCap;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.lineDash_ = options.lineDash !== undefined ? options.lineDash : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.lineDashOffset_ = options.lineDashOffset;\n        /**\n         * @private\n         * @type {CanvasLineJoin|undefined}\n         */\n        this.lineJoin_ = options.lineJoin;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.miterLimit_ = options.miterLimit;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.width_ = options.width;\n    }\n    /**\n     * Clones the style.\n     * @return {Stroke} The cloned style.\n     * @api\n     */\n    Stroke.prototype.clone = function () {\n        var color = this.getColor();\n        return new Stroke({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n            lineCap: this.getLineCap(),\n            lineDash: this.getLineDash() ? this.getLineDash().slice() : undefined,\n            lineDashOffset: this.getLineDashOffset(),\n            lineJoin: this.getLineJoin(),\n            miterLimit: this.getMiterLimit(),\n            width: this.getWidth(),\n        });\n    };\n    /**\n     * Get the stroke color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n     * @api\n     */\n    Stroke.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the line cap type for the stroke.\n     * @return {CanvasLineCap|undefined} Line cap.\n     * @api\n     */\n    Stroke.prototype.getLineCap = function () {\n        return this.lineCap_;\n    };\n    /**\n     * Get the line dash style for the stroke.\n     * @return {Array<number>} Line dash.\n     * @api\n     */\n    Stroke.prototype.getLineDash = function () {\n        return this.lineDash_;\n    };\n    /**\n     * Get the line dash offset for the stroke.\n     * @return {number|undefined} Line dash offset.\n     * @api\n     */\n    Stroke.prototype.getLineDashOffset = function () {\n        return this.lineDashOffset_;\n    };\n    /**\n     * Get the line join type for the stroke.\n     * @return {CanvasLineJoin|undefined} Line join.\n     * @api\n     */\n    Stroke.prototype.getLineJoin = function () {\n        return this.lineJoin_;\n    };\n    /**\n     * Get the miter limit for the stroke.\n     * @return {number|undefined} Miter limit.\n     * @api\n     */\n    Stroke.prototype.getMiterLimit = function () {\n        return this.miterLimit_;\n    };\n    /**\n     * Get the stroke width.\n     * @return {number|undefined} Width.\n     * @api\n     */\n    Stroke.prototype.getWidth = function () {\n        return this.width_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n     * @api\n     */\n    Stroke.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    /**\n     * Set the line cap.\n     *\n     * @param {CanvasLineCap|undefined} lineCap Line cap.\n     * @api\n     */\n    Stroke.prototype.setLineCap = function (lineCap) {\n        this.lineCap_ = lineCap;\n    };\n    /**\n     * Set the line dash.\n     *\n     * Please note that Internet Explorer 10 and lower [do not support][mdn] the\n     * `setLineDash` method on the `CanvasRenderingContext2D` and therefore this\n     * property will have no visual effect in these browsers.\n     *\n     * [mdn]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility\n     *\n     * @param {Array<number>} lineDash Line dash.\n     * @api\n     */\n    Stroke.prototype.setLineDash = function (lineDash) {\n        this.lineDash_ = lineDash;\n    };\n    /**\n     * Set the line dash offset.\n     *\n     * @param {number|undefined} lineDashOffset Line dash offset.\n     * @api\n     */\n    Stroke.prototype.setLineDashOffset = function (lineDashOffset) {\n        this.lineDashOffset_ = lineDashOffset;\n    };\n    /**\n     * Set the line join.\n     *\n     * @param {CanvasLineJoin|undefined} lineJoin Line join.\n     * @api\n     */\n    Stroke.prototype.setLineJoin = function (lineJoin) {\n        this.lineJoin_ = lineJoin;\n    };\n    /**\n     * Set the miter limit.\n     *\n     * @param {number|undefined} miterLimit Miter limit.\n     * @api\n     */\n    Stroke.prototype.setMiterLimit = function (miterLimit) {\n        this.miterLimit_ = miterLimit;\n    };\n    /**\n     * Set the width.\n     *\n     * @param {number|undefined} width Width.\n     * @api\n     */\n    Stroke.prototype.setWidth = function (width) {\n        this.width_ = width;\n    };\n    return Stroke;\n}());\nexport default Stroke;\n//# sourceMappingURL=Stroke.js.map","/**\n * @module ol/style/Style\n */\nimport CircleStyle from './Circle.js';\nimport Fill from './Fill.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport Stroke from './Stroke.js';\nimport { assert } from '../asserts.js';\n/**\n * A function that takes an {@link module:ol/Feature~Feature} and a `{number}`\n * representing the view's resolution. The function should return a\n * {@link module:ol/style/Style~Style} or an array of them. This way e.g. a\n * vector layer can be styled. If the function returns `undefined`, the\n * feature will not be rendered.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike, number):(Style|Array<Style>|void)} StyleFunction\n */\n/**\n * A {@link Style}, an array of {@link Style}, or a {@link StyleFunction}.\n * @typedef {Style|Array<Style>|StyleFunction} StyleLike\n */\n/**\n * A function that takes an {@link module:ol/Feature~Feature} as argument and returns an\n * {@link module:ol/geom/Geometry~Geometry} that will be rendered and styled for the feature.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike):\n *     (import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined)} GeometryFunction\n */\n/**\n * Custom renderer function. Takes two arguments:\n *\n * 1. The pixel coordinates of the geometry in GeoJSON notation.\n * 2. The {@link module:ol/render~State} of the layer renderer.\n *\n * @typedef {function((import(\"../coordinate.js\").Coordinate|Array<import(\"../coordinate.js\").Coordinate>|Array<Array<import(\"../coordinate.js\").Coordinate>>),import(\"../render.js\").State): void}\n * RenderFunction\n */\n/**\n * @typedef {Object} Options\n * @property {string|import(\"../geom/Geometry.js\").default|GeometryFunction} [geometry] Feature property or geometry\n * or function returning a geometry to render for this style.\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {import(\"./Image.js\").default} [image] Image style.\n * @property {RenderFunction} [renderer] Custom renderer. When configured, `fill`, `stroke` and `image` will be\n * ignored, and the provided function will be called with each render frame for each geometry.\n * @property {RenderFunction} [hitDetectionRenderer] Custom renderer for hit detection. If provided will be used\n * in hit detection rendering.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {import(\"./Text.js\").default} [text] Text style.\n * @property {number} [zIndex] Z index.\n */\n/**\n * @classdesc\n * Container for vector feature rendering styles. Any changes made to the style\n * or its children through `set*()` methods will not take effect until the\n * feature or layer that uses the style is re-rendered.\n *\n * ## Feature styles\n *\n * If no style is defined, the following default style is used:\n * ```js\n *  import {Circle, Fill, Stroke, Style} from 'ol/style';\n *\n *  const fill = new Fill({\n *    color: 'rgba(255,255,255,0.4)',\n *  });\n *  const stroke = new Stroke({\n *    color: '#3399CC',\n *    width: 1.25,\n *  });\n *  const styles = [\n *    new Style({\n *      image: new Circle({\n *        fill: fill,\n *        stroke: stroke,\n *        radius: 5,\n *      }),\n *      fill: fill,\n *      stroke: stroke,\n *    }),\n *  ];\n * ```\n *\n * A separate editing style has the following defaults:\n * ```js\n *  import GeometryType from 'ol/geom/GeometryType';\n *  import {Circle, Fill, Stroke, Style} from 'ol/style';\n *\n *  const styles = {};\n *  const white = [255, 255, 255, 1];\n *  const blue = [0, 153, 255, 1];\n *  const width = 3;\n *  styles[GeometryType.POLYGON] = [\n *    new Style({\n *      fill: new Fill({\n *        color: [255, 255, 255, 0.5],\n *      }),\n *    }),\n *  ];\n *  styles[GeometryType.MULTI_POLYGON] = styles[GeometryType.POLYGON];\n *\n *  styles[GeometryType.LINE_STRING] = [\n *    new Style({\n *      stroke: new Stroke({\n *        color: white,\n *        width: width + 2,\n *      }),\n *    }),\n *    new Style({\n *      stroke: new Stroke({\n *        color: blue,\n *        width: width,\n *      }),\n *    }),\n *  ];\n *  styles[GeometryType.MULTI_LINE_STRING] = styles[GeometryType.LINE_STRING];\n *\n *  styles[GeometryType.CIRCLE] = styles[GeometryType.POLYGON].concat(\n *    styles[GeometryType.LINE_STRING]\n *  );\n *\n *  styles[GeometryType.POINT] = [\n *    new Style({\n *      image: new Circle({\n *        radius: width * 2,\n *        fill: new Fill({\n *          color: blue,\n *        }),\n *        stroke: new Stroke({\n *          color: white,\n *          width: width / 2,\n *        }),\n *      }),\n *      zIndex: Infinity,\n *    }),\n *  ];\n *  styles[GeometryType.MULTI_POINT] = styles[GeometryType.POINT];\n *\n *  styles[GeometryType.GEOMETRY_COLLECTION] = styles[\n *    GeometryType.POLYGON\n *  ].concat(styles[GeometryType.LINE_STRING], styles[GeometryType.POINT]);\n * ```\n *\n * @api\n */\nvar Style = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Style options.\n     */\n    function Style(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n         */\n        this.geometry_ = null;\n        /**\n         * @private\n         * @type {!GeometryFunction}\n         */\n        this.geometryFunction_ = defaultGeometryFunction;\n        if (options.geometry !== undefined) {\n            this.setGeometry(options.geometry);\n        }\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {import(\"./Image.js\").default}\n         */\n        this.image_ = options.image !== undefined ? options.image : null;\n        /**\n         * @private\n         * @type {RenderFunction|null}\n         */\n        this.renderer_ = options.renderer !== undefined ? options.renderer : null;\n        /**\n         * @private\n         * @type {RenderFunction|null}\n         */\n        this.hitDetectionRenderer_ =\n            options.hitDetectionRenderer !== undefined\n                ? options.hitDetectionRenderer\n                : null;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {import(\"./Text.js\").default}\n         */\n        this.text_ = options.text !== undefined ? options.text : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.zIndex_ = options.zIndex;\n    }\n    /**\n     * Clones the style.\n     * @return {Style} The cloned style.\n     * @api\n     */\n    Style.prototype.clone = function () {\n        var geometry = this.getGeometry();\n        if (geometry && typeof geometry === 'object') {\n            geometry = /** @type {import(\"../geom/Geometry.js\").default} */ (geometry).clone();\n        }\n        return new Style({\n            geometry: geometry,\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            image: this.getImage() ? this.getImage().clone() : undefined,\n            renderer: this.getRenderer(),\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            text: this.getText() ? this.getText().clone() : undefined,\n            zIndex: this.getZIndex(),\n        });\n    };\n    /**\n     * Get the custom renderer function that was configured with\n     * {@link #setRenderer} or the `renderer` constructor option.\n     * @return {RenderFunction|null} Custom renderer function.\n     * @api\n     */\n    Style.prototype.getRenderer = function () {\n        return this.renderer_;\n    };\n    /**\n     * Sets a custom renderer function for this style. When set, `fill`, `stroke`\n     * and `image` options of the style will be ignored.\n     * @param {RenderFunction|null} renderer Custom renderer function.\n     * @api\n     */\n    Style.prototype.setRenderer = function (renderer) {\n        this.renderer_ = renderer;\n    };\n    /**\n     * Sets a custom renderer function for this style used\n     * in hit detection.\n     * @param {RenderFunction|null} renderer Custom renderer function.\n     * @api\n     */\n    Style.prototype.setHitDetectionRenderer = function (renderer) {\n        this.hitDetectionRenderer_ = renderer;\n    };\n    /**\n     * Get the custom renderer function that was configured with\n     * {@link #setHitDetectionRenderer} or the `hitDetectionRenderer` constructor option.\n     * @return {RenderFunction|null} Custom renderer function.\n     * @api\n     */\n    Style.prototype.getHitDetectionRenderer = function () {\n        return this.hitDetectionRenderer_;\n    };\n    /**\n     * Get the geometry to be rendered.\n     * @return {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n     * Feature property or geometry or function that returns the geometry that will\n     * be rendered with this style.\n     * @api\n     */\n    Style.prototype.getGeometry = function () {\n        return this.geometry_;\n    };\n    /**\n     * Get the function used to generate a geometry for rendering.\n     * @return {!GeometryFunction} Function that is called with a feature\n     * and returns the geometry to render instead of the feature's geometry.\n     * @api\n     */\n    Style.prototype.getGeometryFunction = function () {\n        return this.geometryFunction_;\n    };\n    /**\n     * Get the fill style.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Style.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Set the fill style.\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Style.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n    };\n    /**\n     * Get the image style.\n     * @return {import(\"./Image.js\").default} Image style.\n     * @api\n     */\n    Style.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Set the image style.\n     * @param {import(\"./Image.js\").default} image Image style.\n     * @api\n     */\n    Style.prototype.setImage = function (image) {\n        this.image_ = image;\n    };\n    /**\n     * Get the stroke style.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Style.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Set the stroke style.\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Style.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n    };\n    /**\n     * Get the text style.\n     * @return {import(\"./Text.js\").default} Text style.\n     * @api\n     */\n    Style.prototype.getText = function () {\n        return this.text_;\n    };\n    /**\n     * Set the text style.\n     * @param {import(\"./Text.js\").default} text Text style.\n     * @api\n     */\n    Style.prototype.setText = function (text) {\n        this.text_ = text;\n    };\n    /**\n     * Get the z-index for the style.\n     * @return {number|undefined} ZIndex.\n     * @api\n     */\n    Style.prototype.getZIndex = function () {\n        return this.zIndex_;\n    };\n    /**\n     * Set a geometry that is rendered instead of the feature's geometry.\n     *\n     * @param {string|import(\"../geom/Geometry.js\").default|GeometryFunction} geometry\n     *     Feature property or geometry or function returning a geometry to render\n     *     for this style.\n     * @api\n     */\n    Style.prototype.setGeometry = function (geometry) {\n        if (typeof geometry === 'function') {\n            this.geometryFunction_ = geometry;\n        }\n        else if (typeof geometry === 'string') {\n            this.geometryFunction_ = function (feature) {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (feature.get(geometry));\n            };\n        }\n        else if (!geometry) {\n            this.geometryFunction_ = defaultGeometryFunction;\n        }\n        else if (geometry !== undefined) {\n            this.geometryFunction_ = function () {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (geometry);\n            };\n        }\n        this.geometry_ = geometry;\n    };\n    /**\n     * Set the z-index.\n     *\n     * @param {number|undefined} zIndex ZIndex.\n     * @api\n     */\n    Style.prototype.setZIndex = function (zIndex) {\n        this.zIndex_ = zIndex;\n    };\n    return Style;\n}());\n/**\n * Convert the provided object into a style function.  Functions passed through\n * unchanged.  Arrays of Style or single style objects wrapped in a\n * new style function.\n * @param {StyleFunction|Array<Style>|Style} obj\n *     A style function, a single style, or an array of styles.\n * @return {StyleFunction} A style function.\n */\nexport function toFunction(obj) {\n    var styleFunction;\n    if (typeof obj === 'function') {\n        styleFunction = obj;\n    }\n    else {\n        /**\n         * @type {Array<Style>}\n         */\n        var styles_1;\n        if (Array.isArray(obj)) {\n            styles_1 = obj;\n        }\n        else {\n            assert(typeof ( /** @type {?} */(obj).getZIndex) === 'function', 41); // Expected an `Style` or an array of `Style`\n            var style = /** @type {Style} */ (obj);\n            styles_1 = [style];\n        }\n        styleFunction = function () {\n            return styles_1;\n        };\n    }\n    return styleFunction;\n}\n/**\n * @type {Array<Style>|null}\n */\nvar defaultStyles = null;\n/**\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {number} resolution Resolution.\n * @return {Array<Style>} Style.\n */\nexport function createDefaultStyle(feature, resolution) {\n    // We don't use an immediately-invoked function\n    // and a closure so we don't get an error at script evaluation time in\n    // browsers that do not support Canvas. (import(\"./Circle.js\").CircleStyle does\n    // canvas.getContext('2d') at construction time, which will cause an.error\n    // in such browsers.)\n    if (!defaultStyles) {\n        var fill = new Fill({\n            color: 'rgba(255,255,255,0.4)',\n        });\n        var stroke = new Stroke({\n            color: '#3399CC',\n            width: 1.25,\n        });\n        defaultStyles = [\n            new Style({\n                image: new CircleStyle({\n                    fill: fill,\n                    stroke: stroke,\n                    radius: 5,\n                }),\n                fill: fill,\n                stroke: stroke,\n            }),\n        ];\n    }\n    return defaultStyles;\n}\n/**\n * Default styles for editing features.\n * @return {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} Styles\n */\nexport function createEditingStyle() {\n    /** @type {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} */\n    var styles = {};\n    var white = [255, 255, 255, 1];\n    var blue = [0, 153, 255, 1];\n    var width = 3;\n    styles[GeometryType.POLYGON] = [\n        new Style({\n            fill: new Fill({\n                color: [255, 255, 255, 0.5],\n            }),\n        }),\n    ];\n    styles[GeometryType.MULTI_POLYGON] = styles[GeometryType.POLYGON];\n    styles[GeometryType.LINE_STRING] = [\n        new Style({\n            stroke: new Stroke({\n                color: white,\n                width: width + 2,\n            }),\n        }),\n        new Style({\n            stroke: new Stroke({\n                color: blue,\n                width: width,\n            }),\n        }),\n    ];\n    styles[GeometryType.MULTI_LINE_STRING] = styles[GeometryType.LINE_STRING];\n    styles[GeometryType.CIRCLE] = styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING]);\n    styles[GeometryType.POINT] = [\n        new Style({\n            image: new CircleStyle({\n                radius: width * 2,\n                fill: new Fill({\n                    color: blue,\n                }),\n                stroke: new Stroke({\n                    color: white,\n                    width: width / 2,\n                }),\n            }),\n            zIndex: Infinity,\n        }),\n    ];\n    styles[GeometryType.MULTI_POINT] = styles[GeometryType.POINT];\n    styles[GeometryType.GEOMETRY_COLLECTION] = styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING], styles[GeometryType.POINT]);\n    return styles;\n}\n/**\n * Function that is called with a feature and returns its default geometry.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature to get the geometry for.\n * @return {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined} Geometry to render.\n */\nfunction defaultGeometryFunction(feature) {\n    return feature.getGeometry();\n}\nexport default Style;\n//# sourceMappingURL=Style.js.map","/**\n * @module ol/style/TextPlacement\n */\n/**\n * Text placement. One of `'point'`, `'line'`. Default is `'point'`. Note that\n * `'line'` requires the underlying geometry to be a {@link module:ol/geom/LineString~LineString},\n * {@link module:ol/geom/Polygon~Polygon}, {@link module:ol/geom/MultiLineString~MultiLineString} or\n * {@link module:ol/geom/MultiPolygon~MultiPolygon}.\n * @enum {string}\n */\nexport default {\n    POINT: 'point',\n    LINE: 'line',\n};\n//# sourceMappingURL=TextPlacement.js.map"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","Source","_super","options","_this","projection","attributions_","adaptAttributions","attributions","attributionsCollapsible_","undefined","attributionsCollapsible","loading","state_","state","wrapX_","wrapX","interpolate_","interpolate","viewResolver","viewRejector","self","viewPromise_","Promise","resolve","reject","getAttributions","getAttributionsCollapsible","getProjection","getResolutions","getView","getState","getWrapX","getInterpolate","refresh","changed","setAttributions","setState","attributionLike","isArray","frameState","UNDEFINED","LOADING","READY","ERROR","TileSource","on","once","un","opaque_","opaque","tilePixelRatio_","tilePixelRatio","tileGrid","tileSize","getTileSize","getMinZoom","tileCache","cacheSize","tmpSize","key_","key","tileOptions","transition","zDirection","canExpireCache","expireCache","usedTiles","getTileCacheForProjection","forEachLoadedTile","z","tileRange","callback","tile","tileCoordKey","loaded","covered","x","minX","maxX","y","minY","maxY","containsKey","get","getGutterForProjection","getKey","setKey","getOpaque","getTile","pixelRatio","getTileGrid","getTileGridForProjection","getTilePixelRatio","getTilePixelSize","getTileCoordForTileUrlFunction","tileCoord","opt_projection","isGlobal","clear","updateCacheSize","tileCount","highWaterMark","useTile","TileSourceEvent","type","TILELOADSTART","TILELOADEND","TILELOADERROR","UrlTile","generateTileUrlFunction_","tileUrlFunction","tileLoadFunction","urls","setUrls","url","setUrl","tileLoadingKeys_","getTileLoadFunction","getTileUrlFunction","getPrototypeOf","bind","getUrls","handleTileChange","event","uid","tileState","TileState","TileEventType","dispatchEvent","setTileLoadFunction","setTileUrlFunction","pruneExceptNewestZ","join","TileImage","imageSmoothing","defaultTileLoadFunction","crossOrigin","tileClass","ImageTile","tileCacheForProjection","tileGridForProjection","reprojectionErrorThreshold_","reprojectionErrorThreshold","renderReprojectionEdges_","usedTileCache","id","getGutter","thisProj","projKey","TileCache","createTile_","urlTileCoord","tileUrl","addEventListener","EventType","sourceProjection","cache","sourceTileGrid","targetTileGrid","wrappedTileCoord","newTile","getTileInternal","interimTile","refreshInterimChain","replace","set","setRenderReprojectionEdges","render","setTileGridForProjection","tilegrid","proj","imageTile","src","getImage","VectorSourceEvent","opt_feature","opt_features","feature","features","VectorSource","opt_options","loader_","format_","format","overlaps_","overlaps","url_","loader","strategy_","strategy","collection","useSpatialIndex","featuresRtree_","loadedExtentsRtree_","loadingExtentsCount_","nullGeometryFeatures_","idIndex_","uidIndex_","featureChangeKeys_","featuresCollection_","getArray","addFeaturesInternal","bindFeaturesCollection_","addFeature","addFeatureInternal","featureKey","addToIndex_","setupChangeEvents_","geometry","getGeometry","extent","getExtent","insert","remove","handleFeatureChange_","valid","getId","toString","addFeatures","extents","newFeatures","geometryFeatures","i","length_1","length","push","length_2","load","hasListener","length_3","modifyingCollection","evt","removeFeature","opt_fast","featureId","keys","forEach","removeAndIgnoreReturn","removeFeatureInternal","clearEvent","forEachFeature","forEachFeatureAtCoordinateDirect","coordinate","forEachFeatureInExtent","intersectsCoordinate","forEachInExtent","forEachFeatureIntersectingExtent","intersectsExtent","result","getFeaturesCollection","getFeatures","slice","getAll","getFeaturesAtCoordinate","getFeaturesInExtent","getInExtent","getClosestFeatureToCoordinate","opt_filter","closestFeature","closestPoint","NaN","minSquaredDistance","Infinity","filter","previousMinSquaredDistance","closestPointXY","minDistance","Math","sqrt","opt_extent","getFeatureById","getFeatureByUid","getFormat","getOverlaps","getUrl","update","sid","removeFromIdIndex_","hasFeature","isEmpty","getLength","loadFeatures","resolution","loadedExtentsRtree","extentsToLoad","_loop_1","ii","extentToLoad","alreadyLoaded","object","this_1","removeLoadedExtent","obj","featureChangeKeys","removed","setLoader","ADDFEATURE","CHANGEFEATURE","CLEAR","REMOVEFEATURE","FEATURESLOADSTART","FEATURESLOADEND","FEATURESLOADERROR","XYZ","maxResolution","maxZoom","minZoom","LRUCache","opt_highWaterMark","count_","entries_","oldest_","newest_","getCount","keep","pop","f","entry","value_","newer","older","getKeys","getValues","values","peekLast","peekLastKey","peekFirstKey","value","setSize","size","DROP","PriorityQueue","priorityFunction","keyFunction","priorityFunction_","keyFunction_","elements_","priorities_","queuedElements_","dequeue","elements","priorities","element","siftUp_","elementKey","enqueue","priority","siftDown_","getLeftChildIndex_","index","getRightChildIndex_","getParentIndex_","heapify_","isKeyQueued","isQueued","count","startIndex","lIndex","rIndex","smallerChildIndex","parentIndex","reprioritize","n","RBush","opt_maxEntries","rbush_","items_","item","items","l","bbox","all","map","search","forEach_","data","toJSON","concat","rbush","CircleStyle","points","fill","radius","stroke","scale","rotation","rotateWithView","displacement","clone","getScale","style","getFill","getStroke","getRadius","getRotation","getRotateWithView","getDisplacement","setOpacity","getOpacity","setRadius","radius_","Fill","color_","color","getColor","setColor","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","taintedTestContext","IconImage","image","imageState","hitDetectionImage_","image_","Image","canvas_","unlisten_","imageState_","size_","src_","tainted_","isTainted_","ImageState","drawImage","getImageData","e","dispatchChangeEvent_","handleImageError_","unlistenImage_","handleImageLoad_","width","height","replaceColor_","getPixelRatio","getImageState","getHitDetectionImage","context","fillRect","canvas","getSize","getSrc","document","createElement","ceil","ctx","getContext","globalCompositeOperation","fillStyle","imgData","r","g","a","putImageData","iconImage","Icon","opacity","anchor_","anchor","normalizedAnchor_","anchorOrigin_","anchorOrigin","IconOrigin","anchorXUnits_","anchorXUnits","IconAnchorUnits","anchorYUnits_","anchorYUnits","crossOrigin_","img","imgSize_","imgSize","iconImage_","offset_","offset","offsetOrigin_","offsetOrigin","origin_","getAnchor","setAnchor","getImageSize","getOrigin","iconImageSize","listenImageChange","listener","unlistenImageChange","removeEventListener","FRACTION","PIXELS","IconImageCache","cache_","cacheSize_","maxCacheSize_","expire","maxCacheSize","colorString","shared","ImageStyle","opacity_","rotateWithView_","rotation_","scale_","scaleArray_","displacement_","getScaleArray","setDisplacement","setRotateWithView","setRotation","setScale","RegularShape","hitDetectionCanvas_","fill_","points_","radius1","radius2_","radius2","angle_","angle","stroke_","renderOptions_","getPoints","getRadius2","getAngle","createHitDetectionCanvas_","renderOptions","draw_","calculateLineJoinSize_","lineJoin","strokeWidth","miterLimit","r1","r2","tmp","alpha","PI","sin","miterRatio","k","maxr","bevelAdd","aa","bb","dd","ee","innerMiterRatio","innerLength","max","createRenderOptions","strokeStyle","lineDash","lineDashOffset","getWidth","getLineDash","getLineDashOffset","getLineJoin","getMiterLimit","add","maxRadius","translate","createPath_","lineWidth","setLineDash","drawHitDetectionCanvas_","arc","startAngle","step","angle0","radiusC","lineTo","cos","closePath","Stroke","lineCap_","lineCap","lineDash_","lineDashOffset_","lineJoin_","miterLimit_","width_","getLineCap","setLineCap","setLineDashOffset","setLineJoin","setMiterLimit","setWidth","Style","geometry_","geometryFunction_","defaultGeometryFunction","setGeometry","renderer_","renderer","hitDetectionRenderer_","hitDetectionRenderer","text_","text","zIndex_","zIndex","getRenderer","getText","getZIndex","setRenderer","setHitDetectionRenderer","getHitDetectionRenderer","getGeometryFunction","setFill","setImage","setStroke","setText","setZIndex","toFunction","styleFunction","styles_1","defaultStyles","createDefaultStyle","createEditingStyle","styles","white","blue","POINT","LINE"],"sourceRoot":""}