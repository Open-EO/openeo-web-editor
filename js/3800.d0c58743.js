"use strict";(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[3800],{6782:(t,n,o)=>{function e(t){return t[0]>0&&t[1]>0}function i(t,n,o){return void 0===o&&(o=[0,0]),o[0]=t[0]*n+.5|0,o[1]=t[1]*n+.5|0,o}function a(t,n){return Array.isArray(t)?t:(void 0===n?n=[t,t]:(n[0]=t,n[1]=t),n)}o.d(n,{Ie:()=>e,hs:()=>i,xq:()=>a})},24498:(t,n,o)=>{o.d(n,{a$:()=>r,b8:()=>i,cq:()=>c,dv:()=>a});var e=o(61597);function i(t){if(void 0!==t)return 0}function a(t){if(void 0!==t)return t}function r(t){const n=2*Math.PI/t;return function(t,o){return o?t:void 0!==t?(t=Math.floor(t/n+.5)*n,t):void 0}}function c(t){const n=void 0===t?(0,e.eh)(5):t;return function(t,o){return o||void 0===t?t:Math.abs(t)<=n?0:t}}},33513:(t,n,o)=>{o.d(n,{BV:()=>u,XX:()=>g,aY:()=>d});var e=o(70915),i=o(68711),a=o(89718),r=o(61597);let c;const u=[];function s(t,n,o,e,i){t.beginPath(),t.moveTo(0,0),t.lineTo(n,o),t.lineTo(e,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(n,e)+1,Math.max(o,i)),t.restore()}function h(t,n){return Math.abs(t[4*n]-210)>2||Math.abs(t[4*n+3]-191.25)>2}function l(){if(void 0===c){const t=(0,i.Y)(6,6,u);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",s(t,4,5,4,0),s(t,4,5,0,5);const n=t.getImageData(0,0,3,3).data;c=h(n,0)||h(n,4)||h(n,8),(0,i.Yg)(t),u.push(t.canvas)}return c}function f(t,n,o,i){const r=(0,a.transform)(o,n,t);let c=(0,a.getPointResolution)(n,i,o);const u=n.getMetersPerUnit();void 0!==u&&(c*=u);const s=t.getMetersPerUnit();void 0!==s&&(c/=s);const h=t.getExtent();if(!h||(0,e.Ym)(h,r)){const n=(0,a.getPointResolution)(t,c,r)/c;isFinite(n)&&n>0&&(c/=n)}return c}function d(t,n,o,i){const a=(0,e.q1)(o);let r=f(t,n,a,i);return(!isFinite(r)||r<=0)&&(0,e.sB)(o,function(o){return r=f(t,n,o,i),isFinite(r)&&r>0}),r}function g(t,n,o,a,c,s,h,f,d,g,M,m,v,p){const x=(0,i.Y)(Math.round(o*t),Math.round(o*n),u);if(m||(x.imageSmoothingEnabled=!1),0===d.length)return x.canvas;function b(t){return Math.round(t*o)/o}x.scale(o,o),x.globalCompositeOperation="lighter";const E=(0,e.S5)();let T;d.forEach(function(t,n,o){(0,e.X$)(E,t.extent)});const q=o/a,w=(m?1:1+Math.pow(2,-24))/q;if(!v||1!==d.length||0!==g){if(T=(0,i.Y)(Math.round((0,e.RG)(E)*q),Math.round((0,e.Oq)(E)*q),u),m||(T.imageSmoothingEnabled=!1),c&&p){const t=(c[0]-E[0])*q,n=-(c[3]-E[3])*q,o=(0,e.RG)(c)*q,i=(0,e.Oq)(c)*q;T.rect(t,n,o,i),T.clip()}d.forEach(function(t,n,o){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){T.save();const n=(t.clipExtent[0]-E[0])*q,o=-(t.clipExtent[3]-E[3])*q,i=(0,e.RG)(t.clipExtent)*q,a=(0,e.Oq)(t.clipExtent)*q;T.rect(m?n:Math.round(n),m?o:Math.round(o),m?i:Math.round(n+i)-Math.round(n),m?a:Math.round(o+a)-Math.round(o)),T.clip()}const n=(t.extent[0]-E[0])*q,o=-(t.extent[3]-E[3])*q,i=(0,e.RG)(t.extent)*q,a=(0,e.Oq)(t.extent)*q;T.drawImage(t.image,g,g,t.image.width-2*g,t.image.height-2*g,m?n:Math.round(n),m?o:Math.round(o),m?i:Math.round(n+i)-Math.round(n),m?a:Math.round(o+a)-Math.round(o)),t.clipExtent&&T.restore()}})}const P=(0,e.Py)(h);return f.getTriangles().forEach(function(t,n,o){const i=t.source,a=t.target;let c=i[0][0],u=i[0][1],h=i[1][0],f=i[1][1],g=i[2][0],M=i[2][1];const v=b((a[0][0]-P[0])/s),p=b(-(a[0][1]-P[1])/s),q=b((a[1][0]-P[0])/s),O=b(-(a[1][1]-P[1])/s),R=b((a[2][0]-P[0])/s),k=b(-(a[2][1]-P[1])/s),Y=c,G=u;c=0,u=0,h-=Y,f-=G,g-=Y,M-=G;const _=[[h,f,0,0,q-v],[g,M,0,0,R-v],[0,0,h,f,O-p],[0,0,g,M,k-p]],y=(0,r.KU)(_);if(!y)return;if(x.save(),x.beginPath(),l()||!m){x.moveTo(q,O);const t=4,n=v-q,o=p-O;for(let e=0;e<t;e++)x.lineTo(q+b((e+1)*n/t),O+b(e*o/(t-1))),e!=t-1&&x.lineTo(q+b((e+1)*n/t),O+b((e+1)*o/(t-1)));x.lineTo(R,k)}else x.moveTo(q,O),x.lineTo(v,p),x.lineTo(R,k);let C;if(x.clip(),x.transform(y[0],y[2],y[1],y[3],v,p),x.translate(E[0]-Y,E[3]-G),T)C=T.canvas,x.scale(w,-w);else{const t=d[0],n=t.extent;C=t.image,x.scale((0,e.RG)(n)/C.width,-(0,e.Oq)(n)/C.height)}x.drawImage(C,0,0),x.restore()}),T&&((0,i.Yg)(T),u.push(T.canvas)),M&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,f.getTriangles().forEach(function(t,n,o){const e=t.target,i=(e[0][0]-P[0])/s,a=-(e[0][1]-P[1])/s,r=(e[1][0]-P[0])/s,c=-(e[1][1]-P[1])/s,u=(e[2][0]-P[0])/s,h=-(e[2][1]-P[1])/s;x.beginPath(),x.moveTo(r,c),x.lineTo(i,a),x.lineTo(u,h),x.closePath(),x.stroke()}),x.restore()),x.canvas}},68430:(t,n,o)=>{o.d(n,{JJ:()=>u,Nm:()=>h,Zo:()=>s});var e=o(61597),i=o(70915),a=o(66514);function r(t,n,o,e){const a=(0,i.RG)(n)/o[0],r=(0,i.Oq)(n)/o[1];return e?Math.min(t,Math.max(a,r)):Math.min(t,Math.min(a,r))}function c(t,n,o){let i=Math.min(t,n);const a=50;return i*=Math.log(1+a*Math.max(0,t/n-1))/a+1,o&&(i=Math.max(i,o),i/=Math.log(1+a*Math.max(0,o/t-1))/a+1),(0,e.qE)(i,o/2,2*n)}function u(t,n,o,i){return n=void 0===n||n,function(u,s,h,l){if(void 0!==u){const f=t[0],d=t[t.length-1],g=o?r(f,o,h,i):f;if(l)return n?c(u,g,d):(0,e.qE)(u,d,g);const M=Math.min(g,u),m=Math.floor((0,a.FT)(t,M,s));return t[m]>g&&m<t.length-1?t[m+1]:t[m]}}}function s(t,n,o,i,a,u){return i=void 0===i||i,o=void 0!==o?o:0,function(s,h,l,f){if(void 0!==s){const d=a?r(n,a,l,u):n;if(f)return i?c(s,d,o):(0,e.qE)(s,o,d);const g=1e-9,M=Math.ceil(Math.log(n/d)/Math.log(t)-g),m=-h*(.5-g)+.5,v=Math.min(d,s),p=Math.floor(Math.log(n/v)/Math.log(t)+m),x=Math.max(M,p),b=n/Math.pow(t,x);return(0,e.qE)(b,o,d)}}}function h(t,n,o,i,a){return o=void 0===o||o,function(u,s,h,l){if(void 0!==u){const s=i?r(t,i,h,a):t;return o&&l?c(u,s,n):(0,e.qE)(u,n,s)}}}}}]);
//# sourceMappingURL=3800.d0c58743.js.map