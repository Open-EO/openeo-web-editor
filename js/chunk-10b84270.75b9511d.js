(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10b84270"],{"0417":function(e,t,a){"use strict";var o=a("c2d3"),n=a("35a7"),i=a("3900"),s=a("480c"),r=a("3e6b"),l=a("97e6"),c=a("c810"),h=a("4787"),p=a("0af5"),d=a("6f9e"),u=function(e){e=e||{};var t,a=this;this.dcount=0,this.show_progress=e.show_progress,this.oninfo="function"==typeof e.oninfo?e.oninfo:null,this.onextent="function"==typeof e.onextent?e.onextent:null,this.hasextent=e.extent||e.onextent,this.hastrash=e.trash,this.reordering=!1!==e.reordering,this._layers=[],this._layerGroup=e.layerGroup&&e.layerGroup.getLayers?e.layerGroup:null,this.onchangeCheck="function"==typeof e.onchangeCheck?e.onchangeCheck:null,"function"===typeof e.displayInLayerSwitcher&&(this.displayInLayerSwitcher=e.displayInLayerSwitcher),e.target?t=d["a"].create("DIV",{className:e.switcherClass||"ol-layerswitcher"}):(t=d["a"].create("DIV",{className:(e.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),!1!==e.collapsed?t.classList.add("ol-collapsed"):t.classList.add("ol-forceopen"),this.button=d["a"].create("BUTTON",{type:"button",parent:t}),this.button.addEventListener("touchstart",(function(e){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),a.dispatchEvent({type:"toggle",collapsed:t.classList.contains("ol-collapsed")}),e.preventDefault(),a.overflow()})),this.button.addEventListener("click",(function(){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),a.dispatchEvent({type:"toggle",collapsed:!t.classList.contains("ol-forceopen")}),a.overflow()})),e.mouseover&&(t.addEventListener("mouseleave",(function(){t.classList.add("ol-collapsed"),a.dispatchEvent({type:"toggle",collapsed:!0})})),t.addEventListener("mouseover",(function(){t.classList.remove("ol-collapsed"),a.dispatchEvent({type:"toggle",collapsed:!1})}))),e.minibar&&(e.noScroll=!0),e.noScroll||(this.topv=d["a"].create("DIV",{className:"ol-switchertopdiv",parent:t,click:function(){a.overflow("+50%")}}),this.botv=d["a"].create("DIV",{className:"ol-switcherbottomdiv",parent:t,click:function(){a.overflow("-50%")}})),this._noScroll=e.noScroll),this.panel_=d["a"].create("UL",{className:"panel"}),this.panelContainer_=d["a"].create("DIV",{className:"panel-container",html:this.panel_,parent:t}),e.target||e.noScroll||d["a"].addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",(function(e){a.overflow(Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)))&&(e.stopPropagation(),e.preventDefault())})),this.header_=d["a"].create("LI",{className:"ol-header",parent:this.panel_}),i["a"].call(this,{element:t,target:e.target}),this.set("drawDelay",e.drawDelay||0),this.set("selection",e.selection),e.minibar&&setTimeout(function(){var e=d["a"].scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],(function(){e.refresh()}))}.bind(this))};Object(o["a"])(u,i["a"]),u.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},u.prototype.displayInLayerSwitcher=function(e){return!1!==e.get("displayInLayerSwitcher")},u.prototype.setMap=function(e){if(i["a"].prototype.setMap.call(this,e),this.drawPanel(),this._listener)for(var t in this._listener)Object(n["b"])(this._listener[t]);this._listener=null,e&&(this._listener={moveend:e.on("moveend",this.viewChange.bind(this)),size:e.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=e.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},u.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!1})},u.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!0})},u.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},u.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},u.prototype.setHeader=function(e){d["a"].setHTML(this.header_,e)},u.prototype.overflow=function(e){if(this.button&&!this._noScroll){if(d["a"].hidden(this.panel_))return void d["a"].setStyle(this.element,{height:"auto"});var t=d["a"].outerHeight(this.element),a=d["a"].outerHeight(this.panel_),o=this.button.offsetTop+d["a"].outerHeight(this.button),n=this.panel_.offsetTop-o;if(a>t-o){d["a"].setStyle(this.element,{height:"100%"});var i=this.panel_.querySelectorAll("li.visible .li-content")[0],s=i?2*d["a"].getStyle(i,"height"):0;switch(e){case 1:n+=s;break;case-1:n-=s;break;case"+50%":n+=Math.round(t/2);break;case"-50%":n-=Math.round(t/2);break;default:break}return n+a<=t-3*o/2?(n=t-3*o/2-a,d["a"].hide(this.botv)):d["a"].show(this.botv),n>=0?(n=0,d["a"].hide(this.topv)):d["a"].show(this.topv),d["a"].setStyle(this.panel_,{top:n+"px"}),!0}return d["a"].setStyle(this.element,{height:"auto"}),d["a"].setStyle(this.panel_,{top:0}),d["a"].hide(this.botv),d["a"].hide(this.topv),!1}return!1},u.prototype._setLayerForLI=function(e,t){var a=[];t.getLayers&&a.push(t.getLayers().on("change:length",this.drawPanel.bind(this))),e&&(a.push(t.on("change:opacity",function(){this.setLayerOpacity(t,e)}.bind(this))),a.push(t.on("change:visible",function(){this.setLayerVisibility(t,e)}.bind(this)))),a.push(t.on("propertychange",function(e){"displayInLayerSwitcher"!==e.key&&"openInLayerSwitcher"!==e.key||this.drawPanel(e)}.bind(this))),this._layers.push({li:e,layer:t,listeners:a})},u.prototype.setLayerOpacity=function(e,t){var a=t.querySelector(".layerswitcher-opacity-cursor");a&&(a.style.left=100*e.getOpacity()+"%"),this.dispatchEvent({type:"layer:opacity",layer:e})},u.prototype.setLayerVisibility=function(e,t){var a=t.querySelector(".ol-visibility");a&&(a.checked=e.getVisible()),e.getVisible()?t.classList.add("ol-visible"):t.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:e})},u.prototype._clearLayerForLI=function(){this._layers.forEach((function(e){e.listeners.forEach((function(e){Object(n["b"])(e)}))})),this._layers=[]},u.prototype._getLayerForLI=function(e){for(var t,a=0;t=this._layers[a];a++)if(t.li===e)return t.layer;return null},u.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(e){var t=this._getLayerForLI(e);t&&(this.testLayerVisibility(t)?e.classList.remove("ol-layer-hidden"):e.classList.add("ol-layer-hidden"))}.bind(this))},u.prototype.getPanel=function(){return this.panelContainer_},u.prototype.drawPanel=function(){if(this.getMap()){var e=this;this.dcount++,setTimeout((function(){e.drawPanel_()}),this.get("drawDelay")||0)}},u.prototype.drawPanel_=function(){if(!--this.dcount&&!this.dragging_){var e=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(e){e.classList.contains("ol-header")||e.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=e}},u.prototype.switchLayerVisibility=function(e,t){e.get("baseLayer")?(e.getVisible()||e.setVisible(!0),t.forEach((function(t){e!==t&&t.get("baseLayer")&&t.getVisible()&&t.setVisible(!1)}))):e.setVisible(!e.getVisible())},u.prototype.testLayerVisibility=function(e){if(!this.getMap())return!0;var t=this.getMap().getView().getResolution(),a=this.getMap().getView().getZoom();if(e.getMaxResolution()<=t||e.getMinResolution()>=t)return!1;if(e.getMinZoom&&(e.getMinZoom()>=a||e.getMaxZoom()<a))return!1;var o=e.getExtent();if(o){var n=this.getMap().getView().calculateExtent(this.getMap().getSize());return Object(p["E"])(n,o)}return!0},u.prototype.dragOrdering_=function(e){e.stopPropagation(),e.preventDefault();var t,a,o,n,i,s=this,r=e.currentTarget.parentNode.parentNode,l=!0,c=this.panel_,h=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY;function p(){if(a){var e=n,t=s.getSelection()===e;if(e&&a){var l;l=i?i.getLayers():s._layerGroup?s._layerGroup.getLayers():s.getMap().getLayers();for(var c=l.getArray(),h=0;h<c.length;h++)if(c[h]==e){l.removeAt(h);break}for(var f=0;f<c.length;f++)if(c[f]===a){h>f?l.insertAt(f,e):l.insertAt(f+1,e);break}}t&&s.selectLayer(e),s.dispatchEvent({type:"reorder-end",layer:e,group:i})}r.parentNode.querySelectorAll("li").forEach((function(e){e.classList.remove("dropover"),e.classList.remove("dropover-after"),e.classList.remove("dropover-before")})),r.classList.remove("drag"),r.parentNode.classList.remove("drag"),s.element.classList.remove("drag"),o&&o.remove(),d["a"].removeListener(document,"mousemove touchmove",u),d["a"].removeListener(document,"mouseup touchend touchcancel",p)}function u(e){if(t=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,l&&Math.abs(h-t)>2&&(l=!1,r.classList.add("drag"),n=s._getLayerForLI(r),a=!1,i=s._getLayerForLI(r.parentNode.parentNode),o=d["a"].create("LI",{className:"ol-dragover",html:r.innerHTML,style:{position:"absolute","z-index":1e4,left:r.offsetLeft,opacity:.5,width:d["a"].outerWidth(r),height:d["a"].getStyle(r,"height")},parent:c}),s.element.classList.add("drag"),s.dispatchEvent({type:"reorder-start",layer:n,group:i})),!l){var p;e.preventDefault(),e.stopPropagation(),d["a"].setStyle(o,{top:t-d["a"].offsetRect(c).top+c.scrollTop+5}),p=e.touches?document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY):e.target,p.classList.contains("ol-switcherbottomdiv")?s.overflow(-1):p.classList.contains("ol-switchertopdiv")&&s.overflow(1);while(p&&"LI"!==p.tagName)p=p.parentNode;p&&p.classList.contains("dropover")||r.parentNode.querySelectorAll("li").forEach((function(e){e.classList.remove("dropover"),e.classList.remove("dropover-after"),e.classList.remove("dropover-before")})),p&&p.parentNode.classList.contains("drag")&&p!==r?(a=s._getLayerForLI(p),a&&!a.get("allwaysOnTop")==!n.get("allwaysOnTop")?(p.classList.add("dropover"),p.classList.add(r.offsetTop<p.offsetTop?"dropover-after":"dropover-before")):a=!1,d["a"].show(o)):(a=!1,p===r?d["a"].hide(o):d["a"].show(o)),a?o.classList.remove("forbidden"):o.classList.add("forbidden")}}r.parentNode.classList.add("drag"),d["a"].addListener(document,"mousemove touchmove",u),d["a"].addListener(document,"mouseup touchend touchcancel",p)},u.prototype.dragOpacity_=function(e){e.stopPropagation(),e.preventDefault();var t=this,a=e.target,o=this._getLayerForLI(a.parentNode.parentNode.parentNode);if(o){var n=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,i=d["a"].getStyle(a,"left")-n;t.dragging_=!0,d["a"].addListener(document,"mouseup touchend touchcancel",s),d["a"].addListener(document,"mousemove touchmove",r)}function s(){d["a"].removeListener(document,"mouseup touchend touchcancel",s),d["a"].removeListener(document,"mousemove touchmove",r),t.dragging_=!1}function r(e){var t=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,n=(i+t)/d["a"].getStyle(a.parentNode,"width"),s=Math.max(0,Math.min(1,n));d["a"].setStyle(a,{left:100*s+"%"}),a.parentNode.nextElementSibling.innerHTML=Math.round(100*s),o.setOpacity(s)}},u.prototype.drawList=function(e,t){var a=this,o=t.getArray(),n=function(e){e.stopPropagation(),e.preventDefault();var o=a._getLayerForLI(this.parentNode.parentNode);a.switchLayerVisibility(o,t),a.get("selection")&&o.getVisible()&&a.selectLayer(o),a.onchangeCheck&&a.onchangeCheck(o)};function i(e){e.stopPropagation(),e.preventDefault();var t=a._getLayerForLI(this.parentNode.parentNode);a.oninfo(t),a.dispatchEvent({type:"info",layer:t})}function r(e){e.stopPropagation(),e.preventDefault();var t=a._getLayerForLI(this.parentNode.parentNode);a.onextent?a.onextent(t):a.getMap().getView().fit(t.getExtent(),a.getMap().getSize()),a.dispatchEvent({type:"extent",layer:t})}function l(e){e.stopPropagation(),e.preventDefault();var t,o=this.parentNode.parentNode.parentNode.parentNode,n=a._getLayerForLI(o);n?(t=a._getLayerForLI(this.parentNode.parentNode),n.getLayers().remove(t),0!=n.getLayers().getLength()||n.get("noSwitcherDelete")||l.call(o.querySelectorAll(".layerTrash")[0],e)):(o=this.parentNode.parentNode,a.getMap().removeLayer(a._getLayerForLI(o)))}function c(t){if(this.displayInLayerSwitcher(t)){var c=d["a"].create("LI",{className:(t.getVisible()?"visible ":" ")+(t.get("baseLayer")?"baselayer":""),parent:e});this._setLayerForLI(c,t),this._selectedLayer===t&&c.classList.add("ol-layer-select");var p=d["a"].create("DIV",{className:"ol-layerswitcher-buttons",parent:c}),u=d["a"].create("DIV",{className:"li-content",parent:c});d["a"].create("INPUT",{type:t.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:t.getVisible(),click:n,parent:u});var f=d["a"].create("LABEL",{title:t.get("title")||t.get("name"),click:n,unselectable:"on",style:{userSelect:"none"},parent:u});if(f.addEventListener("selectstart",(function(){return!1})),d["a"].create("SPAN",{html:t.get("title")||t.get("name"),click:function(e){this.get("selection")&&(e.stopPropagation(),this.selectLayer(t))}.bind(this),parent:f}),this.reordering&&(h<o.length-1&&(t.get("allwaysOnTop")||!o[h+1].get("allwaysOnTop"))||h>0&&(!t.get("allwaysOnTop")||o[h-1].get("allwaysOnTop")))&&d["a"].create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(e){a.dragOrdering_(e)}},parent:p}),t.getLayers){var g=0;t.getLayers().forEach((function(e){a.displayInLayerSwitcher(e)&&g++})),g&&d["a"].create("DIV",{className:t.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var e=a._getLayerForLI(this.parentNode.parentNode);e.set("openInLayerSwitcher",!e.get("openInLayerSwitcher"))},parent:p})}if(this.oninfo&&d["a"].create("DIV",{className:"layerInfo",title:this.tip.info,click:i,parent:p}),this.hastrash&&!t.get("noSwitcherDelete")&&d["a"].create("DIV",{className:"layerTrash",title:this.tip.trash,click:l,parent:p}),this.hasextent&&o[h].getExtent()){var m=o[h].getExtent();4==m.length&&m[0]<m[2]&&m[1]<m[3]&&d["a"].create("DIV",{className:"layerExtent",title:this.tip.extent,click:r,parent:p})}if(this.show_progress&&t instanceof s["a"]){var y=d["a"].create("DIV",{className:"layerswitcher-progress",parent:u});this.setprogress_(t),t.layerswitcher_progress=d["a"].create("DIV",{parent:y})}var v=d["a"].create("DIV",{className:"layerswitcher-opacity",click:function(e){if(e.target===this){e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(1,e.offsetX/d["a"].getStyle(this,"width")));a._getLayerForLI(this.parentNode.parentNode).setOpacity(t)}},parent:u});if(d["a"].create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:100*t.getOpacity()+"%"},on:{"mousedown touchstart":function(e){a.dragOpacity_(e)}},parent:v}),d["a"].create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(100*t.getOpacity()),parent:u}),t.getLayers&&(c.classList.add("ol-layer-group"),!0===t.get("openInLayerSwitcher"))){var L=d["a"].create("UL",{parent:c});this.drawList(L,t.getLayers())}c.classList.add(this.getLayerClass(t)),this.dispatchEvent({type:"drawlist",layer:t,li:c})}else this._setLayerForLI(null,t)}for(var h=o.length-1;h>=0;h--)c.call(this,o[h]);this.viewChange(),e===this.panel_&&this.overflow()},u.prototype.getLayerClass=function(e){return e?e.getLayers?"ol-layer-group":e instanceof r["a"]?"ol-layer-vector":e instanceof l["a"]?"ol-layer-vectortile":e instanceof s["a"]?"ol-layer-tile":e instanceof c["a"]?"ol-layer-image":e instanceof h["a"]?"ol-layer-heatmap":e.getFeatures?"ol-layer-vectorimage":"unknown":"none"},u.prototype.selectLayer=function(e,t){if(!e){if(!this.getMap())return;e=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=e,this.drawPanel(),t||this.dispatchEvent({type:"select",layer:e})},u.prototype.getSelection=function(){return this._selectedLayer},u.prototype.setprogress_=function(e){if(!e.layerswitcher_progress){var t=0,a=0,o=function(){a===t?(a=t=0,d["a"].setStyle(e.layerswitcher_progress,{width:0})):d["a"].setStyle(e.layerswitcher_progress,{width:(t/a*100).toFixed(1)+"%"})};e.getSource().on("tileloadstart",(function(){a++,o()})),e.getSource().on("tileloadend",(function(){t++,o()})),e.getSource().on("tileloaderror",(function(){t++,o()}))}},t["a"]=u},1399:function(e,t,a){},"457f":function(e,t,a){"use strict";var o=a("c2d3"),n=a("5831"),i=a("3900"),s=a("6f9e"),r=function(e){var t=s["a"].create("DIV",{className:(e.className||"")+" ol-timeline"+(e.target?"":" ol-unselectable ol-control")+(e.zoomButton?" ol-hasbutton":"")});i["a"].call(this,{element:t,target:e.target}),this._scrollDiv=s["a"].create("DIV",{className:"ol-scroll",parent:this.element}),this._buttons=s["a"].create("DIV",{className:"ol-buttons",parent:this.element}),e.zoomButton&&(this.addButton({className:"ol-zoom-in",handleClick:function(){var e=this.get("zoom");e>=1?e++:e=Math.min(1,e+.1),e=Math.round(100*e)/100,this.refresh(e)}.bind(this)}),this.addButton({className:"ol-zoom-out",handleClick:function(){var e=this.get("zoom");e>1?e--:e-=.1,e=Math.round(100*e)/100,this.refresh(e)}.bind(this)})),this._intervalDiv=s["a"].create("DIV",{className:"ol-center-date",parent:this.element}),this.element.addEventListener("mouseover",function(){this._select&&this._select.elt.classList.remove("ol-select")}.bind(this));var a=null;this._scrollDiv.addEventListener("scroll",function(){this._setScrollLeft(),a&&(clearTimeout(a),a=null),a=setTimeout(function(){this.dispatchEvent({type:"scroll",date:this.getDate(),dateStart:this.getDate("start"),dateEnd:this.getDate("end")})}.bind(this),e.scrollTimeout||15)}.bind(this)),s["a"].scrollDiv(this._scrollDiv,{onmove:function(e){this._moving=e}.bind(this)}),this._tline=[],this._scrollLeft=0,this.set("maxWidth",e.maxWidth||2e3),this.set("minDate",e.minDate||1/0),this.set("maxDate",e.maxDate||-1/0),this.set("graduation",e.graduation),this.set("minZoom",e.minZoom||.2),this.set("maxZoom",e.maxZoom||4),this.setInterval(e.interval),e.getHTML&&(this._getHTML=e.getHTML),e.getFeatureDate&&(this._getFeatureDate=e.getFeatureDate),e.endFeatureDate&&(this._endFeatureDate=e.endFeatureDate),this.setFeatures(e.features||e.source,e.zoom)};Object(o["a"])(r,i["a"]),r.prototype.setMap=function(e){i["a"].prototype.setMap.call(this,e),this.refresh(this.get("zoom")||1,!0)},r.prototype.addButton=function(e){this.element.classList.add("ol-hasbutton"),s["a"].create("BUTTON",{className:e.className||void 0,title:e.title,html:e.html,click:e.handleClick,parent:this._buttons})},r.prototype.setInterval=function(e){"string"===typeof e&&(e=/s$/.test(e)?1e3*parseFloat(e):/mn$/.test(e)?1e3*parseFloat(e)*60:/h$/.test(e)?1e3*parseFloat(e)*3600:/d$/.test(e)?1e3*parseFloat(e)*3600*24:/y$/.test(e)?1e3*parseFloat(e)*3600*24*365:0),this.set("interval",e||0),e?this.element.classList.add("ol-interval"):this.element.classList.remove("ol-interval"),this.refresh(this.get("zoom"))},r.prototype._getHTML=function(e){return e.get("name")||""},r.prototype._getFeatureDate=function(e){return e&&e.get?e.get("date"):null},r.prototype._endFeatureDate=function(){},r.prototype.isCollapsed=function(){return this.element.classList.contains("ol-collapsed")},r.prototype.collapse=function(e){e?this.element.classList.add("ol-collapsed"):this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"collapse",collapsed:this.isCollapsed()})},r.prototype.toggle=function(){this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"collapse",collapsed:this.isCollapsed()})},r.prototype.setFeatures=function(e,t){this._features=this._source=null,e instanceof n["a"]?this._source=e:this._features=e instanceof Array?e:[],this.refresh(t)},r.prototype.getFeatures=function(){return this._features||this._source.getFeatures()},r.prototype.refresh=function(e,t){if(this.getMap()){e||(e=this.get("zoom")),e=Math.min(this.get("maxZoom"),Math.max(this.get("minZoom"),e||1)),this.set("zoom",e),this._scrollDiv.innerHTML="";var a,o,n=this.getFeatures(),i=this._tline=[];n.forEach(function(e){(a=this._getFeatureDate(e))&&(a instanceof Date||(a=new Date(a)),this._endFeatureDate&&(o=this._endFeatureDate(e),o instanceof Date||(o=new Date(o))),isNaN(a)||i.push({date:a,end:isNaN(o)?null:o,feature:e}))}.bind(this)),i.sort((function(e,t){return e.date<t.date?-1:e.date===t.date?0:1}));var r=s["a"].create("DIV",{parent:this._scrollDiv}),l=this._minDate=Math.min(this.get("minDate"),i.length?i[0].date:1/0),c=this._maxDate=Math.max(this.get("maxDate"),i.length?i[i.length-1].date:-1/0);isFinite(l)||(this._minDate=l=new Date),isFinite(c)||(this._maxDate=c=new Date);var h=c-l,p=this.get("maxWidth"),d=this._scale=(h>p?p/h:1)*e;l=this._minDate=this._minDate-10/d,h=(c-l)*d,s["a"].setStyle(r,{width:h,maxWidth:"unset"}),this._drawTime(r,l,c,d),this.get("interval")?s["a"].setStyle(this._intervalDiv,{width:this.get("interval")*d}):s["a"].setStyle(this._intervalDiv,{width:""});var u=[],f=s["a"].getStyle(this._scrollDiv,"lineHeight"),g=s["a"].create("DIV",{className:"ol-features",parent:r});i.forEach(function(e){for(var t=e.date,a=e.elt=s["a"].create("DIV",{className:"ol-feature",style:{left:Math.round((t-l)*d)},html:this._getHTML(e.feature),parent:g}),o=a.querySelectorAll("img"),n=0;n<o.length;n++)o[n].ondragstart=function(){return!1};e.end&&s["a"].setStyle(a,{minWidth:(e.end-t)*d,width:(e.end-t)*d,maxWidth:"unset"});var i,r,c=s["a"].getStyle(a,"left");for(a.addEventListener("click",function(){this._moving||this.dispatchEvent({type:"select",feature:e.feature})}.bind(this)),i=0;r=u[i];i++)if(c>r)break;u[i]=c+s["a"].getStyle(a,"width"),s["a"].setStyle(a,{top:i*f})}.bind(this)),this._nbline=u.length,t&&this.setDate(this._minDate,{anim:!1,position:"start"}),this.dispatchEvent({type:"scroll",date:this.getDate(),dateStart:this.getDate("start"),dateEnd:this.getDate("end")})}},r.prototype._getOffsetFromDate=function(e){return(e-this._minDate)*this._scale},r.prototype._getDateFromOffset=function(e){return e/this._scale+this._minDate},r.prototype._setScrollLeft=function(e){this._scrollLeft=e,void 0!==e&&(this._scrollDiv.scrollLeft=e)},r.prototype._getScrollLeft=function(){return void 0===this._scrollLeft?this._scrollDiv.scrollLeft:this._scrollLeft},r.prototype._drawTime=function(e,t,a,o){var n,i,r,l,c=s["a"].create("DIV",{className:"ol-times",parent:e}),h=s["a"].getStyle(c,"left"),p=s["a"].getStyle(c,"height"),d=new Date(this._minDate).getFullYear();i=(new Date(0).setFullYear(String(d))-new Date(0).setFullYear(String(d-1)))*o;var u=Math.round(2*p/i)+1;while(1){if(n=new Date(0).setFullYear(d),n>this._maxDate)break;s["a"].create("DIV",{className:"ol-time ol-year",style:{left:this._getOffsetFromDate(n)-h},html:d,parent:c}),d+=u}if(/day|month/.test(this.get("graduation"))&&(i=(new Date(0,0,1).setFullYear(String(d))-new Date(0,0,1).setFullYear(String(d-1)))*o,l=Math.max(1,Math.round(12/Math.round(i/p/2))),l<12)){d=new Date(this._minDate).getFullYear(),r=l+1;while(1){if(n=new Date(0,0,1),n.setFullYear(d),n.setMonth(r-1),n>this._maxDate)break;s["a"].create("DIV",{className:"ol-time ol-month",style:{left:this._getOffsetFromDate(n)-h},html:n.toLocaleDateString(void 0,{month:"short"}),parent:c}),r+=l,r>12&&(d++,r=l+1)}}if("day"===this.get("graduation")){i=(new Date(0,1,1)-new Date(0,0,1))*o;var f=Math.max(1,Math.round(31/Math.round(i/p/2)));if(f<31){d=new Date(this._minDate).getFullYear(),r=0;var g=f;while(1)if(n=new Date(0,0,1),n.setFullYear(d),n.setMonth(r),n.setDate(g),isNaN(n))r++,r>12&&(r=1,d++),g=f;else{if(n>this._maxDate)break;if(g>1){var m=this._getOffsetFromDate(n);this._getOffsetFromDate(new Date(d,r+1,1))-m>p&&s["a"].create("DIV",{className:"ol-time ol-day",style:{left:m-h},html:g,parent:c})}d=n.getFullYear(),r=n.getMonth(),g=n.getDate()+f,g>new Date(d,r+1,0).getDate()&&(r++,g=f)}}}},r.prototype.setDate=function(e,t){var a;if(t=t||{},e instanceof Date?a=e:(this.getFeatures().indexOf(e)>=0&&(a=this._getFeatureDate(e)),!a||a instanceof Date||(a=new Date(a)),a&&!isNaN(a)||(a=new Date(String(e)))),!isNaN(a)){!1===t.anim&&this._scrollDiv.classList.add("ol-move");var o=this._getOffsetFromDate(a);if("start"===t.position?o+=s["a"].outerWidth(this._scrollDiv)/2-s["a"].getStyle(this._scrollDiv,"marginLeft")/2:"end"===t.position&&(o-=s["a"].outerWidth(this._scrollDiv)/2-s["a"].getStyle(this._scrollDiv,"marginLeft")/2),this._setScrollLeft(o),!1===t.anim&&this._scrollDiv.classList.remove("ol-move"),e)for(var n,i=0;n=this._tline[i];i++)n.feature===e?(n.elt.classList.add("ol-select"),this._select=n):n.elt.classList.remove("ol-select")}},r.prototype.roundDate=function(e,t){switch(t){case"mn":return new Date(this._roundTo(e,6e4));case"hour":return new Date(this._roundTo(e,36e5));case"day":return new Date(this._roundTo(e,864e5));case"month":return e=new Date(this._roundTo(e,864e5)),e.getDate()>15&&(e=new Date(e.setMonth(e.getMonth()+1))),e=e.setDate(1),new Date(e);default:return new Date(e)}},r.prototype.getDate=function(e,t){var a;switch(t||(t=e),e){case"start":a=this.get("interval")?-s["a"].getStyle(this._intervalDiv,"width")/2+s["a"].getStyle(this._scrollDiv,"marginLeft")/2:-s["a"].outerWidth(this._scrollDiv)/2+s["a"].getStyle(this._scrollDiv,"marginLeft")/2;break;case"end":a=this.get("interval")?s["a"].getStyle(this._intervalDiv,"width")/2-s["a"].getStyle(this._scrollDiv,"marginLeft")/2:s["a"].outerWidth(this._scrollDiv)/2-s["a"].getStyle(this._scrollDiv,"marginLeft")/2;break;default:a=0;break}var o=this._getDateFromOffset(this._getScrollLeft()+a);return o=this.roundDate(o,t),new Date(o)},r.prototype._roundTo=function(e,t){return Math.round(e/t)*t},r.prototype.getStartDate=function(){return new Date(this.get("minDate"))},r.prototype.getEndDate=function(){return new Date(this.get("maxDate"))},t["a"]=r},6601:function(e,t,a){},"6f9e":function(e,t,a){"use strict";var o=a("c2d3"),n=a("e269");window.ol&&(ol.ext.input={});var i=function(e){e=e||{},n["a"].call(this);var t,a=this.input=e.input;a||(a=this.input=document.createElement("INPUT"),e.type&&a.setAttribute("type",e.type),void 0!==e.min&&a.setAttribute("min",e.min),void 0!==e.max&&a.setAttribute("max",e.max),void 0!==e.step&&a.setAttribute("step",e.step),e.parent&&e.parent.appendChild(a)),e.disabled&&(a.disabled=!0),void 0!==e.checked&&(a.checked=!!e.checked),void 0!==e.val&&(a.value=e.val),e.hidden&&(a.style.display="none"),a.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this)),a.addEventListener("focusout",function(){this.element&&(t&&clearTimeout(t),t=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))};Object(o["a"])(i,n["a"]),i.prototype._listenDrag=function(e,t){var a=function(a){this.moving=!0;var o=function(a){"pointerup"===a.type&&(document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",o),document.removeEventListener("pointercancel",o),setTimeout(function(){this.moving=!1}.bind(this))),a.target===e&&t(a),a.stopPropagation(),a.preventDefault()}.bind(this);document.addEventListener("pointermove",o,!1),document.addEventListener("pointerup",o,!1),document.addEventListener("pointercancel",o,!1),a.stopPropagation(),a.preventDefault()}.bind(this);e.addEventListener("mousedown",a,!1),e.addEventListener("touchstart",a,!1)},i.prototype.setValue=function(e){void 0!==e&&(this.input.value=e),this.input.dispatchEvent(new Event("change"))},i.prototype.getValue=function(){return this.input.value},i.prototype.getInputElement=function(){return this.input};var s=i,r=function(e){e=e||{},s.call(this,e);var t=this.element=document.createElement("LABEL");e.html instanceof Element?t.appendChild(e.html):void 0!==e.html&&(t.innerHTML=e.html),t.className=("ol-ext-check ol-ext-checkbox "+(e.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(t,this.input),t.appendChild(this.input),t.appendChild(document.createElement("SPAN")),e.after&&t.appendChild(document.createTextNode(e.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))};Object(o["a"])(r,s),r.prototype.isChecked=function(){return this.input.checked};var l=r,c=function(e){e=e||{},l.call(this,e),this.element.className=("ol-ext-toggle-switch "+(e.className||"")).trim()};Object(o["a"])(c,l);var h=c,p=function(e){e=e||{},l.call(this,e),this.element.className=("ol-ext-check ol-ext-radio "+(e.className||"")).trim()};Object(o["a"])(p,l);var d=p,u={create:function(e,t){var a;if(t=t||{},"TEXT"===e)a=document.createTextNode(t.html||""),t.parent&&t.parent.appendChild(a);else for(var o in a=document.createElement(e),/button/i.test(e)&&a.setAttribute("type","button"),t)switch(o){case"className":t.className&&t.className.trim&&a.setAttribute("class",t.className.trim());break;case"text":a.innerText=t.text;break;case"html":t.html instanceof Element?a.appendChild(t.html):void 0!==t.html&&(a.innerHTML=t.html);break;case"parent":t.parent&&t.parent.appendChild(a);break;case"options":if(/select/i.test(e))for(var n in t.options)u.create("OPTION",{html:n,value:t.options[n],parent:a});break;case"style":u.setStyle(a,t.style);break;case"change":case"click":u.addListener(a,o,t[o]);break;case"on":for(var i in t.on)u.addListener(a,i,t.on[i]);break;case"checked":a.checked=!!t.checked;break;default:a.setAttribute(o,t[o]);break}return a},createSwitch:function(e){var t=u.create("INPUT",{type:"checkbox",on:e.on,click:e.click,change:e.change,parent:e.parent}),a=Object.assign({input:t},e||{});return new h(a),t},createCheck:function(e){var t=u.create("INPUT",{name:e.name,type:"radio"===e.type?"radio":"checkbox",on:e.on,parent:e.parent});console.log(t);var a=Object.assign({input:t},e||{});return"radio"===e.type?new d(a):new l(a),t},setHTML:function(e,t){t instanceof Element?e.appendChild(t):void 0!==t&&(e.innerHTML=t)},appendText:function(e,t){e.appendChild(document.createTextNode(t||""))},addListener:function(e,t,a,o){"string"===typeof t&&(t=t.split(" ")),t.forEach((function(t){e.addEventListener(t,a,o)}))},removeListener:function(e,t,a){"string"===typeof t&&(t=t.split(" ")),t.forEach((function(t){e.removeEventListener(t,a)}))},show:function(e){e.style.display=""},hide:function(e){e.style.display="none"},hidden:function(e){return"none"===u.getStyle(e,"display")},toggle:function(e){e.style.display="none"===e.style.display?"":"none"},setStyle:function(e,t){for(var a in t)switch(a){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"===typeof t[a]?e.style[a]=t[a]+"px":e.style[a]=t[a];break;default:e.style[a]=t[a]}},getStyle:function(e,t){var a,o=(e.ownerDocument||document).defaultView;if(o&&o.getComputedStyle)t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),a=o.getComputedStyle(e,null).getPropertyValue(t);else if(e.currentStyle&&(t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()})),a=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(a)))return function(t){var a=e.style.left,o=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=a,e.runtimeStyle.left=o,t}(a);return/px$/.test(a)?parseInt(a):a},outerHeight:function(e){return e.offsetHeight+u.getStyle(e,"marginBottom")},outerWidth:function(e){return e.offsetWidth+u.getStyle(e,"marginLeft")},offsetRect:function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}},getFixedOffset:function(e){var t={left:0,top:0},a=function(e){if(!e)return t;if("absolute"===u.getStyle(e,"position")&&"none"!==u.getStyle(e,"transform")){var o=e.getBoundingClientRect();return t.left+=o.left,t.top+=o.top,t}return a(e.offsetParent)};return a(e.offsetParent)},positionRect:function(e,t){var a=0,o=0,n=function(i){if(i)return a+=i.offsetLeft,o+=i.offsetTop,n(i.offsetParent);var s={top:e.offsetTop+o,left:e.offsetLeft+a};return t&&(s.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),s.bottom=s.top+e.offsetHeight,s.right=s.top+e.offsetWidth,s};return n(e.offsetParent)},scrollDiv:function(e,t){t=t||{};var a,o,n,i,s,r=!1,l=0,c=0,h="function"===typeof t.onmove?t.onmove:function(){},p=t.vertical?"screenY":"screenX",d=t.vertical?"scrollTop":"scrollLeft",f=!1,g=0,m=function(){s&&(g++,setTimeout(y))},y=function(){if(s){if(g--,g)return;var t=e.clientHeight,a=e.scrollHeight;o=t/a,s.style.height=100*o+"%",s.style.top=e.scrollTop/a*100+"%",i.style.height=t+"px",t>a-.5?i.classList.add("ol-100pc"):i.classList.remove("ol-100pc")}},v=function(t){t.target.classList.contains("ol-noscroll")||(f=!1,r=t[p],c=new Date,e.classList.add("ol-move"),t.preventDefault(),window.addEventListener("pointermove",L),u.addListener(window,["pointerup","pointercancel"],_))},L=function(t){if(f=!0,!1!==r){var i=(n?-1/o:1)*(r-t[p]);e[d]+=i,a=new Date,a-c&&(l=(l+i/(a-c))/2),r=t[p],c=a,i&&h(!0)}},w=function(t){var a=t>0?Math.min(100,t/2):Math.max(-100,t/2);t-=a,e[d]+=a,-1<t&&t<1?(f?setTimeout((function(){e.classList.remove("ol-move")})):e.classList.remove("ol-move"),f=!1,h(!1)):setTimeout((function(){w(t)}),40)};if(t.vertical&&t.minibar){var D=function(a){e.removeEventListener("pointermove",D),e.parentNode.classList.add("ol-miniscroll"),s=u.create("DIV"),i=u.create("DIV",{className:"ol-scroll",html:s}),e.parentNode.insertBefore(i,e),s.addEventListener("pointerdown",(function(e){n=!0,v(e)})),t.mousewheel&&(u.addListener(i,["mousewheel","DOMMouseScroll","onmousewheel"],(function(e){b(e)})),u.addListener(s,["mousewheel","DOMMouseScroll","onmousewheel"],(function(e){b(e)}))),e.parentNode.addEventListener("pointerenter",m),window.addEventListener("resize",m),!1!==a&&m()};e.parentNode?D(!1):e.addEventListener("pointermove",D),e.addEventListener("scroll",(function(){m()}))}e.style["touch-action"]="none",e.style["overflow"]="hidden",e.classList.add("ol-scrolldiv"),u.addListener(e,["pointerdown"],(function(e){n=!1,v(e)})),e.addEventListener("click",(function(t){e.classList.contains("ol-move")&&(t.preventDefault(),t.stopPropagation())}),!0);var _=function(a){c=new Date-c,c>100||n?l=0:c>0&&(l=((l||0)+(r-a[p])/c)/2),w(!1===t.animate?0:200*l),r=!1,l=0,c=0,e.classList.contains("ol-move")?e.classList.remove("ol-hasClick"):(e.classList.add("ol-hasClick"),setTimeout((function(){e.classList.remove("ol-hasClick")}),500)),n=!1,window.removeEventListener("pointermove",L),u.removeListener(window,["pointerup","pointercancel"],_)},b=function(t){var a=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));return e.classList.add("ol-move"),e[d]-=30*a,e.classList.remove("ol-move"),!1};return t.mousewheel&&u.addListener(e,["mousewheel","DOMMouseScroll","onmousewheel"],b),{refresh:m}},dispatchEvent:function(e,t){var a;try{a=new CustomEvent(e)}catch(o){a=document.createEvent("CustomEvent"),a.initCustomEvent(e,!0,!0,{})}t.dispatchEvent(a)}};t["a"]=u},c2d3:function(e,t,a){"use strict";window.ol&&!ol.ext&&(ol.ext={});var o=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e};window.ol&&(ol.inherits||(ol.inherits=o)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),t["a"]=o}}]);
//# sourceMappingURL=chunk-10b84270.75b9511d.js.map