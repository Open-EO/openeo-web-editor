"use strict";(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[6625],{36625:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vue-component items"},[t("SearchableList",{ref:"list",attrs:{data:e.data,summaryKey:"title",showSummaryOnExpand:!1,externalSearchTerm:e.searchTerm,externalHideDeprecated:e.hideDeprecated,deprecatedFilter:e.deprecatedFilter,externalHideExperimental:e.hideExperimental,experimentalFilter:e.experimentalFilter,sort:e.sort,offerDetails:e.offerDetails,heading:e.heading,collapsed:e.collapsed,loadAdditionalData:e.loadAdditionalData},on:{summaries:e.updateFeatures,detailsToggled:e.detailsToggled},scopedSlots:e._u([{key:"heading",fn:function(t){return[e._t("heading",null,null,t)]}},{key:"after-search-box",fn:function(){return[e.showMap?e._t("map",(function(){return[t("div",{ref:"mapContainer",staticClass:"map overview"})]}),{geojson:e.geojson,mapOptions:e.mapOptions}):e._e()]},proxy:!0},{key:"summary",fn:function(t){return[e._t("summary",null,null,t)]}},{key:"details",fn:function(a){return[t("Item",{attrs:{data:a.item,mapOptions:e.mapOptions},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticClass:"hidden"})]},proxy:!0},{key:"before-description",fn:function(t){return[e._t("item-before-description",null,null,t)]}},{key:"end",fn:function(t){return[e._t("item-end",null,null,t)]}},{key:"location",fn:function(t){return[e._t("item-location",null,null,t)]}}],null,!0)})]}}],null,!0)})],1)},n=[],s=a(86975),l=a(44924),r=a(35254);const o={color:"#3388ff",fillOpacity:.2},d={name:"Items",components:{Item:()=>s.A.loadAsyncComponent(a.e(1026).then(a.bind(a,38645))),SearchableList:()=>s.A.loadAsyncComponent(a.e(4152).then(a.bind(a,34152)))},mixins:[r.A],props:{items:{type:[Array,Object],default:()=>[]},showMap:{type:Boolean,default:!1},mapOptions:l.A.props.mapOptions,searchTerm:{type:String,default:null},sort:{type:Boolean,default:!0},offerDetails:{type:Boolean,default:!0},heading:{type:String,default:"Items"},collapsed:{type:Boolean,default:null},hideDeprecated:{type:Boolean,default:!1},deprecatedFilter:{type:Boolean,default:!1},hideExperimental:{type:Boolean,default:!1},experimentalFilter:{type:Boolean,default:!1},loadAdditionalData:{type:Function,default:null},missing:{type:Array,default:null},...r.A.props},data(){return Object.assign(l.A.data(),{summaries:[]})},computed:{leafletOptions:l.A.computed.leafletOptions,data(){return Array.isArray(this.items)?this.items:s.A.isObject(this.items)&&"FeatureCollection"===this.items.type&&Array.isArray(this.items.features)?this.items.features:[]},geojson(){let e={type:"FeatureCollection",features:[]};for(let t of this.summaries)t.show&&e.features.push(this.data[t.index]);return e}},watch:{showMap:l.A.watch.showMap,geojson(){this.map?this.setFeatures():this.initMap()}},beforeCreate:l.A.beforeCreate,mounted:l.A.mounted,methods:{initMap:l.A.methods.initMap,updateMapView:l.A.methods.updateMapView,updateFeatures(e){this.summaries=e},addFeatures(){return this.setFeatures(!1),this.map.geometries},setFeatures(e=!0){if(!this.map||!this.map.instance)return;this.map.geometries&&this.map.geometries.remove();let t=this.map.leaflet.geoJSON(this.geojson,{style:o});t.on("click",(e=>{var a=this.map.leaflet.latLngBounds(e.latlng,e.latlng);t.eachLayer((e=>{let t=e.getBounds(),i=this.summaries.findIndex((t=>t.identifier===e.feature.id));this.$refs.list.toggleDetails(i,a.intersects(t))}))})),e&&t.addTo(this.map.instance),this.map.geometries=t},detailsToggled(...e){this.$emit("detailsToggled",...e)}}},u=d;var p=a(81656),m=(0,p.A)(u,i,n,!1,null,null,null);const f=m.exports}}]);
//# sourceMappingURL=6625.773a1dcb.js.map