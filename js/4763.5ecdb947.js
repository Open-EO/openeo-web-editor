"use strict";(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[4763],{87158:(t,e,n)=>{n.d(e,{Z:()=>f});var o=n(10044),i=n(62706),r=n(88775),s=n(41666),a=n(92371),l=n(19586),c=n(35214),h=n(42429),p=n(28641),u=n(52463),d=function(t){t=t||{};var e,n=this;this.dcount=0,this.show_progress=t.show_progress,this.oninfo="function"==typeof t.oninfo?t.oninfo:null,this.onextent="function"==typeof t.onextent?t.onextent:null,this.hasextent=t.extent||t.onextent,this.hastrash=t.trash,this.reordering=!1!==t.reordering,this._layers=[],this._layerGroup=t.layerGroup&&t.layerGroup.getLayers?t.layerGroup:null,this.onchangeCheck="function"==typeof t.onchangeCheck?t.onchangeCheck:null,"function"===typeof t.displayInLayerSwitcher&&(this.displayInLayerSwitcher=t.displayInLayerSwitcher),t.target?e=u.Z.create("DIV",{className:t.switcherClass||"ol-layerswitcher"}):(e=u.Z.create("DIV",{className:(t.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),!1!==t.collapsed?e.classList.add("ol-collapsed"):e.classList.add("ol-forceopen"),this.button=u.Z.create("BUTTON",{type:"button",parent:e}),this.button.addEventListener("touchstart",(function(t){e.classList.toggle("ol-forceopen"),e.classList.add("ol-collapsed"),n.dispatchEvent({type:"toggle",collapsed:e.classList.contains("ol-collapsed")}),t.preventDefault(),n.overflow()})),this.button.addEventListener("click",(function(){e.classList.toggle("ol-forceopen"),e.classList.add("ol-collapsed"),n.dispatchEvent({type:"toggle",collapsed:!e.classList.contains("ol-forceopen")}),n.overflow()})),t.mouseover&&(e.addEventListener("mouseleave",(function(){e.classList.add("ol-collapsed"),n.dispatchEvent({type:"toggle",collapsed:!0})})),e.addEventListener("mouseover",(function(){e.classList.remove("ol-collapsed"),n.dispatchEvent({type:"toggle",collapsed:!1})}))),t.minibar&&(t.noScroll=!0),t.noScroll||(this.topv=u.Z.create("DIV",{className:"ol-switchertopdiv",parent:e,click:function(){n.overflow("+50%")}}),this.botv=u.Z.create("DIV",{className:"ol-switcherbottomdiv",parent:e,click:function(){n.overflow("-50%")}})),this._noScroll=t.noScroll),this.panel_=u.Z.create("UL",{className:"panel"}),this.panelContainer_=u.Z.create("DIV",{className:"panel-container",html:this.panel_,parent:e}),t.target||t.noScroll||u.Z.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",(function(t){n.overflow(Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)))&&(t.stopPropagation(),t.preventDefault())})),this.header_=u.Z.create("LI",{className:"ol-header",parent:this.panel_}),r.Z.call(this,{element:e,target:t.target}),this.set("drawDelay",t.drawDelay||0),this.set("selection",t.selection),t.minibar&&setTimeout(function(){var t=u.Z.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],(function(){t.refresh()}))}.bind(this))};(0,o.Z)(d,r.Z),d.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},d.prototype.displayInLayerSwitcher=function(t){return!1!==t.get("displayInLayerSwitcher")},d.prototype.setMap=function(t){if(r.Z.prototype.setMap.call(this,t),this.drawPanel(),this._listener)for(var e in this._listener)(0,i.B)(this._listener[e]);this._listener=null,t&&(this._listener={moveend:t.on("moveend",this.viewChange.bind(this)),size:t.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=t.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},d.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!1})},d.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!0})},d.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},d.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},d.prototype.setHeader=function(t){u.Z.setHTML(this.header_,t)},d.prototype.overflow=function(t){if(this.button&&!this._noScroll){if(u.Z.hidden(this.panel_))return void u.Z.setStyle(this.element,{height:"auto"});var e=u.Z.outerHeight(this.element),n=u.Z.outerHeight(this.panel_),o=this.button.offsetTop+u.Z.outerHeight(this.button),i=this.panel_.offsetTop-o;if(n>e-o){u.Z.setStyle(this.element,{height:"100%"});var r=this.panel_.querySelectorAll("li.visible .li-content")[0],s=r?2*u.Z.getStyle(r,"height"):0;switch(t){case 1:i+=s;break;case-1:i-=s;break;case"+50%":i+=Math.round(e/2);break;case"-50%":i-=Math.round(e/2);break;default:break}return i+n<=e-3*o/2?(i=e-3*o/2-n,u.Z.hide(this.botv)):u.Z.show(this.botv),i>=0?(i=0,u.Z.hide(this.topv)):u.Z.show(this.topv),u.Z.setStyle(this.panel_,{top:i+"px"}),!0}return u.Z.setStyle(this.element,{height:"auto"}),u.Z.setStyle(this.panel_,{top:0}),u.Z.hide(this.botv),u.Z.hide(this.topv),!1}return!1},d.prototype._setLayerForLI=function(t,e){var n=[];e.getLayers&&n.push(e.getLayers().on("change:length",this.drawPanel.bind(this))),t&&(n.push(e.on("change:opacity",function(){this.setLayerOpacity(e,t)}.bind(this))),n.push(e.on("change:visible",function(){this.setLayerVisibility(e,t)}.bind(this)))),n.push(e.on("propertychange",function(t){"displayInLayerSwitcher"!==t.key&&"openInLayerSwitcher"!==t.key||this.drawPanel(t)}.bind(this))),this._layers.push({li:t,layer:e,listeners:n})},d.prototype.setLayerOpacity=function(t,e){var n=e.querySelector(".layerswitcher-opacity-cursor");n&&(n.style.left=100*t.getOpacity()+"%"),this.dispatchEvent({type:"layer:opacity",layer:t})},d.prototype.setLayerVisibility=function(t,e){var n=e.querySelector(".ol-visibility");n&&(n.checked=t.getVisible()),t.getVisible()?e.classList.add("ol-visible"):e.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:t})},d.prototype._clearLayerForLI=function(){this._layers.forEach((function(t){t.listeners.forEach((function(t){(0,i.B)(t)}))})),this._layers=[]},d.prototype._getLayerForLI=function(t){for(var e,n=0;e=this._layers[n];n++)if(e.li===t)return e.layer;return null},d.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(t){var e=this._getLayerForLI(t);e&&(this.testLayerVisibility(e)?t.classList.remove("ol-layer-hidden"):t.classList.add("ol-layer-hidden"))}.bind(this))},d.prototype.getPanel=function(){return this.panelContainer_},d.prototype.drawPanel=function(){if(this.getMap()){var t=this;this.dcount++,setTimeout((function(){t.drawPanel_()}),this.get("drawDelay")||0)}},d.prototype.drawPanel_=function(){if(!--this.dcount&&!this.dragging_){var t=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(t){t.classList.contains("ol-header")||t.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=t}},d.prototype.switchLayerVisibility=function(t,e){t.get("baseLayer")?(t.getVisible()||t.setVisible(!0),e.forEach((function(e){t!==e&&e.get("baseLayer")&&e.getVisible()&&e.setVisible(!1)}))):t.setVisible(!t.getVisible())},d.prototype.testLayerVisibility=function(t){if(!this.getMap())return!0;var e=this.getMap().getView().getResolution(),n=this.getMap().getView().getZoom();if(t.getMaxResolution()<=e||t.getMinResolution()>=e)return!1;if(t.getMinZoom&&(t.getMinZoom()>=n||t.getMaxZoom()<n))return!1;var o=t.getExtent();if(o){var i=this.getMap().getView().calculateExtent(this.getMap().getSize());return(0,p.kK)(i,o)}return!0},d.prototype.dragOrdering_=function(t){t.stopPropagation(),t.preventDefault();var e,n,o,i,r,s=this,a=t.currentTarget.parentNode.parentNode,l=!0,c=this.panel_,h=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;function p(){if(n){var t=i,e=s.getSelection()===t;if(t&&n){var l;l=r?r.getLayers():s._layerGroup?s._layerGroup.getLayers():s.getMap().getLayers();for(var c=l.getArray(),h=0;h<c.length;h++)if(c[h]==t){l.removeAt(h);break}for(var f=0;f<c.length;f++)if(c[f]===n){h>f?l.insertAt(f,t):l.insertAt(f+1,t);break}}e&&s.selectLayer(t),s.dispatchEvent({type:"reorder-end",layer:t,group:r})}a.parentNode.querySelectorAll("li").forEach((function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")})),a.classList.remove("drag"),a.parentNode.classList.remove("drag"),s.element.classList.remove("drag"),o&&o.remove(),u.Z.removeListener(document,"mousemove touchmove",d),u.Z.removeListener(document,"mouseup touchend touchcancel",p)}function d(t){if(e=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY,l&&Math.abs(h-e)>2&&(l=!1,a.classList.add("drag"),i=s._getLayerForLI(a),n=!1,r=s._getLayerForLI(a.parentNode.parentNode),o=u.Z.create("LI",{className:"ol-dragover",html:a.innerHTML,style:{position:"absolute","z-index":1e4,left:a.offsetLeft,opacity:.5,width:u.Z.outerWidth(a),height:u.Z.getStyle(a,"height")},parent:c}),s.element.classList.add("drag"),s.dispatchEvent({type:"reorder-start",layer:i,group:r})),!l){var p;t.preventDefault(),t.stopPropagation(),u.Z.setStyle(o,{top:e-u.Z.offsetRect(c).top+c.scrollTop+5}),p=t.touches?document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY):t.target,p.classList.contains("ol-switcherbottomdiv")?s.overflow(-1):p.classList.contains("ol-switchertopdiv")&&s.overflow(1);while(p&&"LI"!==p.tagName)p=p.parentNode;p&&p.classList.contains("dropover")||a.parentNode.querySelectorAll("li").forEach((function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")})),p&&p.parentNode.classList.contains("drag")&&p!==a?(n=s._getLayerForLI(p),n&&!n.get("allwaysOnTop")==!i.get("allwaysOnTop")?(p.classList.add("dropover"),p.classList.add(a.offsetTop<p.offsetTop?"dropover-after":"dropover-before")):n=!1,u.Z.show(o)):(n=!1,p===a?u.Z.hide(o):u.Z.show(o)),n?o.classList.remove("forbidden"):o.classList.add("forbidden")}}a.parentNode.classList.add("drag"),u.Z.addListener(document,"mousemove touchmove",d),u.Z.addListener(document,"mouseup touchend touchcancel",p)},d.prototype.dragOpacity_=function(t){t.stopPropagation(),t.preventDefault();var e=this,n=t.target,o=this._getLayerForLI(n.parentNode.parentNode.parentNode);if(o){var i=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,r=u.Z.getStyle(n,"left")-i;e.dragging_=!0,u.Z.addListener(document,"mouseup touchend touchcancel",s),u.Z.addListener(document,"mousemove touchmove",a)}function s(){u.Z.removeListener(document,"mouseup touchend touchcancel",s),u.Z.removeListener(document,"mousemove touchmove",a),e.dragging_=!1}function a(t){var e=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,i=(r+e)/u.Z.getStyle(n.parentNode,"width"),s=Math.max(0,Math.min(1,i));u.Z.setStyle(n,{left:100*s+"%"}),n.parentNode.nextElementSibling.innerHTML=Math.round(100*s),o.setOpacity(s)}},d.prototype.drawList=function(t,e){var n=this,o=e.getArray(),i=function(t){t.stopPropagation(),t.preventDefault();var o=n._getLayerForLI(this.parentNode.parentNode);n.switchLayerVisibility(o,e),n.get("selection")&&o.getVisible()&&n.selectLayer(o),n.onchangeCheck&&n.onchangeCheck(o)};function r(t){t.stopPropagation(),t.preventDefault();var e=n._getLayerForLI(this.parentNode.parentNode);n.oninfo(e),n.dispatchEvent({type:"info",layer:e})}function a(t){t.stopPropagation(),t.preventDefault();var e=n._getLayerForLI(this.parentNode.parentNode);n.onextent?n.onextent(e):n.getMap().getView().fit(e.getExtent(),n.getMap().getSize()),n.dispatchEvent({type:"extent",layer:e})}function l(t){t.stopPropagation(),t.preventDefault();var e,o=this.parentNode.parentNode.parentNode.parentNode,i=n._getLayerForLI(o);i?(e=n._getLayerForLI(this.parentNode.parentNode),i.getLayers().remove(e),0!=i.getLayers().getLength()||i.get("noSwitcherDelete")||l.call(o.querySelectorAll(".layerTrash")[0],t)):(o=this.parentNode.parentNode,n.getMap().removeLayer(n._getLayerForLI(o)))}function c(e){if(this.displayInLayerSwitcher(e)){var c=u.Z.create("LI",{className:(e.getVisible()?"visible ":" ")+(e.get("baseLayer")?"baselayer":""),parent:t});this._setLayerForLI(c,e),this._selectedLayer===e&&c.classList.add("ol-layer-select");var p=u.Z.create("DIV",{className:"ol-layerswitcher-buttons",parent:c}),d=u.Z.create("DIV",{className:"li-content",parent:c});u.Z.create("INPUT",{type:e.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:e.getVisible(),click:i,parent:d});var f=u.Z.create("LABEL",{title:e.get("title")||e.get("name"),click:i,unselectable:"on",style:{userSelect:"none"},parent:d});if(f.addEventListener("selectstart",(function(){return!1})),u.Z.create("SPAN",{html:e.get("title")||e.get("name"),click:function(t){this.get("selection")&&(t.stopPropagation(),this.selectLayer(e))}.bind(this),parent:f}),this.reordering&&(h<o.length-1&&(e.get("allwaysOnTop")||!o[h+1].get("allwaysOnTop"))||h>0&&(!e.get("allwaysOnTop")||o[h-1].get("allwaysOnTop")))&&u.Z.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(t){n.dragOrdering_(t)}},parent:p}),e.getLayers){var y=0;e.getLayers().forEach((function(t){n.displayInLayerSwitcher(t)&&y++})),y&&u.Z.create("DIV",{className:e.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var t=n._getLayerForLI(this.parentNode.parentNode);t.set("openInLayerSwitcher",!t.get("openInLayerSwitcher"))},parent:p})}if(this.oninfo&&u.Z.create("DIV",{className:"layerInfo",title:this.tip.info,click:r,parent:p}),this.hastrash&&!e.get("noSwitcherDelete")&&u.Z.create("DIV",{className:"layerTrash",title:this.tip.trash,click:l,parent:p}),this.hasextent&&o[h].getExtent()){var g=o[h].getExtent();4==g.length&&g[0]<g[2]&&g[1]<g[3]&&u.Z.create("DIV",{className:"layerExtent",title:this.tip.extent,click:a,parent:p})}if(this.show_progress&&e instanceof s.Z){var v=u.Z.create("DIV",{className:"layerswitcher-progress",parent:d});this.setprogress_(e),e.layerswitcher_progress=u.Z.create("DIV",{parent:v})}var m=u.Z.create("DIV",{className:"layerswitcher-opacity",click:function(t){if(t.target===this){t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(1,t.offsetX/u.Z.getStyle(this,"width")));n._getLayerForLI(this.parentNode.parentNode).setOpacity(e)}},parent:d});if(u.Z.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:100*e.getOpacity()+"%"},on:{"mousedown touchstart":function(t){n.dragOpacity_(t)}},parent:m}),u.Z.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(100*e.getOpacity()),parent:d}),e.getLayers&&(c.classList.add("ol-layer-group"),!0===e.get("openInLayerSwitcher"))){var _=u.Z.create("UL",{parent:c});this.drawList(_,e.getLayers())}c.classList.add(this.getLayerClass(e)),this.dispatchEvent({type:"drawlist",layer:e,li:c})}else this._setLayerForLI(null,e)}for(var h=o.length-1;h>=0;h--)c.call(this,o[h]);this.viewChange(),t===this.panel_&&this.overflow()},d.prototype.getLayerClass=function(t){return t?t.getLayers?"ol-layer-group":t instanceof a.Z?"ol-layer-vector":t instanceof l.Z?"ol-layer-vectortile":t instanceof s.Z?"ol-layer-tile":t instanceof c.Z?"ol-layer-image":t instanceof h.Z?"ol-layer-heatmap":t.getFeatures?"ol-layer-vectorimage":"unknown":"none"},d.prototype.selectLayer=function(t,e){if(!t){if(!this.getMap())return;t=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=t,this.drawPanel(),e||this.dispatchEvent({type:"select",layer:t})},d.prototype.getSelection=function(){return this._selectedLayer},d.prototype.setprogress_=function(t){if(!t.layerswitcher_progress){var e=0,n=0,o=function(){n===e?(n=e=0,u.Z.setStyle(t.layerswitcher_progress,{width:0})):u.Z.setStyle(t.layerswitcher_progress,{width:(e/n*100).toFixed(1)+"%"})};t.getSource().on("tileloadstart",(function(){n++,o()})),t.getSource().on("tileloadend",(function(){e++,o()})),t.getSource().on("tileloaderror",(function(){e++,o()}))}};const f=d},52463:(t,e,n)=>{n.d(e,{Z:()=>f});var o=n(10044),i=n(72971);window.ol&&(ol.ext.input={});var r=function(t){t=t||{},i.Z.call(this);var e,n=this.input=t.input;n||(n=this.input=document.createElement("INPUT"),t.type&&n.setAttribute("type",t.type),void 0!==t.min&&n.setAttribute("min",t.min),void 0!==t.max&&n.setAttribute("max",t.max),void 0!==t.step&&n.setAttribute("step",t.step),t.parent&&t.parent.appendChild(n)),t.disabled&&(n.disabled=!0),void 0!==t.checked&&(n.checked=!!t.checked),void 0!==t.val&&(n.value=t.val),t.hidden&&(n.style.display="none"),n.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this)),n.addEventListener("focusout",function(){this.element&&(e&&clearTimeout(e),e=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))};(0,o.Z)(r,i.Z),r.prototype._listenDrag=function(t,e){var n=function(n){this.moving=!0,this.element.classList.add("ol-moving");var o=function(n){"pointerup"===n.type&&(document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",o),document.removeEventListener("pointercancel",o),setTimeout(function(){this.moving=!1,this.element.classList.remove("ol-moving")}.bind(this))),n.target===t&&e(n),n.stopPropagation(),n.preventDefault()}.bind(this);document.addEventListener("pointermove",o,!1),document.addEventListener("pointerup",o,!1),document.addEventListener("pointercancel",o,!1),n.stopPropagation(),n.preventDefault()}.bind(this);t.addEventListener("mousedown",n,!1),t.addEventListener("touchstart",n,!1)},r.prototype.setValue=function(t){void 0!==t&&(this.input.value=t),this.input.dispatchEvent(new Event("change"))},r.prototype.getValue=function(){return this.input.value},r.prototype.getInputElement=function(){return this.input};const s=r;var a=function(t){t=t||{},s.call(this,t);var e=this.element=document.createElement("LABEL");t.html instanceof Element?e.appendChild(t.html):void 0!==t.html&&(e.innerHTML=t.html),e.className=("ol-ext-check ol-ext-checkbox "+(t.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(e,this.input),e.appendChild(this.input),e.appendChild(document.createElement("SPAN")),t.after&&e.appendChild(document.createTextNode(t.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))};(0,o.Z)(a,s),a.prototype.isChecked=function(){return this.input.checked};const l=a;var c=function(t){t=t||{},l.call(this,t),this.element.className=("ol-ext-toggle-switch "+(t.className||"")).trim()};(0,o.Z)(c,l);const h=c;var p=function(t){t=t||{},l.call(this,t),this.element.className=("ol-ext-check ol-ext-radio "+(t.className||"")).trim()};(0,o.Z)(p,l);const u=p;var d={create:function(t,e){var n;if(e=e||{},"TEXT"===t)n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else for(var o in n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button"),e)switch(o){case"className":e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break;case"text":n.innerText=e.text;break;case"html":e.html instanceof Element?n.appendChild(e.html):void 0!==e.html&&(n.innerHTML=e.html);break;case"parent":e.parent&&e.parent.appendChild(n);break;case"options":if(/select/i.test(t))for(var i in e.options)d.create("OPTION",{html:i,value:e.options[i],parent:n});break;case"style":d.setStyle(n,e.style);break;case"change":case"click":d.addListener(n,o,e[o]);break;case"on":for(var r in e.on)d.addListener(n,r,e.on[r]);break;case"checked":n.checked=!!e.checked;break;default:n.setAttribute(o,e[o]);break}return n},createSwitch:function(t){var e=d.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),n=Object.assign({input:e},t||{});return new h(n),e},createCheck:function(t){var e=d.create("INPUT",{name:t.name,type:"radio"===t.type?"radio":"checkbox",on:t.on,parent:t.parent}),n=Object.assign({input:e},t||{});return"radio"===t.type?new u(n):new l(n),e},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},appendText:function(t,e){t.appendChild(document.createTextNode(e||""))},addListener:function(t,e,n,o){"string"===typeof e&&(e=e.split(" ")),e.forEach((function(e){t.addEventListener(e,n,o)}))},removeListener:function(t,e,n){"string"===typeof e&&(e=e.split(" ")),e.forEach((function(e){t.removeEventListener(e,n)}))},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===d.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"===typeof e[n]?t.style[n]=e[n]+"px":t.style[n]=e[n];break;default:t.style[n]=e[n]}},getStyle:function(t,e){var n,o=(t.ownerDocument||document).defaultView;if(o&&o.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=o.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(e){var n=t.style.left,o=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=n,t.runtimeStyle.left=o,e}(n);return/px$/.test(n)?parseInt(n):n},outerHeight:function(t){return t.offsetHeight+d.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+d.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}},getFixedOffset:function(t){var e={left:0,top:0},n=function(t){if(!t)return e;if("absolute"===d.getStyle(t,"position")&&"none"!==d.getStyle(t,"transform")){var o=t.getBoundingClientRect();return e.left+=o.left,e.top+=o.top,e}return n(t.offsetParent)};return n(t.offsetParent)},positionRect:function(t,e){var n=0,o=0,i=function(r){if(r)return n+=r.offsetLeft,o+=r.offsetTop,i(r.offsetParent);var s={top:t.offsetTop+o,left:t.offsetLeft+n};return e&&(s.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),s.bottom=s.top+t.offsetHeight,s.right=s.top+t.offsetWidth,s};return i(t.offsetParent)},scrollDiv:function(t,e){e=e||{};var n,o,i,r,s,a=!1,l=0,c=0,h="function"===typeof e.onmove?e.onmove:function(){},p=e.vertical?"screenY":"screenX",u=e.vertical?"scrollTop":"scrollLeft",f=!1,y=0,g=function(){s&&(y++,setTimeout(v))},v=function(){if(s){if(y--,y)return;var e=t.clientHeight,n=t.scrollHeight;o=e/n,s.style.height=100*o+"%",s.style.top=t.scrollTop/n*100+"%",r.style.height=e+"px",e>n-.5?r.classList.add("ol-100pc"):r.classList.remove("ol-100pc")}},m=function(e){e.target.classList.contains("ol-noscroll")||(f=!1,a=e[p],c=new Date,t.classList.add("ol-move"),e.preventDefault(),window.addEventListener("pointermove",_),d.addListener(window,["pointerup","pointercancel"],E))},_=function(e){if(f=!0,!1!==a){var r=(i?-1/o:1)*(a-e[p]);t[u]+=r,n=new Date,n-c&&(l=(l+r/(n-c))/2),a=e[p],c=n,r&&h(!0)}},L=function(e){var n=e>0?Math.min(100,e/2):Math.max(-100,e/2);e-=n,t[u]+=n,-1<e&&e<1?(f?setTimeout((function(){t.classList.remove("ol-move")})):t.classList.remove("ol-move"),f=!1,h(!1)):setTimeout((function(){L(e)}),40)};if(e.vertical&&e.minibar){var w=function(n){t.removeEventListener("pointermove",w),t.parentNode.classList.add("ol-miniscroll"),s=d.create("DIV"),r=d.create("DIV",{className:"ol-scroll",html:s}),t.parentNode.insertBefore(r,t),s.addEventListener("pointerdown",(function(t){i=!0,m(t)})),e.mousewheel&&(d.addListener(r,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){b(t)})),d.addListener(s,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){b(t)}))),t.parentNode.addEventListener("pointerenter",g),window.addEventListener("resize",g),!1!==n&&g()};t.parentNode?w(!1):t.addEventListener("pointermove",w),t.addEventListener("scroll",(function(){g()}))}t.style["touch-action"]="none",t.style["overflow"]="hidden",t.classList.add("ol-scrolldiv"),d.addListener(t,["pointerdown"],(function(t){i=!1,m(t)})),t.addEventListener("click",(function(e){t.classList.contains("ol-move")&&(e.preventDefault(),e.stopPropagation())}),!0);var E=function(n){c=new Date-c,c>100||i?l=0:c>0&&(l=((l||0)+(a-n[p])/c)/2),L(!1===e.animate?0:200*l),a=!1,l=0,c=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout((function(){t.classList.remove("ol-hasClick")}),500)),i=!1,window.removeEventListener("pointermove",_),d.removeListener(window,["pointerup","pointercancel"],E)},b=function(e){var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[u]-=30*n,t.classList.remove("ol-move"),!1};return e.mousewheel&&d.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],b),{refresh:g}},dispatchEvent:function(t,e){var n;try{n=new CustomEvent(t)}catch(o){n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,{})}e.dispatchEvent(n)}};const f=d},10044:(t,e,n)=>{n.d(e,{Z:()=>i}),window.ol&&!ol.ext&&(ol.ext={});var o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=o)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});const i=o},78714:(t,e,n)=>{n.d(e,{Z:()=>p});var o=n(6813),i=n(72971),r=n(42071),s=n(291),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l={LENGTH:"length"},c=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.element=n,i.index=o,i}return a(e,t),e}(s.ZP),h=function(t){function e(e,n){var o=t.call(this)||this;o.on,o.once,o.un;var i=n||{};if(o.unique_=!!i.unique,o.array_=e||[],o.unique_)for(var r=0,s=o.array_.length;r<s;++r)o.assertUnique_(o.array_[r],r);return o.updateLength_(),o}return a(e,t),e.prototype.clear=function(){while(this.getLength()>0)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(r.Z.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(r.Z.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(r.Z.REMOVE,o,t)),this.dispatchEvent(new c(r.Z.ADD,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new o.Z(58)},e}(i.Z);const p=h},42071:(t,e,n)=>{n.d(e,{Z:()=>o});const o={ADD:"add",REMOVE:"remove"}},55431:(t,e,n)=>{n.d(e,{Z:()=>i});var o=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();const i=o},81090:(t,e,n)=>{n.d(e,{Z:()=>h});var o=n(72971),i=n(85487),r=n(99515),s=n(65818),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var o=e;n.setGeometry(o)}else{var i=e;n.setProperties(i)}return n}return a(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var o=this.getStyle();return o&&t.setStyle(o),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,s.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,s.oL)(t,i.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?c(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(o.Z);function c(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{(0,r.h)("function"===typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}const h=l},14446:(t,e,n)=>{n.d(e,{K:()=>f});var o=n(85487),i=n(208),r=n(74187),s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e,n,o,i){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=o,r.resolution=n,r.state=i,r}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(o.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,r.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,r.O3)()},e}(i.Z);const l=a;var c=n(70553),h=n(40177),p=n(28641),u=n(65818),d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(t){function e(e,n,o,i,r,s){var a=t.call(this,e,n,o,c.Z.IDLE)||this;return a.src_=i,a.image_=new Image,null!==r&&(a.image_.crossOrigin=r),a.unlisten_=null,a.state=c.Z.IDLE,a.imageLoadFunction_=s,a}d(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=c.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,p.Cr)(this.extent)/this.image_.height),this.state=c.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=c.Z.IDLE&&this.state!=c.Z.ERROR||(this.state=c.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=f(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=(0,p.Cr)(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}})(l);function f(t,e,n){var i=t,r=!0,s=!1,a=!1,l=[(0,u.Vx)(i,o.Z.LOAD,(function(){a=!0,s||e()}))];return i.src&&h.Tp?(s=!0,i.decode().then((function(){r&&e()})).catch((function(t){r&&(a?e():n())}))):l.push((0,u.Vx)(i,o.Z.ERROR,n)),function(){r=!1,l.forEach(u.bN)}}},70553:(t,e,n)=>{n.d(e,{Z:()=>o});const o={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},20825:(t,e,n)=>{n.d(e,{Z:()=>h});var o=n(94806),i=n(37195),r=n(68326),s=n(14446),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e,n,o,i,r,s){var a=t.call(this,e,n,s)||this;return a.crossOrigin_=i,a.src_=o,a.key=o,a.image_=new Image,null!==i&&(a.image_.crossOrigin=i),a.unlisten_=null,a.tileLoadFunction_=r,a}return a(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=i.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=i.Z.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=i.Z.LOADED:this.state=i.Z.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==i.Z.ERROR&&(this.state=i.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==i.Z.IDLE&&(this.state=i.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,s.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(o.Z);function c(){var t=(0,r.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const h=l},11230:(t,e,n)=>{n.d(e,{Z:()=>i});var o=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;var n=e-3;while(n>0&&this.points_[n+2]>t)n-=3;var o=this.points_[e+2]-this.points_[n+2];if(o<1e3/60)return!1;var i=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,i),this.initialVelocity_=Math.sqrt(i*i+r*r)/o,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();const i=o},48630:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(43536),i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(t){function e(e,n,o,i,r,s){var a=t.call(this,e,n,r)||this;return a.originalEvent=o,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a.activePointers=s,a}return i(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(o.Z);const s=r},41708:(t,e,n)=>{n.d(e,{Z:()=>f});var o=n(85487),i=n(48630),r=n(92217),s=n(44238),a=n(208),l=n(40177),c=n(36885),h=n(69374),p=n(65818),u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=void 0===n?1:n,i.down_=null;var r=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=r,i.pointerdownListenerKey_=(0,p.oL)(r,s.Z.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=(0,p.oL)(r,s.Z.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(o.Z.TOUCHMOVE,i.boundHandleTouchMove_,!!l.bM&&{passive:!1}),i}return u(e,t),e.prototype.emulateClick_=function(t){var e=new i.Z(r.Z.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new i.Z(r.Z.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new i.Z(r.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t,n=e.pointerId;if(e.type==r.Z.POINTERUP||e.type==r.Z.POINTERCANCEL){for(var o in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[o].target!==e.target){delete this.trackedTouches_[o];break}}else e.type!=r.Z.POINTERDOWN&&e.type!=r.Z.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=(0,h.KX)(this.trackedTouches_)},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new i.Z(r.Z.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(p.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);var e=new i.Z(r.Z.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);for(var n in this.dispatchEvent(e),this.down_={},t){var o=t[n];this.down_[n]="function"===typeof o?c.Zn:o}if(0===this.dragListenerKeys_.length){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,p.oL)(s,r.Z.POINTERMOVE,this.handlePointerMove_,this),(0,p.oL)(s,r.Z.POINTERUP,this.handlePointerUp_,this),(0,p.oL)(this.element_,r.Z.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push((0,p.oL)(this.element_.getRootNode(),r.Z.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var e=new i.Z(r.Z.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}},e.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new i.Z(r.Z.POINTERMOVE,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,p.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(o.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,p.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(p.bN),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(a.Z);const f=d},92217:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(85487);const i={SINGLECLICK:"singleclick",CLICK:o.Z.CLICK,DBLCLICK:o.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},43536:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(291),i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==o?o:null,i}return i(e,t),e}(o.ZP);const s=r},32126:(t,e,n)=>{n.d(e,{Z:()=>o});const o={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},63222:(t,e,n)=>{n.d(e,{Z:()=>o});const o={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}}}]);
//# sourceMappingURL=4763.5ecdb947.js.map