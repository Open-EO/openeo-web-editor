"use strict";(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[1323],{409:(e,t,n)=>{n.d(t,{A:()=>s,n:()=>i});var r=n(49825),o=n(89352);function s(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function i(e,t,n){const o=(0,r.qg)(e,n);if(!(0,r.ho)(t,o.type)){const e=(0,r.go)(t),n=(0,r.go)(o.type);throw new Error(`Expected expression to be of type ${e}, got ${n}`)}return a(o,n)}function a(e,t){if(e instanceof r._D){if(e.type===r.mE&&"string"===typeof e.value){const t=(0,o.sH)(e.value);return function(){return t}}return function(){return e.value}}const n=e.operator;switch(n){case r.ZD.Number:case r.ZD.String:case r.ZD.Coalesce:return l(e,t);case r.ZD.Get:case r.ZD.Var:return c(e,t);case r.ZD.Id:return e=>e.featureId;case r.ZD.GeometryType:return e=>e.geometryType;case r.ZD.Concat:{const n=e.args.map(e=>a(e,t));return e=>"".concat(...n.map(t=>t(e).toString()))}case r.ZD.Resolution:return e=>e.resolution;case r.ZD.Any:case r.ZD.All:case r.ZD.Between:case r.ZD.In:case r.ZD.Not:return h(e,t);case r.ZD.Equal:case r.ZD.NotEqual:case r.ZD.LessThan:case r.ZD.LessThanOrEqualTo:case r.ZD.GreaterThan:case r.ZD.GreaterThanOrEqualTo:return u(e,t);case r.ZD.Multiply:case r.ZD.Divide:case r.ZD.Add:case r.ZD.Subtract:case r.ZD.Clamp:case r.ZD.Mod:case r.ZD.Pow:case r.ZD.Abs:case r.ZD.Floor:case r.ZD.Ceil:case r.ZD.Round:case r.ZD.Sin:case r.ZD.Cos:case r.ZD.Atan:case r.ZD.Sqrt:return d(e,t);case r.ZD.Case:return p(e,t);case r.ZD.Match:return f(e,t);case r.ZD.Interpolate:return g(e,t);case r.ZD.ToString:return m(e,t);default:throw new Error(`Unsupported operator ${n}`)}}function l(e,t){const n=e.operator,o=e.args.length,s=new Array(o);for(let r=0;r<o;++r)s[r]=a(e.args[r],t);switch(n){case r.ZD.Coalesce:return e=>{for(let t=0;t<o;++t){const n=s[t](e);if("undefined"!==typeof n&&null!==n)return n}throw new Error("Expected one of the values to be non-null")};case r.ZD.Number:case r.ZD.String:return e=>{for(let t=0;t<o;++t){const r=s[t](e);if(typeof r===n)return r}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function c(e,t){const n=e.args[0],o=n.value;switch(e.operator){case r.ZD.Get:return e=>e.properties[o];case r.ZD.Var:return e=>e.variables[o];default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}function u(e,t){const n=e.operator,o=a(e.args[0],t),s=a(e.args[1],t);switch(n){case r.ZD.Equal:return e=>o(e)===s(e);case r.ZD.NotEqual:return e=>o(e)!==s(e);case r.ZD.LessThan:return e=>o(e)<s(e);case r.ZD.LessThanOrEqualTo:return e=>o(e)<=s(e);case r.ZD.GreaterThan:return e=>o(e)>s(e);case r.ZD.GreaterThanOrEqualTo:return e=>o(e)>=s(e);default:throw new Error(`Unsupported comparison operator ${n}`)}}function h(e,t){const n=e.operator,o=e.args.length,s=new Array(o);for(let r=0;r<o;++r)s[r]=a(e.args[r],t);switch(n){case r.ZD.Any:return e=>{for(let t=0;t<o;++t)if(s[t](e))return!0;return!1};case r.ZD.All:return e=>{for(let t=0;t<o;++t)if(!s[t](e))return!1;return!0};case r.ZD.Between:return e=>{const t=s[0](e),n=s[1](e),r=s[2](e);return t>=n&&t<=r};case r.ZD.In:return e=>{const t=s[0](e);for(let n=1;n<o;++n)if(t===s[n](e))return!0;return!1};case r.ZD.Not:return e=>!s[0](e);default:throw new Error(`Unsupported logical operator ${n}`)}}function d(e,t){const n=e.operator,o=e.args.length,s=new Array(o);for(let r=0;r<o;++r)s[r]=a(e.args[r],t);switch(n){case r.ZD.Multiply:return e=>{let t=1;for(let n=0;n<o;++n)t*=s[n](e);return t};case r.ZD.Divide:return e=>s[0](e)/s[1](e);case r.ZD.Add:return e=>{let t=0;for(let n=0;n<o;++n)t+=s[n](e);return t};case r.ZD.Subtract:return e=>s[0](e)-s[1](e);case r.ZD.Clamp:return e=>{const t=s[0](e),n=s[1](e);if(t<n)return n;const r=s[2](e);return t>r?r:t};case r.ZD.Mod:return e=>s[0](e)%s[1](e);case r.ZD.Pow:return e=>Math.pow(s[0](e),s[1](e));case r.ZD.Abs:return e=>Math.abs(s[0](e));case r.ZD.Floor:return e=>Math.floor(s[0](e));case r.ZD.Ceil:return e=>Math.ceil(s[0](e));case r.ZD.Round:return e=>Math.round(s[0](e));case r.ZD.Sin:return e=>Math.sin(s[0](e));case r.ZD.Cos:return e=>Math.cos(s[0](e));case r.ZD.Atan:return 2===o?e=>Math.atan2(s[0](e),s[1](e)):e=>Math.atan(s[0](e));case r.ZD.Sqrt:return e=>Math.sqrt(s[0](e));default:throw new Error(`Unsupported numeric operator ${n}`)}}function p(e,t){const n=e.args.length,r=new Array(n);for(let o=0;o<n;++o)r[o]=a(e.args[o],t);return e=>{for(let t=0;t<n-1;t+=2){const n=r[t](e);if(n)return r[t+1](e)}return r[n-1](e)}}function f(e,t){const n=e.args.length,r=new Array(n);for(let o=0;o<n;++o)r[o]=a(e.args[o],t);return e=>{const t=r[0](e);for(let o=1;o<n;o+=2)if(t===r[o](e))return r[o+1](e);return r[n-1](e)}}function g(e,t){const n=e.args.length,r=new Array(n);for(let o=0;o<n;++o)r[o]=a(e.args[o],t);return e=>{const t=r[0](e),s=r[1](e);let i,a;for(let l=2;l<n;l+=2){const n=r[l](e);let c=r[l+1](e);const u=Array.isArray(c);if(u&&(c=(0,o.fu)(c)),n>=s)return 2===l?c:u?b(t,s,i,a,n,c):y(t,s,i,a,n,c);i=n,a=c}return a}}function m(e,t){const n=e.operator,s=e.args.length,i=new Array(s);for(let r=0;r<s;++r)i[r]=a(e.args[r],t);switch(n){case r.ZD.ToString:return t=>{const n=i[0](t);return e.args[0].type===r.mE?(0,o.dI)(n):n.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function y(e,t,n,r,o,s){const i=o-n;if(0===i)return r;const a=t-n,l=1===e?a/i:(Math.pow(e,a)-1)/(Math.pow(e,i)-1);return r+l*(s-r)}function b(e,t,n,r,s,i){const a=s-n;if(0===a)return r;const l=(0,o.eE)(r),c=(0,o.eE)(i);let u=c[2]-l[2];u>180?u-=360:u<-180&&(u+=360);const h=[y(e,t,n,l[0],s,c[0]),y(e,t,n,l[1],s,c[1]),l[2]+y(e,t,n,0,s,u),y(e,t,n,r[3],s,i[3])];return(0,o.S8)((0,o.cD)(h))}},1685:(e,t,n)=>{n.d(t,{Ay:()=>o});class r{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const o=r},6837:(e,t,n)=>{n.d(t,{A:()=>r});const r={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},9438:(e,t,n)=>{n.d(t,{JH:()=>i,Jz:()=>s,KT:()=>o});var r=n(43530);function o(e,t,n,r,o){if(r&&r!==e&&(n=n.bind(r)),o){const r=n;n=function(){e.removeEventListener(t,n),r.apply(this,arguments)}}const s={target:e,type:t,listener:n};return e.addEventListener(t,n),s}function s(e,t,n,r){return o(e,t,n,r,!0)}function i(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),(0,r.I)(e))}},10972:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(34120),o=n(82585),s=n(74238),i=n(9438),a=n(68711);class l extends r.A{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){(0,a.bf)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&(0,a.bf)(this.element);for(let t=0,n=this.listenerKeys.length;t<n;++t)(0,i.JH)(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_?this.target_:e.getOverlayContainerStopEvent();t.appendChild(this.element),this.render!==s.tV&&this.listenerKeys.push((0,i.KT)(e,o.A.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"===typeof e?document.getElementById(e):e}}const c=l},15477:(e,t,n)=>{n.d(t,{$R:()=>c,Lm:()=>g,Sl:()=>y,Tl:()=>m,VO:()=>h,nR:()=>v,uZ:()=>w,z0:()=>b});var r=n(59427),o=n(49825),s=n(566),i=n(89352),a=n(6782);function l(e,t){return`operator_${e}_${Object.keys(t.functions).length}`}function c(e){const t=e.toString();return t.includes(".")?t:t+".0"}function u(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${e.length}(${e.map(c).join(", ")})`}function h(e){const t=(0,i._j)(e),n=t.length>3?t[3]:1;return u([t[0]/255*n,t[1]/255*n,t[2]/255*n,n])}function d(e){const t=(0,a.xq)(e);return u(t)}const p={};let f=0;function g(e){return e in p||(p[e]=f++),p[e]}function m(e){return c(g(e))}function y(e){return"u_var_"+e}function b(){return{inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,style:{}}}const _="getBandValue",w="u_paletteTextures";function v(e,t,n,r){const s=(0,o.qg)(e,n,t);if((0,o.Xj)(s.type,o.j))throw new Error("No matching type was found");if(!(0,o.ho)(t,s.type)){const e=(0,o.go)(t),n=(0,o.go)(s.type);throw new Error(`Expected expression to be of type ${e}, got ${n}`)}return $(s,t,r)}function E(e){return(t,n,r)=>{const o=n.args.length,s=new Array(o);for(let e=0;e<o;++e)s[e]=$(n.args[e],r,t);return e(s,t)}}const C={[o.ZD.Get]:(e,t)=>{const n=t.args[0],r=n.value,o=r in e.properties;o||(e.properties[r]={name:r,type:t.type});const s=e.inFragmentShader?"v_prop_":"a_prop_";return s+r},[o.ZD.GeometryType]:(e,t,n)=>{const r="geometryType",s=r in e.properties;s||(e.properties[r]={name:r,type:o.cT,evaluator:e=>(0,o.Ye)(e.getGeometry())});const i=e.inFragmentShader?"v_prop_":"a_prop_";return i+r},[o.ZD.Var]:(e,t)=>{const n=t.args[0],r=n.value,o=r in e.variables;return o||(e.variables[r]={name:r,type:t.type}),y(r)},[o.ZD.Resolution]:()=>"u_resolution",[o.ZD.Zoom]:()=>"u_zoom",[o.ZD.Time]:()=>"u_time",[o.ZD.Any]:E(e=>`(${e.join(" || ")})`),[o.ZD.All]:E(e=>`(${e.join(" && ")})`),[o.ZD.Not]:E(([e])=>`(!${e})`),[o.ZD.Equal]:E(([e,t])=>`(${e} == ${t})`),[o.ZD.NotEqual]:E(([e,t])=>`(${e} != ${t})`),[o.ZD.GreaterThan]:E(([e,t])=>`(${e} > ${t})`),[o.ZD.GreaterThanOrEqualTo]:E(([e,t])=>`(${e} >= ${t})`),[o.ZD.LessThan]:E(([e,t])=>`(${e} < ${t})`),[o.ZD.LessThanOrEqualTo]:E(([e,t])=>`(${e} <= ${t})`),[o.ZD.Multiply]:E(e=>`(${e.join(" * ")})`),[o.ZD.Divide]:E(([e,t])=>`(${e} / ${t})`),[o.ZD.Add]:E(e=>`(${e.join(" + ")})`),[o.ZD.Subtract]:E(([e,t])=>`(${e} - ${t})`),[o.ZD.Clamp]:E(([e,t,n])=>`clamp(${e}, ${t}, ${n})`),[o.ZD.Mod]:E(([e,t])=>`mod(${e}, ${t})`),[o.ZD.Pow]:E(([e,t])=>`pow(${e}, ${t})`),[o.ZD.Abs]:E(([e])=>`abs(${e})`),[o.ZD.Floor]:E(([e])=>`floor(${e})`),[o.ZD.Ceil]:E(([e])=>`ceil(${e})`),[o.ZD.Round]:E(([e])=>`floor(${e} + 0.5)`),[o.ZD.Sin]:E(([e])=>`sin(${e})`),[o.ZD.Cos]:E(([e])=>`cos(${e})`),[o.ZD.Atan]:E(([e,t])=>void 0!==t?`atan(${e}, ${t})`:`atan(${e})`),[o.ZD.Sqrt]:E(([e])=>`sqrt(${e})`),[o.ZD.Match]:E(e=>{const t=e[0],n=e[e.length-1];let r=null;for(let o=e.length-3;o>=1;o-=2){const s=e[o],i=e[o+1];r=`(${t} == ${s} ? ${i} : ${r||n})`}return r}),[o.ZD.Between]:E(([e,t,n])=>`(${e} >= ${t} && ${e} <= ${n})`),[o.ZD.Interpolate]:E(([e,t,...n])=>{let r="";for(let o=0;o<n.length-2;o+=2){const s=n[o],i=r||n[o+1],a=n[o+2],l=n[o+3];let u;u=e===c(1)?`(${t} - ${s}) / (${a} - ${s})`:`(pow(${e}, (${t} - ${s})) - 1.0) / (pow(${e}, (${a} - ${s})) - 1.0)`,r=`mix(${i}, ${l}, clamp(${u}, 0.0, 1.0))`}return r}),[o.ZD.Case]:E(e=>{const t=e[e.length-1];let n=null;for(let r=e.length-3;r>=0;r-=2){const o=e[r],s=e[r+1];n=`(${o} ? ${s} : ${n||t})`}return n}),[o.ZD.In]:E(([e,...t],n)=>{const r=l("in",n),o=[];for(let s=0;s<t.length;s+=1)o.push(`  if (inputValue == ${t[s]}) { return true; }`);return n.functions[r]=`bool ${r}(float inputValue) {\n${o.join("\n")}\n  return false;\n}`,`${r}(${e})`}),[o.ZD.Array]:E(e=>`vec${e.length}(${e.join(", ")})`),[o.ZD.Color]:E(e=>{if(1===e.length)return`vec4(vec3(${e[0]} / 255.0), 1.0)`;if(2===e.length)return`(${e[1]} * vec4(vec3(${e[0]} / 255.0), 1.0))`;const t=e.slice(0,3).map(e=>`${e} / 255.0`);if(3===e.length)return`vec4(${t.join(", ")}, 1.0)`;const n=e[3];return`(${n} * vec4(${t.join(", ")}, 1.0))`}),[o.ZD.Band]:E(([e,t,n],r)=>{if(!(_ in r.functions)){let e="";const t=r.bandCount||1;for(let n=0;n<t;n++){const r=Math.floor(n/4);let o=n%4;n===t-1&&1===o&&(o=3);const i=`${s.gF.TILE_TEXTURE_ARRAY}[${r}]`;e+=`  if (band == ${n+1}.0) {\n    return texture2D(${i}, v_textureCoord + vec2(dx, dy))[${o}];\n  }\n`}r.functions[_]=`float getBandValue(float band, float xOffset, float yOffset) {\n  float dx = xOffset / ${s.gF.TEXTURE_PIXEL_WIDTH};\n  float dy = yOffset / ${s.gF.TEXTURE_PIXEL_HEIGHT};\n${e}\n}`}return`${_}(${e}, ${t??"0.0"}, ${n??"0.0"})`}),[o.ZD.Palette]:(e,t)=>{const[n,...s]=t.args,a=s.length,l=new Uint8Array(4*a);for(let r=0;r<s.length;r++){const e=s[r].value,t=(0,i._j)(e),n=4*r;l[n]=t[0],l[n+1]=t[1],l[n+2]=t[2],l[n+3]=255*t[3]}e.paletteTextures||(e.paletteTextures=[]);const c=`${w}[${e.paletteTextures.length}]`,u=new r.A(c,l);e.paletteTextures.push(u);const h=$(n,o.wl,e);return`texture2D(${c}, vec2((${h} + 0.5) / ${a}.0, 0.5))`}};function $(e,t,n){if(e instanceof o.DG){const r=C[e.operator];if(void 0===r)throw new Error(`No compiler defined for this operator: ${JSON.stringify(e.operator)}`);return r(n,e,t)}if((e.type&o.wl)>0)return c(e.value);if((e.type&o.T8)>0)return e.value.toString();if((e.type&o.cT)>0)return m(e.value.toString());if((e.type&o.mE)>0)return h(e.value);if((e.type&o.Fq)>0)return u(e.value);if((e.type&o.qA)>0)return d(e.value);throw new Error(`Unexpected expression ${e.value} (expected type ${(0,o.go)(t)})`)}},21142:(e,t,n)=>{n.d(t,{nF:()=>i});var r=n(74238);let o=!1;function s(e,t,n,r,s,i,a){const l=new XMLHttpRequest;l.open("GET","function"===typeof e?e(n,r,s):e,!0),"arraybuffer"==t.getType()&&(l.responseType="arraybuffer"),l.withCredentials=o,l.onload=function(e){if(!l.status||l.status>=200&&l.status<300){const e=t.getType();try{let r;"text"==e||"json"==e?r=l.responseText:"xml"==e?r=l.responseXML||l.responseText:"arraybuffer"==e&&(r=l.response),r?i(t.readFeatures(r,{extent:n,featureProjection:s}),t.readProjection(r)):a()}catch{a()}}else a()},l.onerror=a,l.send()}function i(e,t){return function(n,o,i,a,l){const c=this;s(e,t,n,o,i,function(e,t){c.addFeatures(e),void 0!==a&&a(e)},l||r.tV)}}},25176:(e,t,n)=>{n.d(t,{$N:()=>i,K5:()=>u,Si:()=>r,Vv:()=>s,XI:()=>o,nT:()=>a});const r="ol-hidden",o="ol-unselectable",s="ol-unsupported",i="ol-control",a="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),c=["style","variant","weight","size","lineHeight","family"],u=function(e){const t=e.match(l);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,o=c.length;r<o;++r){const e=t[r+1];void 0!==e&&(n[c[r]]=e)}return n.families=n.family.split(/,\s?/),n}},28686:(e,t,n)=>{n.d(t,{A:()=>r});const r={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"}},41312:(e,t,n)=>{n.d(t,{A:()=>U});var r=n(86717),o=n(24778),s=n(44294),i=n(11217),a=n(34142),l=n(30503),c=n(96702),u=n(2871),h=n(34338),d=n(4087),p=n(89718),f=n(71225);class g{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=r["default"],this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?(0,p.get)(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,p.get)(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return(0,d.b0)()}readFeature(e,t){return(0,d.b0)()}readFeatures(e,t){return(0,d.b0)()}readGeometry(e,t){return(0,d.b0)()}readProjection(e){return(0,d.b0)()}writeFeature(e,t){return(0,d.b0)()}writeFeatures(e,t){return(0,d.b0)()}writeGeometry(e,t){return(0,d.b0)()}}const m=g;function y(e,t,n){const r=n?(0,p.get)(n.featureProjection):null,o=n?(0,p.get)(n.dataProjection):null;let s=e;if(r&&o&&!(0,p.equivalent)(r,o)){t&&(s=e.clone());const n=t?r:o,i=t?o:r;"tile-pixels"===n.getUnits()?s.transform(n,i):s.applyTransform((0,p.getTransform)(n,i))}if(t&&n&&void 0!==n.decimals){const t=Math.pow(10,n.decimals),r=function(e){for(let n=0,r=e.length;n<r;++n)e[n]=Math.round(e[n]*t)/t;return e};s===e&&(s=e.clone()),s.applyTransform(r)}return s}const b={Point:s["default"],LineString:i.A,Polygon:a.Ay,MultiPoint:l.A,MultiLineString:c.A,MultiPolygon:u.A};function _(e,t,n){return Array.isArray(t[0])?((0,f.mb)(e,0,t,n)||(e=e.slice(),(0,f.NK)(e,0,t,n)),e):((0,f.PA)(e,0,t,n)||(e=e.slice(),(0,f.ug)(e,0,t,n)),e)}function w(e,t){const n=e.geometry;if(!n)return[];if(Array.isArray(n))return n.map(t=>w({...e,geometry:t})).flat();const r="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const s=n.layout.length;return y(new o.Ay(r,"Polygon"===r?_(n.flatCoordinates,n.ends,s):n.flatCoordinates,n.ends?.flat(),s,e.properties||{},e.id).enableSimplifyTransformed(),!1,t)}function v(e,t){if(!e)return null;if(Array.isArray(e)){const n=e.map(e=>v(e,t));return new h.A(n)}const n=b[e.type];return y(new n(e.flatCoordinates,e.layout,e.ends),!1,t)}class E extends m{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(C(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(C(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return(0,d.b0)()}readFeaturesFromObject(e,t){return(0,d.b0)()}readGeometry(e,t){return this.readGeometryFromObject(C(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return(0,d.b0)()}readProjection(e){return this.readProjectionFromObject(C(e))}readProjectionFromObject(e){return(0,d.b0)()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return(0,d.b0)()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return(0,d.b0)()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return(0,d.b0)()}}function C(e){if("string"===typeof e){const t=JSON.parse(e);return t||null}return null!==e?e:null}const $=E;var T=n(92497),A=n(62096),D=n(43530);class N extends ${constructor(e){e=e||{},super(),this.dataProjection=(0,p.get)(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=(0,p.get)(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;n="Feature"===e["type"]?e:{type:"Feature",geometry:e,properties:null};const s=S(n["geometry"],t);if(this.featureClass===o.Ay)return w({geometry:s,id:n["id"],properties:n["properties"]},t);const i=new r["default"];return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&n["geometry_name"]&&i.setGeometryName(n["geometry_name"]),i.setGeometry(v(s,t)),"id"in n&&i.setId(n["id"]),n["properties"]&&i.setProperties(n["properties"],!0),i}readFeaturesFromObject(e,t){const n=e;let r=null;if("FeatureCollection"===n["type"]){const n=e;r=[];const o=n["features"];for(let e=0,s=o.length;e<s;++e){const n=this.readFeatureFromObject(o[e],t);n&&r.push(n)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return x(e,t)}readProjectionFromObject(e){const t=e["crs"];let n;if(t)if("name"==t["type"])n=(0,p.get)(t["properties"]["name"]);else{if("EPSG"!==t["type"])throw new Error("Unknown SRS type");n=(0,p.get)("EPSG:"+t["properties"]["code"])}else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},r=e.getId();if(void 0!==r&&(n.id=r),!e.hasProperties())return n;const o=e.getProperties(),s=e.getGeometry();return s&&(n.geometry=I(s,t),delete o[e.getGeometryName()]),(0,D.p)(o)||(n.properties=o),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let r=0,o=e.length;r<o;++r)n.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return I(e,this.adaptOptions(t))}}function S(e,t){if(!e)return null;let n;switch(e["type"]){case"Point":n=Z(e);break;case"LineString":n=M(e);break;case"Polygon":n=j(e);break;case"MultiPoint":n=O(e);break;case"MultiLineString":n=F(e);break;case"MultiPolygon":n=P(e);break;case"GeometryCollection":n=L(e);break;default:throw new Error("Unsupported GeoJSON type: "+e["type"])}return n}function x(e,t){const n=S(e,t);return v(n,t)}function L(e,t){const n=e["geometries"].map(function(e){return S(e,t)});return n}function Z(e){const t=e["coordinates"];return{type:"Point",flatCoordinates:t,layout:(0,A.p0)(t.length)}}function M(e){const t=e["coordinates"],n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:(0,A.p0)(t[0]?.length||2)}}function F(e){const t=e["coordinates"],n=t[0]?.[0]?.length||2,r=[],o=(0,T.KG)(r,0,t,n);return{type:"MultiLineString",flatCoordinates:r,ends:o,layout:(0,A.p0)(n)}}function O(e){const t=e["coordinates"];return{type:"MultiPoint",flatCoordinates:t.flat(),layout:(0,A.p0)(t[0]?.length||2)}}function P(e){const t=e["coordinates"],n=[],r=t[0]?.[0]?.[0].length||2,o=(0,T.d6)(n,0,t,r);return{type:"MultiPolygon",flatCoordinates:n,ends:o,layout:(0,A.p0)(r)}}function j(e){const t=e["coordinates"],n=[],r=t[0]?.[0]?.length,o=(0,T.KG)(n,0,t,r);return{type:"Polygon",flatCoordinates:n,ends:o,layout:(0,A.p0)(r)}}function I(e,t){e=y(e,!0,t);const n=e.getType();let r;switch(n){case"Point":r=z(e,t);break;case"LineString":r=G(e,t);break;case"Polygon":r=B(e,t);break;case"MultiPoint":r=q(e,t);break;case"MultiLineString":r=k(e,t);break;case"MultiPolygon":r=K(e,t);break;case"GeometryCollection":r=R(e,t);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}function R(e,t){t=Object.assign({},t),delete t.featureProjection;const n=e.getGeometriesArray().map(function(e){return I(e,t)});return{type:"GeometryCollection",geometries:n}}function G(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function k(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function q(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function K(e,t){let n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function z(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function B(e,t){let n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}const U=N},43965:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(10972),o=n(25176),s=n(89718);const i="units",a=[1,2,5],l=25.4/.28;class c extends r["default"]{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+o.XI,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(i,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(i)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(i,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,n=e.projection,r=this.getUnits(),o="degrees"==r?"degrees":"m";let i=(0,s.getPointResolution)(n,e.resolution,t,o);const c=this.minWidth_*(this.dpi_||l)/l,u=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||l)/l:void 0;let h=c*i,d="";if("degrees"==r){const e=s.METERS_PER_UNIT.degrees;h*=e,h<e/60?(d="″",i*=3600):h<e?(d="′",i*=60):d="°"}else if("imperial"==r)h<.9144?(d="in",i/=.0254):h<1609.344?(d="ft",i/=.3048):(d="mi",i/=1609.344);else if("nautical"==r)i/=1852,d="NM";else if("metric"==r)h<1e-6?(d="nm",i*=1e9):h<.001?(d="μm",i*=1e6):h<1?(d="mm",i*=1e3):h<1e3?d="m":(d="km",i/=1e3);else{if("us"!=r)throw new Error("Invalid units");h<.9144?(d="in",i*=39.37):h<1609.344?(d="ft",i/=.30480061):(d="mi",i/=1609.3472)}let p,f,g,m,y,b,_=3*Math.floor(Math.log(c*i)/Math.log(10));while(1){g=Math.floor(_/3);const e=Math.pow(10,g);if(p=a[(_%3+3)%3]*e,f=Math.round(p/i),isNaN(f))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==u&&f>=u){p=m,f=y,g=b;break}if(f>=c)break;m=p,y=f,b=g,++_}const w=this.scaleBar_?this.createScaleBar(f,p,d):p.toFixed(g<0?-g:0)+" "+d;this.renderedHTML_!=w&&(this.innerElement_.innerHTML=w,this.renderedHTML_=w),this.renderedWidth_!=f&&(this.innerElement_.style.width=f+"px",this.renderedWidth_=f),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,n){const r=this.getScaleForResolution(),o=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),s=this.scaleBarSteps_,i=e/s,a=[this.createMarker("absolute")];for(let c=0;c<s;++c){const r=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${r}" style="width: ${i}px;"></div>`+this.createMarker("relative")+(c%2===0||2===s?this.createStepText(c,e,!1,t,n):"")+"</div>")}a.push(this.createStepText(s,e,!0,t,n));const l=this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+o+"</div>":"";return l+a.join("")}createMarker(e){const t="absolute"===e?3:-10;return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${t}px;"></div>`}createStepText(e,t,n,r,o){const s=0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100,i=s+(0===e?"":" "+o),a=0===e?-3:t/this.scaleBarSteps_*-1,l=0===e?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${a}px;text-align: ${0===e?"left":"center"};min-width: ${l}px;left: ${n?t+"px":"unset"};">`+i+"</div>"}getScaleForResolution(){const e=(0,s.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||l,n=1e3/25.4;return e*n*t}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}}const u=c},49825:(e,t,n)=>{n.d(t,{DG:()=>v,Fq:()=>h,SR:()=>E,T8:()=>a,Xj:()=>_,Ye:()=>z,ZD:()=>T,_D:()=>w,cT:()=>c,go:()=>m,ho:()=>b,j:()=>i,mE:()=>u,qA:()=>d,qg:()=>$,wl:()=>l});var r=n(66514),o=n(89352);let s=0;const i=0,a=1<<s++,l=1<<s++,c=1<<s++,u=1<<s++,h=1<<s++,d=1<<s++,p=Math.pow(2,s)-1,f={[a]:"boolean",[l]:"number",[c]:"string",[u]:"color",[h]:"number[]",[d]:"size"},g=Object.keys(f).map(Number).sort(r.V_);function m(e){const t=[];for(const n of g)y(e,n)&&t.push(f[n]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function y(e,t){return(e&t)===t}function b(e,t){return!!(e&t)}function _(e,t){return e===t}class w{constructor(e,t){this.type=e,this.value=t}}class v{constructor(e,t,...n){this.type=e,this.operator=t,this.args=n}}function E(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function C(e){switch(e){case"string":return c;case"color":return u;case"number":return l;case"boolean":return a;case"number[]":return h;default:throw new Error(`Unrecognized type hint: ${e}`)}}function $(e,t,n){switch(typeof e){case"boolean":return new w(a,e);case"number":return new w(n===d?d:l,e);case"string":{let t=c;return(0,o.$C)(e)&&(t|=u),_(t&n,i)||(t&=n),new w(t,e)}default:}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(0===e.length)throw new Error("Empty expression");if("string"===typeof e[0])return K(e,t,n);for(const o of e)if("number"!==typeof o)throw new Error("Expected an array of numbers");let r=h;return 2===e.length?r|=d:3!==e.length&&4!==e.length||(r|=u),n&&(r&=n),new w(r,e)}const T={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},A={[T.Get]:q(([e,t])=>void 0!==t?C(t.value):p,Z(1,2),D),[T.Var]:q(([e])=>e.type,Z(1,1),N),[T.Id]:q(l|c,L,S),[T.Concat]:q(c,Z(2,1/0),M(p)),[T.GeometryType]:q(c,L,x),[T.Resolution]:q(l,L),[T.Zoom]:q(l,L),[T.Time]:q(l,L),[T.Any]:q(a,Z(2,1/0),M(a)),[T.All]:q(a,Z(2,1/0),M(a)),[T.Not]:q(a,Z(1,1),M(a)),[T.Equal]:q(a,Z(2,2),M(p),F),[T.NotEqual]:q(a,Z(2,2),M(p),F),[T.GreaterThan]:q(a,Z(2,2),M(p),F),[T.GreaterThanOrEqualTo]:q(a,Z(2,2),M(p),F),[T.LessThan]:q(a,Z(2,2),M(p),F),[T.LessThanOrEqualTo]:q(a,Z(2,2),M(p),F),[T.Multiply]:q(e=>{let t=l|u;for(let n=0;n<e.length;n++)t&=e[n].type;return t},Z(2,1/0),M(l|u),F),[T.Coalesce]:q(e=>{let t=p;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},Z(2,1/0),M(p),F),[T.Divide]:q(l,Z(2,2),M(l)),[T.Add]:q(l,Z(2,1/0),M(l)),[T.Subtract]:q(l,Z(2,2),M(l)),[T.Clamp]:q(l,Z(3,3),M(l)),[T.Mod]:q(l,Z(2,2),M(l)),[T.Pow]:q(l,Z(2,2),M(l)),[T.Abs]:q(l,Z(1,1),M(l)),[T.Floor]:q(l,Z(1,1),M(l)),[T.Ceil]:q(l,Z(1,1),M(l)),[T.Round]:q(l,Z(1,1),M(l)),[T.Sin]:q(l,Z(1,1),M(l)),[T.Cos]:q(l,Z(1,1),M(l)),[T.Atan]:q(l,Z(1,2),M(l)),[T.Sqrt]:q(l,Z(1,1),M(l)),[T.Match]:q(e=>{let t=p;for(let n=2;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},Z(4,1/0),P,j),[T.Between]:q(a,Z(3,3),M(l)),[T.Interpolate]:q(e=>{let t=u|l;for(let n=3;n<e.length;n+=2)t&=e[n].type;return t},Z(6,1/0),P,I),[T.Case]:q(e=>{let t=p;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},Z(3,1/0),O,R),[T.In]:q(a,Z(2,2),G),[T.Number]:q(l,Z(1,1/0),M(p)),[T.String]:q(c,Z(1,1/0),M(p)),[T.Array]:q(e=>2===e.length?h|d:3===e.length||4===e.length?h|u:h,Z(1,1/0),M(l)),[T.Color]:q(u,Z(1,4),M(l)),[T.Band]:q(l,Z(1,3),M(l)),[T.Palette]:q(u,Z(2,2),k),[T.ToString]:q(c,Z(1,1),M(a|l|c|u))};function D(e,t){const n=$(e[1],t);if(!(n instanceof w))throw new Error("Expected a literal argument for get operation");if("string"!==typeof n.value)throw new Error("Expected a string argument for get operation");if(t.properties.add(n.value),3===e.length){const r=$(e[2],t);return[n,r]}return[n]}function N(e,t,n,r){const o=e[1];if("string"!==typeof o)throw new Error("Expected a string argument for var operation");if(t.variables.add(o),!("variables"in t.style)||void 0===t.style.variables[o])return[new w(p,o)];const s=t.style.variables[o],i=$(s,t);if(i.value=o,r&&!b(r,i.type))throw new Error(`The variable ${o} has type ${m(i.type)} but the following type was expected: ${m(r)}`);return[i]}function S(e,t){t.featureId=!0}function x(e,t){t.geometryType=!0}function L(e,t){const n=e[0];if(1!==e.length)throw new Error(`Expected no arguments for ${n} operation`);return[]}function Z(e,t){return function(n,r){const o=n[0],s=n.length-1;if(e===t){if(s!==e){const t=1===e?"":"s";throw new Error(`Expected ${e} argument${t} for ${o}, got ${s}`)}}else if(s<e||s>t){const n=t===1/0?`${e} or more`:`${e} to ${t}`;throw new Error(`Expected ${n} arguments for ${o}, got ${s}`)}}}function M(e){return function(t,n){const r=t[0],o=t.length-1,s=new Array(o);for(let i=0;i<o;++i){const o=$(t[i+1],n);if(!b(e,o.type)){const t=m(e),n=m(o.type);throw new Error(`Unexpected type for argument ${i} of ${r} operation, got ${t} but expected ${n}`)}o.type&=e,s[i]=o}return s}}function F(e,t,n){const r=e[0],o=e.length-1;let s=p;for(let i=0;i<n.length;++i)s&=n[i].type;if(s===i)throw new Error(`No common type could be found for arguments of ${r} operation`);const a=new Array(o);for(let i=0;i<o;++i)a[i]=$(e[i+1],t,s);return a}function O(e,t){const n=e[0],r=e.length-1;if(r%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function P(e,t){const n=e[0],r=e.length-1;if(r%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function j(e,t,n,r){const o=e.length-1,s=$(e[1],t);let u=s.type;const h=$(e[e.length-1],t);let d=void 0!==r?r&h.type:h.type;const p=new Array(o-2);for(let i=0;i<o-2;i+=2){const n=$(e[i+2],t),r=$(e[i+3],t);u&=n.type,d&=r.type,p[i]=n,p[i+1]=r}const f=c|l|a;if(!b(f,u))throw new Error(`Expected an input of type ${m(f)} for the interpolate operation, got ${m(u)} instead`);if(u&=f,_(d,i))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let i=0;i<o-2;i+=2){const n=$(e[i+2],t,u),r=$(e[i+3],t,d);p[i]=n,p[i+1]=r}return[$(e[1],t,u),...p,$(e[e.length-1],t,d)]}function I(e,t,n,r){const o=e[1];let s;switch(o[0]){case"linear":s=1;break;case"exponential":if(s=o[1],"number"!==typeof s)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(o)}`);s=$(s,t);let i=$(e[2],t);if(!b(l,i.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${m(i.type)} instead`);i=$(e[2],t,l);const a=new Array(e.length-3);for(let c=0;c<a.length;c+=2){let n=$(e[c+3],t);if(!b(l,n.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${m(n.type)} at position ${c+2} instead`);let r=$(e[c+4],t);if(!b(l|u,r.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${m(r.type)} at position ${c+3} instead`);n=$(e[c+3],t,l),r=$(e[c+4],t,l|u),a[c]=n,a[c+1]=r}return[s,i,...a]}function R(e,t,n,r){const o=$(e[e.length-1],t,r);let s=void 0!==r?r&o.type:o.type;const l=new Array(e.length-1);for(let i=0;i<l.length-1;i+=2){const n=$(e[i+1],t),o=$(e[i+2],t,r);if(!b(a,n.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${m(n.type)} at position ${i} instead`);s&=o.type,l[i]=n,l[i+1]=o}if(_(s,i))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let i=0;i<l.length-1;i+=2)l[i+1]=$(e[i+2],t,s);return l[l.length-1]=$(e[e.length-1],t,s),l}function G(e,t){let n=e[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"===typeof n[0]){if("literal"!==n[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let r=c|l;const o=new Array(n.length);for(let i=0;i<o.length;i++){const e=$(n[i],t);r&=e.type,o[i]=e}if(_(r,i))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));const s=$(e[1],t,r);return[s,...o]}function k(e,t){const n=$(e[1],t,l);if(n.type!==l)throw new Error(`The first argument of palette must be an number, got ${m(n.type)} instead`);const r=e[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const o=new Array(r.length);for(let s=0;s<o.length;s++){const e=$(r[s],t,u);if(!(e instanceof w))throw new Error(`The palette color at index ${s} must be a literal value`);if(!b(e.type,u))throw new Error(`The palette color at index ${s} should be of type color, got ${m(e.type)} instead`);o[s]=e}return[n,...o]}function q(e,...t){return function(n,r,o){const s=n[0];let a=[];for(let e=0;e<t.length;e++)a=t[e](n,r,a,o)||a;let l="function"===typeof e?e(a):e;if(void 0!==o){if(!b(l,o))throw new Error(`The following expression was expected to return ${m(o)}, but returns ${m(l)} instead: ${JSON.stringify(n)}`);l&=o}if(l===i)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new v(l,s,...a)}}function K(e,t,n){const r=e[0],o=A[r];if(!o)throw new Error(`Unknown operator: ${r}`);return o(e,t,n)}function z(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return z(e.getGeometries()[0]);default:return""}}},57364:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(10972),o=n(6837),s=n(43116),i=n(25176),a=n(9438),l=n(68711);const c=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],u={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"};class h extends r["default"]{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.on,this.once,this.un,this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const t=void 0!==e.label?e.label:"⤢";this.labelNode_="string"===typeof t?document.createTextNode(t):t;const n=void 0!==e.labelActive?e.labelActive:"×";this.labelActiveNode_="string"===typeof n?document.createTextNode(n):n;const r=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=r,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(o.A.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${i.XI} ${i.$N}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const t=e.getOwnerDocument();if(d(t))if(p(t))m(t);else{let n;n=this.source_?"string"===typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?g(n):f(n)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const t=this.isInFullscreen_;this.isInFullscreen_=p(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?((0,l.fo)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(u.ENTERFULLSCREEN)):((0,l.fo)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(u.LEAVEFULLSCREEN)),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const t=this.getMap();t&&t.removeChangeListener(s.A.TARGET,this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener(s.A.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let n=0,r=e.length;n<r;++n)(0,a.JH)(e[n]);e.length=0;const t=this.getMap();if(t){const n=t.getOwnerDocument();d(n)?this.element.classList.remove(i.Vv):this.element.classList.add(i.Vv);for(let t=0,r=c.length;t<r;++t)e.push((0,a.KT)(n,c[t],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function d(e){const t=e.body;return!!(t["webkitRequestFullscreen"]||t.requestFullscreen&&e.fullscreenEnabled)}function p(e){return!(!e["webkitIsFullScreen"]&&!e.fullscreenElement)}function f(e){e.requestFullscreen?e.requestFullscreen():e["webkitRequestFullscreen"]&&e["webkitRequestFullscreen"]()}function g(e){e["webkitRequestFullscreen"]?e["webkitRequestFullscreen"]():f(e)}function m(e){e.exitFullscreen?e.exitFullscreen():e["webkitExitFullscreen"]&&e["webkitExitFullscreen"]()}const y=h},58704:(e,t,n)=>{n.d(t,{A4:()=>v,GB:()=>b,Gk:()=>d,IO:()=>c,Js:()=>l,Kg:()=>_,Q7:()=>a,TS:()=>y,Zm:()=>g,at:()=>f,eL:()=>h,fs:()=>E,jM:()=>p,t5:()=>m,tE:()=>w});var r=n(73445),o=n(74238),s=n(7771),i=n(90588);function a(e){const t=arguments;return function(e){let n=!0;for(let r=0,o=t.length;r<o;++r)if(n=n&&t[r](e),!n)break;return n}}const l=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},c=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},u=function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},h=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||u(e)},d=o.rT,p=function(e){return e.type==r.A.CLICK},f=function(e){const t=e.originalEvent;return 0==t.button&&!(s.j&&s.ew&&t.ctrlKey)},g=o.W8,m=function(e){return e.type==r.A.SINGLECLICK},y=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},b=function(e){const t=e.originalEvent;return s.ew?t.metaKey:t.ctrlKey},_=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},w=function(e){const t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},v=function(e){const t=e.originalEvent;return(0,i.v)(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},E=function(e){const t=e.originalEvent;return(0,i.v)(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button}},66514:(e,t,n)=>{function r(e,t,n){let r,s;n=n||o;let i=0,a=e.length,l=!1;while(i<a)r=i+(a-i>>1),s=+n(e[r],t),s<0?i=r+1:(a=r,l=!s);return l?i:~i}function o(e,t){return e>t?1:e<t?-1:0}function s(e,t){return e<t?1:e>t?-1:0}function i(e,t,n){if(e[0]<=t)return 0;const r=e.length;if(t<=e[r-1])return r-1;if("function"===typeof n){for(let o=1;o<r;++o){const r=e[o];if(r===t)return o;if(r<t)return n(t,e[o-1],r)>0?o-1:o}return r-1}if(n>0){for(let n=1;n<r;++n)if(e[n]<t)return n-1;return r-1}if(n<0){for(let n=1;n<r;++n)if(e[n]<=t)return n;return r-1}for(let o=1;o<r;++o){if(e[o]==t)return o;if(e[o]<t)return e[o-1]-t<t-e[o]?o-1:o}return r-1}function a(e,t,n){while(t<n){const r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function l(e,t){const n=Array.isArray(t)?t:[t],r=n.length;for(let o=0;o<r;o++)e[e.length]=n[o]}function c(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function u(e,t,n){const r=t||o;return e.every(function(t,o){if(0===o)return!0;const s=r(e[o-1],t);return!(s>0||n&&0===s)})}n.d(t,{El:()=>r,FT:()=>i,V_:()=>o,WC:()=>u,X$:()=>l,aI:()=>c,gI:()=>a,rG:()=>s})},68711:(e,t,n)=>{n.d(t,{WM:()=>h,Y:()=>o,Yg:()=>a,bf:()=>c,fo:()=>l,gS:()=>u,lr:()=>i});var r=n(7771);function o(e,t,n,o){let s;return s=n&&n.length?n.shift():r.Wl?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(s.width=e),t&&(s.height=t),s.getContext("2d",o)}let s;function i(){return s||(s=o(1,1)),s}function a(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function l(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function c(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function u(e){while(e.lastChild)e.removeChild(e.lastChild)}function h(e,t){const n=e.childNodes;for(let r=0;1;++r){const o=n[r],s=t[r];if(!o&&!s)break;o!==s&&(o?s?e.insertBefore(s,o):(e.removeChild(o),--r):e.appendChild(s))}}},76613:(e,t,n)=>{n.d(t,{d:()=>s,l:()=>o});var r=n(61597);function o(e,t,n){return function(o,s,i,a,l){if(!o)return;if(!s&&!t)return o;const c=t?0:i[0]*s,u=t?0:i[1]*s,h=l?l[0]:0,d=l?l[1]:0;let p=e[0]+c/2+h,f=e[2]-c/2+h,g=e[1]+u/2+d,m=e[3]-u/2+d;p>f&&(p=(f+p)/2,f=p),g>m&&(g=(m+g)/2,m=g);let y=(0,r.qE)(o[0],p,f),b=(0,r.qE)(o[1],g,m);if(a&&n&&s){const e=30*s;y+=-e*Math.log(1+Math.max(0,p-o[0])/e)+e*Math.log(1+Math.max(0,o[0]-f)/e),b+=-e*Math.log(1+Math.max(0,g-o[1])/e)+e*Math.log(1+Math.max(0,o[1]-m)/e)}return[y,b]}}function s(e){return e}},77295:(e,t,n)=>{n.d(t,{F:()=>l});var r=n(6141),o=n(68711),s=n(97907),i=n(82241),a=n(89352);function l(e){return e?Array.isArray(e)?(0,a.dI)(e):"object"===typeof e&&"src"in e?c(e):e:null}function c(e){if(!e.offset||!e.size)return i.ue.getPattern(e.src,"anonymous",e.color);const t=e.src+":"+e.offset,n=i.ue.getPattern(t,void 0,e.color);if(n)return n;const a=i.ue.get(e.src,"anonymous",null);if(a.getImageState()!==r.A.LOADED)return null;const l=(0,o.Y)(e.size[0],e.size[1]);return l.drawImage(a.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),(0,s.J)(l.canvas,t,void 0,r.A.LOADED,e.color,!0),i.ue.getPattern(t,void 0,e.color)}},79332:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(90025),o=n(1685),s=n(74238),i=n(43530);class a extends r.A{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t="string"===typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const i=t?new o.Ay(e):e;i.target||(i.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let c;n in a||(a[n]=0,l[n]=0),++a[n];for(let o=0,s=r.length;o<s;++o)if(c="handleEvent"in r[o]?r[o].handleEvent(i):r[o].call(this,i),!1===c||i.propagationStopped){c=!1;break}if(0===--a[n]){let e=l[n];delete l[n];while(e--)this.removeEventListener(n,s.tV);delete a[n]}return c}disposeInternal(){this.listeners_&&(0,i.I)(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=s.tV,++this.pendingRemovals_[e]):(n.splice(r,1),0===n.length&&delete this.listeners_[e]))}}const l=a},80169:(e,t,n)=>{n.d(t,{N:()=>y});var r=n(10972),o=n(6837),s=n(25176),i=n(66514),a=n(68711),l=n(74238);class c extends r["default"]{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:t+"-expand",i=void 0!==e.collapseLabel?e.collapseLabel:"›",a=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"===typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i,this.collapseLabel_.className=a):this.collapseLabel_=i;const l=void 0!==e.label?e.label:"i";"string"===typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=r):this.label_=l;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(o.A.CLICK,this.handleClick_.bind(this),!1);const u=t+" "+s.XI+" "+s.$N+(this.collapsed_&&this.collapsible_?" "+s.nT:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=u,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(t=>t.getAttributions(e)))),n=!this.getMap().getAllLayers().some(e=>e.getSource()&&!1===e.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(n),t}async updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=await Promise.all(this.collectSourceAttributions_(e).map(e=>(0,l.hq)(()=>e))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,i.aI)(t,this.renderedAttributions_)){(0,a.gS)(this.ulElement_);for(let e=0,n=t.length;e<n;++e){const n=document.createElement("li");n.innerHTML=t[e],this.ulElement_.appendChild(n)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(s.nT),this.collapsed_?(0,a.fo)(this.collapseLabel_,this.label_):(0,a.fo)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}const u=c;var h=n(50071),d=n(93474);class p extends r["default"]{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"⇧",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"===typeof n?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const i=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=t+"-reset",a.setAttribute("type","button"),a.title=i,a.appendChild(this.label_),a.addEventListener(o.A.CLICK,this.handleClick_.bind(this),!1);const l=t+" "+s.XI+" "+s.$N,c=this.element;c.className=l,c.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(s.Si)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap(),t=e.getView();if(!t)return;const n=t.getRotation();void 0!==n&&(this.duration_>0&&n%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:d.vT}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const e="rotate("+n+"rad)";if(this.autoHide_){const e=this.element.classList.contains(s.Si);e||0!==n?e&&0!==n&&this.element.classList.remove(s.Si):this.element.classList.add(s.Si)}this.label_.style.transform=e}this.rotation_=n}}const f=p;class g extends r["default"]{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",i=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",a=void 0!==e.zoomInLabel?e.zoomInLabel:"+",l=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",c=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",u=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=c,h.appendChild("string"===typeof a?document.createTextNode(a):a),h.addEventListener(o.A.CLICK,this.handleClick_.bind(this,n),!1);const d=document.createElement("button");d.className=i,d.setAttribute("type","button"),d.title=u,d.appendChild("string"===typeof l?document.createTextNode(l):l),d.addEventListener(o.A.CLICK,this.handleClick_.bind(this,-n),!1);const p=t+" "+s.XI+" "+s.$N,f=this.element;f.className=p,f.appendChild(h),f.appendChild(d),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap(),n=t.getView();if(!n)return;const r=n.getZoom();if(void 0!==r){const t=n.getConstrainedZoom(r+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:t,duration:this.duration_,easing:d.vT})):n.setZoom(t)}}}const m=g;function y(e){e=e||{};const t=new h.A,n=void 0===e.zoom||e.zoom;n&&t.push(new m(e.zoomOptions));const r=void 0===e.rotate||e.rotate;r&&t.push(new f(e.rotateOptions));const o=void 0===e.attribution||e.attribution;return o&&t.push(new u(e.attributionOptions)),t}},89352:(e,t,n)=>{n.d(t,{$C:()=>_,S8:()=>y,_j:()=>m,cD:()=>f,dI:()=>b,eE:()=>p,fu:()=>d,oJ:()=>l,sH:()=>g});var r=n(91529),o=n(77978),s=n(27771),i=n(92351),a=n(61597);function l(e){return"string"===typeof e?e:b(e)}const c=1024,u={};let h=0;function d(e){if(4===e.length)return e;const t=e.slice();return t[3]=1,t}function p(e){const t=i.A.lchuv(s.A.xyz(e));return t[3]=e[3],t}function f(e){const t=i.A.rgb(r.A.xyz(e));return t[3]=e[3],t}function g(e){if(u.hasOwnProperty(e))return u[e];if(h>=c){let e=0;for(const t in u)0===(3&e++)&&(delete u[t],--h)}const t=(0,o.A)(e);if(4!==t.length)throw new Error('Failed to parse "'+e+'" as color');for(const n of t)if(isNaN(n))throw new Error('Failed to parse "'+e+'" as color');return y(t),u[e]=t,++h,t}function m(e){return Array.isArray(e)?e:g(e)}function y(e){return e[0]=(0,a.qE)(e[0]+.5|0,0,255),e[1]=(0,a.qE)(e[1]+.5|0,0,255),e[2]=(0,a.qE)(e[2]+.5|0,0,255),e[3]=(0,a.qE)(e[3],0,1),e}function b(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let n=e[1];n!=(0|n)&&(n=n+.5|0);let r=e[2];r!=(0|r)&&(r=r+.5|0);const o=void 0===e[3]?1:Math.round(1e3*e[3])/1e3;return"rgba("+t+","+n+","+r+","+o+")"}function _(e){try{return g(e),!0}catch(t){return!1}}},90588:(e,t,n)=>{function r(e,t){if(!e)throw new Error(t)}n.d(t,{v:()=>r})},93474:(e,t,n)=>{function r(e){return Math.pow(e,3)}function o(e){return 1-r(1-e)}function s(e){return 3*e*e-2*e*e*e}function i(e){return e}n.d(t,{T9:()=>s,a6:()=>r,sn:()=>i,vT:()=>o})}}]);
//# sourceMappingURL=1323.601a8802.js.map