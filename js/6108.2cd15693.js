(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[6108],{73466:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",style:{"z-index":e.zIndex},on:{mousedown:e.backgroundClose}},[t("div",{ref:"container",staticClass:"modal-container",style:e.style},[t("header",{staticClass:"modal-header",on:{mousedown:e.startMove}},[e._t("header",(function(){return[t("h2",[e._v(e._s(e.title))]),t("span",{staticClass:"close",on:{click:e.close}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]}))],2),t("main",{staticClass:"modal-content"},[e._t("default")],2),t("footer",{staticClass:"modal-footer"},[e._t("footer")],2)])])},i=[],n=o(37787),r=o(58661);const a={name:"Modal",mixins:[n.Z],props:{title:{type:String,default:null},minWidth:{type:String,default:null},width:{type:String,default:"auto"},show:{type:Boolean,default:!0}},data(){return{zIndex:1e3,position:null,dragPosition:null}},computed:{...r.Z.mapState("editor",["hightestModalZIndex"]),style(){let e={width:this.width};return this.minWidth&&(e["min-width"]=this.minWidth),Array.isArray(this.position)&&(e.position="absolute",e.left=this.position[0]+"px",e.top=this.position[1]+"px"),e}},watch:{show:{immediate:!0,handler(e){e?this.open():this.close()}}},methods:{...r.Z.mapMutations("editor",["openModal","closeModal"]),open(){this.openModal(),this.zIndex=this.hightestModalZIndex,window.addEventListener("keydown",this.escCloseListener),this.$emit("shown")},close(){window.removeEventListener("keydown",this.escCloseListener),this.closeModal(),this.$emit("closed")},startMove(e){"H2"!==e.target.tagName&&(this.dragPosition=[e.clientX,e.clientY],document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.stopMove),e.preventDefault(),e.stopPropagation())},stopMove(){document.removeEventListener("mousemove",this.move),document.removeEventListener("mouseup",this.stopMove)},move(e){e.preventDefault(),this.position=[this.$refs.container.offsetLeft-(this.dragPosition[0]-e.clientX),this.$refs.container.offsetTop-(this.dragPosition[1]-e.clientY)],this.dragPosition=[e.clientX,e.clientY]},escCloseListener(e){if("Escape"==e.key)return this.close(),e.preventDefault(),e.stopPropagation(),!1},backgroundClose(e){e.target===this.$el&&this.close()}}},l=a;var c=o(1001),d=(0,c.Z)(l,s,i,!1,null,null,null);const h=d.exports},66108:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>m});var s=function(){var e=this,t=e._self._c;return t("Modal",{attrs:{minWidth:"50%",title:"Export / Share"},on:{closed:function(t){return e.$emit("closed")}}},[t("ul",{staticClass:"share-list"},e._l(e.components,(function(o){return t("li",{key:o},[t(o,e._b({tag:"component"},"component",e.componentProps,!1))],1)})),0)])},i=[],n=o(73466),r=o(6139),a=o(97849);const l=(a.Z.supportedBatchJobSharingServices||[]).concat(a.Z.supportedWebServiceSharingServices||[]);let c={Modal:n.Z};for(let v of l)c[v]=()=>o(65113)(`./${v}.vue`);const d={name:"ShareModal",components:c,props:{url:{type:String,required:!0},title:{type:String,default:""},extra:{type:Object,default:()=>({})},context:{type:Object,required:!0}},computed:{components(){return this.context instanceof r.Job&&Array.isArray(a.Z.supportedBatchJobSharingServices)?a.Z.supportedBatchJobSharingServices:this.context instanceof r.Service&&Array.isArray(a.Z.supportedWebServiceSharingServices)?a.Z.supportedWebServiceSharingServices:[]},componentProps(){return{...this.$props,type:this.context.constructor.name.toLowerCase()}}}},h=d;var u=o(1001),p=(0,u.Z)(h,s,i,!1,null,"7a59d792",null);const m=p.exports},65113:(e,t,o)=>{var s={"./CopyUrl.vue":[73750,3750],"./ShareInterface.vue":[61454,1454],"./TwitterShare.vue":[82637,2637]};function i(e){if(!o.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return o.e(t[1]).then((()=>o(i)))}i.keys=()=>Object.keys(s),i.id=65113,e.exports=i}}]);
//# sourceMappingURL=6108.2cd15693.js.map