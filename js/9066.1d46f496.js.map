{"version":3,"file":"js/9066.1d46f496.js","mappings":"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","sources":["webpack://@openeo/web-editor/./src/components/datatypes/api.js","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseFormat.vue","webpack://@openeo/web-editor/src/components/wizards/tabs/ChooseFormat.vue","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseFormat.vue?9604","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseFormat.vue?365b","webpack://@openeo/web-editor/./src/components/datatypes/SelectBox.vue","webpack://@openeo/web-editor/src/components/datatypes/SelectBox.vue","webpack://@openeo/web-editor/./src/components/datatypes/SelectBox.vue?ff2a","webpack://@openeo/web-editor/./src/components/datatypes/SelectBox.vue?8dc4"],"sourcesContent":["import Utils from '../../utils';\nexport const API_TYPES = Utils.resolveJsonRefs(require('@openeo/js-processgraphs/assets/subtype-schemas.json')).definitions;\nexport const NATIVE_TYPES = [\n\t'string',\n\t'integer',\n\t'number',\n\t'boolean',\n\t'array',\n\t'object'\n];","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"step choose-format\"},[_c('p',[_vm._v(\"Please select the file format you want to download data in.\")]),_c('SelectBox',{attrs:{\"type\":\"output-format\",\"value\":_vm.value,\"optionFilter\":_vm.filterFormats},on:{\"input\":_vm.setFormat}}),(_vm.scale !== null)?_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.scaleBox),expression:\"scaleBox\"}],attrs:{\"type\":\"checkbox\",\"id\":\"scale\"},domProps:{\"checked\":Array.isArray(_vm.scaleBox)?_vm._i(_vm.scaleBox,null)>-1:(_vm.scaleBox)},on:{\"change\":function($event){var $$a=_vm.scaleBox,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.scaleBox=$$a.concat([$$v]))}else{$$i>-1&&(_vm.scaleBox=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.scaleBox=$$c}}}}),_vm._v(\"Â  \"),_c('label',{attrs:{\"for\":\"scale\"}},[_vm._v(\"Scale the values from [-1, 1] to [0, 255] (often required for PNG, GIF or JPEG).\")])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"step choose-format\">\n\t\t<p>Please select the file format you want to download data in.</p>\n\t\t<SelectBox type=\"output-format\" :value=\"value\" @input=\"setFormat\" :optionFilter=\"filterFormats\" />\n\t\t<p v-if=\"scale !== null\">\n\t\t\t<input type=\"checkbox\" id=\"scale\" v-model=\"scaleBox\" />&nbsp;\n\t\t\t<label for=\"scale\">Scale the values from [-1, 1] to [0, 255] (often required for PNG, GIF or JPEG).</label>\n\t\t</p> \n\t</div>\n</template>\n\n<script>\nimport SelectBox from '../../datatypes/SelectBox.vue';\n\nexport default {\n\tname: 'ChooseFormat',\n\tcomponents: {\n\t\tSelectBox\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\tscale: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: null\n\t\t},\n\t\tgisDataType: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tcomputed: {\n\t\tscaleBox: {\n\t\t\tget() {\n\t\t\t\treturn this.scale;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.$emit('update:scale', value);\n\t\t\t}\n\t\t},\n\t\tfilterFormats() {\n\t\t\tif (!this.gisDataType) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn format => !Array.isArray(format.gis_data_types) || format.gis_data_types.length === 0 || format.gis_data_types.includes(this.gisDataType);\n\t\t}\n\t},\n\tmethods: {\n\t\tsetFormat(format) {\n\t\t\tthis.scaleBox = ['bmp', 'gif', 'jpeg', 'jpg', 'png', 'webp'].includes(format.toLowerCase());\n\t\t\tthis.$emit('input', format);\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChooseFormat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChooseFormat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChooseFormat.vue?vue&type=template&id=399a88f0\"\nimport script from \"./ChooseFormat.vue?vue&type=script&lang=js\"\nexport * from \"./ChooseFormat.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"select-container\"},[(_vm.loaded)?[_c('MultiSelect',{key:_vm.type,ref:\"htmlElement\",attrs:{\"label\":\"label\",\"track-by\":\"id\",\"multiple\":_vm.multiple,\"options\":_vm.selectOptions,\"allowEmpty\":false,\"preselectFirst\":_vm.preselect,\"disabled\":!_vm.editable,\"deselectLabel\":_vm.deselectLabel,\"taggable\":_vm.taggable,\"tagPlaceholder\":_vm.tagPlaceholder,\"openDirection\":_vm.openDirection},on:{\"tag\":_vm.addValue},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),(_vm.showDetails)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"Details\"},on:{\"click\":function($event){return _vm.$emit('onDetails')}}},[_c('i',{staticClass:\"fas fa-info\"})]):_vm._e()]:_c('div',{staticClass:\"loading\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin\"}),_vm._v(\" Loading options...\")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"select-container\">\n\t\t<template v-if=\"loaded\">\n\t\t\t<MultiSelect v-model=\"selected\" :key=\"type\" ref=\"htmlElement\" label=\"label\" track-by=\"id\" :multiple=\"multiple\" :options=\"selectOptions\" :allowEmpty=\"false\" :preselectFirst=\"preselect\" :disabled=\"!editable\" :deselectLabel=\"deselectLabel\" :taggable=\"taggable\" :tagPlaceholder=\"tagPlaceholder\" :openDirection=\"openDirection\" @tag=\"addValue\"></MultiSelect>\n\t\t\t<button v-if=\"showDetails\" type=\"button\" title=\"Details\" @click=\"$emit('onDetails')\"><i class=\"fas fa-info\"></i></button>\n\t\t</template>\n\t\t<div class=\"loading\" v-else><i class=\"fas fa-spinner fa-spin\"></i> Loading options...</div>\n\t</div>\n</template>\n\n<script>\nimport MultiSelect from 'vue-multiselect'\nimport Utils from '../../utils';\n\nexport default {\n\tname: 'SelectBox',\n\tcomponents: {\n\t\tMultiSelect\n\t},\n\tprops: {\n\t\tvalue: {},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\toptions: {\n\t\t\ttype: [Array, Object]\n\t\t},\n\t\tschema: {\n\t\t\ttype: Object\n\t\t},\n\t\tcontext: {},\n\t\toptionFilter: {\n\t\t\ttype: Function,\n\t\t\tdefault: null\n\t\t},\n\t\topenDirection: {\n\t\t\ttype: String,\n\t\t\tdefault: 'auto'\n\t\t}\n\t},\n\tcomputed: {\n\t\tselectOptions() {\n\t\t\tlet state = [];\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'band-name':\n\t\t\t\t\tlet collection = this.$store.state.collections.find(c => c.id == this.context);\n\t\t\t\t\tif (Utils.isObject(collection)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tstate = collection.summaries['bands'].map(band => band.name);\n\t\t\t\t\t\t} catch (error) {}\n\t\t\t\t\t\tif (state.length === 0 && Utils.isObject(collection['cube:dimensions'])) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tlet bandDimension = Object.values(collection['cube:dimensions']).find(d => d.type === 'bands');\n\t\t\t\t\t\t\t\tif (bandDimension && Array.isArray(bandDimension.values)) {\n\t\t\t\t\t\t\t\t\tstate = bandDimension.values;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (error) {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'collection-id':\n\t\t\t\t\tstate = this.$store.state.collections;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'job-id':\n\t\t\t\t\tstate = this.$store.state.jobs.jobs;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-path':\n\t\t\t\tcase 'file-paths':\n\t\t\t\t\tstate = this.$store.state.files.files;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'epsg-code':\n\t\t\t\t\tstate = this.$store.state.editor.epsgCodes;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'input-format':\n\t\t\t\t\tstate = this.$store.state.fileFormats.getInputTypes();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'openeo-datatype':\n\t\t\t\t\tlet t = require('./api');\n\t\t\t\t\tlet types = {};\n\t\t\t\t\tfor(let native of t.NATIVE_TYPES) {\n\t\t\t\t\t\ttypes[native] = {type: native}\n\t\t\t\t\t}\n\t\t\t\t\tstate = Object.assign(types, t.API_TYPES);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'output-format':\n\t\t\t\t\tstate = this.$store.state.fileFormats.getOutputTypes();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'service-type':\n\t\t\t\t\tstate = this.$store.state.serviceTypes;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'billing-plan':\n\t\t\t\t\tstate = this.$store.state.connection.capabilities().listPlans();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\t\tstate = Object.keys(this.$store.state.udfRuntimes);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\tstate = this.context in this.$store.state.udfRuntimes ? Object.keys(this.$store.state.udfRuntimes[this.context].versions) : [];\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (typeof this.optionFilter === 'function' && state && typeof state === 'object') {\n\t\t\t\tif (Utils.isObject(state)) {\n\t\t\t\t\tstate = Object.fromEntries(Object.entries(state).filter(([key, value]) => this.optionFilter(value, key)));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstate = state.filter((value, key) => this.optionFilter(value, key));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet data = [];\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'collection-id':\n\t\t\t\t\treturn state.map(c => this.e(c.id)).sort(this.sortByLabel);\n\t\t\t\tcase 'job-id':\n\t\t\t\t\treturn state.map(j => ({\n\t\t\t\t\t\tid: j.id,\n\t\t\t\t\t\tlabel: Utils.getResourceTitle(j)\n\t\t\t\t\t})).sort(this.sortByLabel);\n\t\t\t\tcase 'openeo-datatype':\n\t\t\t\t\tfor(let type in state) {\n\t\t\t\t\t\tlet schema = state[type];\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\tid: type,\n\t\t\t\t\t\t\tlabel: schema.title || Utils.prettifyString(type),\n\t\t\t\t\t\t\tvalue: schema\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn data;\n\t\t\t\tcase 'file-path':\n\t\t\t\tcase 'file-paths':\n\t\t\t\t\treturn state.map(f => this.e(f.path)).sort((a, b) => Utils.sortByPath(a.id, b.id));\n\t\t\t\tcase 'epsg-code':\n\t\t\t\t\tfor(let key in state) {\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\tid: Number.parseInt(key, 10),\n\t\t\t\t\t\t\tlabel: key + \": \" + state[key]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn data;\n\t\t\t\tcase 'input-format':\n\t\t\t\tcase 'output-format':\n\t\t\t\tcase 'service-type':\n\t\t\t\t\tfor(let key in state) {\n\t\t\t\t\t\tlet id = key.toUpperCase(); // uppercase mostly for services\n\t\t\t\t\t\t// show title if available...\n\t\t\t\t\t\tlet label = state[key].title;\n\t\t\t\t\t\t// otherwise upper-cased key...\n\t\t\t\t\t\tif (!label) {\n\t\t\t\t\t\t\tlabel = id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// and if title is different from key, also show key\n\t\t\t\t\t\telse if (id !== label.toUpperCase()) {\n\t\t\t\t\t\t\tlabel = `${label} - ${id}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata.push({id, label});\n\t\t\t\t\t}\n\t\t\t\t\treturn data.sort(this.sortByLabel);\n\t\t\t\tcase 'billing-plan':\n\t\t\t\t\treturn state.map(p => ({\n\t\t\t\t\t\tid: p.name,\n\t\t\t\t\t\tlabel: p.name + (p.paid ? ' (paid)' : ' (free)')\n\t\t\t\t\t}));\n\t\t\t\tcase 'year':\n\t\t\t\t\tlet thisYear = new Date().getFullYear();\n\t\t\t\t\tlet years = Array.from({length: 100}, (x,i) => this.e(String(thisYear - i)));\n\t\t\t\t\t// Add custom years to select box\n\t\t\t\t\tif (typeof this.value === 'string' && this.value.length > 0 && years.findIndex(y => y.id === this.value) === -1) {\n\t\t\t\t\t\tvar customYear = this.e(this.value);\n\t\t\t\t\t\tif (this.value > thisYear) {\n\t\t\t\t\t\t\tyears.unshift(customYear);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tyears.push(this.e(this.value));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn years;\n\t\t\t\tcase 'band-name':\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\treturn state.map(val => this.e(val));\n\t\t\t\tdefault:\n\t\t\t\t\tif (Utils.isObject(this.schema) && this.schema.isEnum()) {\n\t\t\t\t\t\treturn this.schema.getEnumChoices().map(val => this.e(val));\n\t\t\t\t\t}\n\t\t\t\t\telse if (Array.isArray(this.options)) {\n\t\t\t\t\t\treturn this.options.map(val => {\n\t\t\t\t\t\t\tif (Utils.isObject(val)) {\n\t\t\t\t\t\t\t\treturn val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn this.e(val)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowDetails() {\n\t\t\treturn (this.type === 'collection-id');\n\t\t},\n\t\tdeselectLabel() {\n\t\t\treturn this.multiple ? 'Press enter to remove' : '';\n\t\t},\n\t\ttagPlaceholder() {\n\t\t\treturn this.type === 'year' ? 'Press enter to select' : 'Press enter to create a tag';\n\t\t},\n\t\tmultiple() {\n\t\t\treturn (this.type === 'file-paths');\n\t\t},\n\t\ttaggable() {\n\t\t\tlet freeInputIfEmpty = ['band-name', 'collection-id', 'job-id', 'input-format', 'output-format'];\n\t\t\treturn (this.type === 'year' || (this.selectOptions.length === 0 && freeInputIfEmpty.includes(this.type)));\n\t\t},\n\t\tpreselect() {\n\t\t\tif (this.multiple) {\n\t\t\t\treturn (!Array.isArray(this.selected) || this.selected.length === 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (this.selected === null);\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: null,\n\t\t\tloaded: false\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.loadData();\n\t},\n\twatch: {\n\t\ttype() {\n\t\t\tthis.loadData();\n\t\t},\n\t\tselected(newValue) {\n\t\t\tlet value;\n\t\t\tif (newValue === null) {\n\t\t\t\tvalue = null;\n\t\t\t}\n\t\t\telse if (this.multiple) {\n\t\t\t\tif (!Array.isArray(newValue)) {\n\t\t\t\t\tnewValue = [newValue];\n\t\t\t\t}\n\t\t\t\tvalue = newValue.map(v => v.id);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tswitch(this.type) {\n\t\t\t\t\tcase 'epsg-code':\n\t\t\t\t\t\tvar num = Number.parseInt(newValue.id);\n\t\t\t\t\t\tvalue = Number.isNaN(num) ? null : num;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'openeo-datatype':\n\t\t\t\t\t\tvalue = newValue.value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'year':\n\t\t\t\t\t\tvalue = String(newValue.id);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = newValue.id;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tcontext() {\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\tthis.selected = null;\n\t\t\t\t\tthis.preselectFirst();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'band-name':\n\t\t\t\t\tthis.selected = null;\n\t\t\t\t\tthis.loadData();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeCollection']),\n\t\t...Utils.mapActions('editor', ['loadEpsgCodes']),\n\t\t// Convert a value to a option object for MultiSelect\n\t\te(val) {\n\t\t\treturn {\n\t\t\t\tid: val,\n\t\t\t\tlabel: val\n\t\t\t};\n\t\t},\n\t\tasync loadData() {\n\t\t\tthis.loaded = false;\n\t\t\tif (this.type === 'epsg-code') {\n\t\t\t\tawait this.loadEpsgCodes();\n\t\t\t}\n\t\t\telse if (this.type === 'band-name') {\n\t\t\t\tawait this.describeCollection(this.context);\n\t\t\t}\n\t\t\tthis.initSelection();\n\t\t\tthis.loaded = true;\n\t\t},\n\t\tasync preselectFirst() {\n\t\t\tawait this.$nextTick();\n\t\t\t// Preselect first element if nothing else is set.\n\t\t\tlet elem = this.$refs.htmlElement;\n\t\t\t// Code inspired from mounted() method in vue-multiselect's multiselectMixin.js\n\t\t\tif (elem.preselectFirst && Array.isArray(elem.filteredOptions) && elem.filteredOptions.length) {\n\t\t\t\telem.select(elem.filteredOptions[0]);\n\t\t\t}\n\t\t},\n\t\tinitSelection() {\n\t\t\tlet value = typeof this.value === 'undefined' ? this.schema.default() : this.value;\n\t\t\tif (this.multiple && Array.isArray(value)) {\n\t\t\t\tthis.selected = this.selectOptions.filter(o => value.includes(o.id));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tswitch(this.type) {\n\t\t\t\t\tcase 'input-format':\n\t\t\t\t\tcase 'output-format':\n\t\t\t\t\tcase 'service-type':\n\t\t\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\t\t\tvalue = value.toUpperCase();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlet selectedOption = this.selectOptions.find(o => o.id === value);\n\t\t\t\tif (selectedOption !== undefined) {\n\t\t\t\t\tthis.selected = selectedOption;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsortByLabel(a,b) {\n\t\t\treturn Utils.compareStringCaseInsensitive(a.label, b.label);\n\t\t},\n\t\taddValue(value) {\n\t\t\tthis.selected = this.e(value);\n\t\t}\n\t}\n}\n</script>\n\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n\n<style lang=\"scss\">\n@use '../../../theme' as *;\n\n.select-container {\n\tdisplay: flex;\n\tflex-grow: 1;\n\n\t> div {\n\t\tflex-grow: 1;\n\t}\n\n\t> button {\n\t\tmargin-left: 10px;\n\t}\n\n\t.multiselect__option--selected.multiselect__option--highlight {\n\t\tbackground: $mainColor;\n\t}\n\t.multiselect__option--highlight, .multiselect__option--highlight:after {\n\t\tbackground: $mainColor;\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelectBox.vue?vue&type=template&id=6ac3d1a2\"\nimport script from \"./SelectBox.vue?vue&type=script&lang=js\"\nexport * from \"./SelectBox.vue?vue&type=script&lang=js\"\nimport style0 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=0&prod&lang=css&external\"\nimport style1 from \"./SelectBox.vue?vue&type=style&index=1&id=6ac3d1a2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["API_TYPES","Utils","resolveJsonRefs","require","definitions","NATIVE_TYPES","render","_vm","this","_c","_self","staticClass","_v","attrs","value","filterFormats","on","setFormat","scale","directives","name","rawName","scaleBox","expression","domProps","Array","isArray","_i","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_e","staticRenderFns","components","SelectBox","props","type","String","default","Boolean","gisDataType","computed","get","set","$emit","format","gis_data_types","length","includes","methods","toLowerCase","component","loaded","key","ref","multiple","selectOptions","preselect","editable","deselectLabel","taggable","tagPlaceholder","openDirection","addValue","model","selected","callback","showDetails","MultiSelect","options","Object","schema","context","optionFilter","Function","state","collection","$store","collections","find","c","id","isObject","summaries","map","band","error","bandDimension","values","d","jobs","files","editor","epsgCodes","fileFormats","getInputTypes","t","types","native","assign","getOutputTypes","serviceTypes","connection","capabilities","listPlans","keys","udfRuntimes","versions","fromEntries","entries","filter","data","e","sort","sortByLabel","j","label","getResourceTitle","push","title","prettifyString","f","path","a","b","sortByPath","Number","parseInt","toUpperCase","p","paid","thisYear","Date","getFullYear","years","from","x","i","findIndex","y","customYear","unshift","val","isEnum","getEnumChoices","freeInputIfEmpty","created","loadData","watch","newValue","v","num","isNaN","preselectFirst","mapActions","loadEpsgCodes","describeCollection","initSelection","$nextTick","elem","$refs","htmlElement","filteredOptions","select","o","selectedOption","undefined","compareStringCaseInsensitive"],"sourceRoot":""}