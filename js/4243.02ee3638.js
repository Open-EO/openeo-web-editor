"use strict";(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[4243],{54399:(t,e,n)=>{n.d(e,{Z:()=>U});var o=n(24328),i=n(72971),r=n(78714),a=n(42071),s=n(85487),h=n(1295),l=n(68734),u=n(48630),p=n(41708),c=n(92217),d=n(43536),y=n(32126),g=n(63222),v=n(35990),f=n(44238),_=n(98771),m=n(22729),R=n(37195),E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=function(t){function e(e,n){var o=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=n,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return E(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var o=e[0];o.addEventListener(s.Z.CHANGE,this.boundHandleTileChange_)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===R.Z.LOADED||n===R.Z.ERROR||n===R.Z.EMPTY){e.removeEventListener(s.Z.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){var n,o,i,r=0;while(this.tilesLoading_<t&&r<e&&this.getCount()>0)o=this.dequeue()[0],i=o.getKey(),n=o.getState(),n!==R.Z.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,o.load())},e}(m.Z);const w=C;function T(t,e,n,o,i){if(!t||!(n in t.wantedTiles))return m.r;if(!t.wantedTiles[n][e.getKey()])return m.r;var r=t.viewState.center,a=o[0]-r[0],s=o[1]-r[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}var x=n(86850),Z=n(37755),I=n(40177),A=n(36885),L=n(6101),S=n(99515),P=n(28641),O=n(63432),b=n(74187),M=n(4307),N=n(65818),F=n(68326),V=n(25108),j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function G(t){t instanceof h.Z?t.setMapInternal(null):t instanceof l.Z&&t.getLayers().forEach(G)}function D(t,e){if(t instanceof h.Z)t.setMapInternal(e);else if(t instanceof l.Z)for(var n=t.getLayers().getArray(),o=0,i=n.length;o<i;++o)D(n[o],e)}var z=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var o=H(e);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:I.MP,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=(0,L.Ue)(),n.pixelToCoordinateTransform_=(0,L.Ue)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=o.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=o.controls||new r.Z,n.interactions=o.interactions||new r.Z,n.overlays_=o.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new w(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(g.Z.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(g.Z.VIEW,n.handleViewChanged_),n.addChangeListener(g.Z.SIZE,n.handleSizeChanged_),n.addChangeListener(g.Z.TARGET,n.handleTargetChanged_),n.setProperties(o.values);var i=n;return!e.view||e.view instanceof x.ZP||e.view.then((function(t){i.setView(new x.ZP(t))})),n.controls.addEventListener(a.Z.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(a.Z.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(a.Z.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(a.Z.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(a.Z.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(a.Z.REMOVE,function(t){var e=t.element,n=e.getId();void 0!==n&&delete this.overlayIdIndex_[n.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return j(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},e.prototype.handleLayerAdd_=function(t){D(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var o=this.getCoordinateFromPixelInternal(t);n=void 0!==n?n:{};var i=void 0!==n.hitTolerance?n.hitTolerance:0,r=void 0!==n.layerFilter?n.layerFilter:A.uX,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,i,a,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];function e(n){n.forEach((function(n){n instanceof l.Z?e(n.getLayers()):t.push(n)}))}return e(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var o=n||{},i=void 0!==o.hitTolerance?o.hitTolerance:0,r=o.layerFilter||A.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t);e=void 0!==e?e:{};var o=void 0!==e.layerFilter?e.layerFilter:A.uX,i=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,r,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(g.Z.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return(0,O.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?(0,L.nn)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(g.Z.LAYERGROUP)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof r.Z)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e];if(o.visible){var i=o.layer.getRenderer();if(i&&!i.ready)return!0;var r=o.layer.getSource();if(r&&r.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=(0,O.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?(0,L.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(g.Z.SIZE)},e.prototype.getView=function(){return this.get(g.Z.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,o){return T(this.frameState_,t,e,n,o)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,o=new u.Z(n,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===f.Z.POINTERDOWN||n===s.Z.WHEEL||n===s.Z.KEYDOWN){var o=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():o,r=e.target;if(this.overlayContainerStopEvent_.contains(r)||!(i===o?o.documentElement:i).contains(r))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),h=a.length-1;h>=0;h--){var l=a[h];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()){var u=l.handleEvent(t);if(!u||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,o=n;if(t){var i=t.viewHints;if(i[Z.Z.ANIMATING]||i[Z.Z.INTERACTING]){var r=Date.now()-t.time>8;n=r?0:8,o=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,o))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(_.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(_.Z.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new d.Z(y.Z.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new d.Z(y.Z.LOADSTART,this,t))));for(var a=this.postRenderFunctions_,s=0,h=a.length;s<h;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,N.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(s.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(s.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,F.ZF)(this.viewport_)}var n=this.getTargetElement();if(n){for(var o in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new p.Z(this,this.moveTolerance_),c.Z)this.mapBrowserEventHandler_.addEventListener(c.Z[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(s.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(s.Z.WHEEL,this.boundHandleBrowserEvent_,!!I.bM&&{passive:!1});var i=this.getOwnerDocument().defaultView,r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[(0,N.oL)(r,s.Z.KEYDOWN,this.handleBrowserEvent,this),(0,N.oL)(r,s.Z.KEYPRESS,this.handleBrowserEvent,this),(0,N.oL)(i,s.Z.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,N.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,N.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,N.oL)(t,v.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,N.oL)(t,s.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(N.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new l.V("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,N.oL)(t,v.Z.PROPERTYCHANGE,this.render,this),(0,N.oL)(t,s.Z.CHANGE,this.render,this),(0,N.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,N.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},e.prototype.handleLayerRemove_=function(t){G(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),o=this.getView(),i=this.frameState_,r=null;if(void 0!==n&&(0,M.py)(n)&&o&&o.isDef()){var a=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=o.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,P.p8)(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:(0,b.sq)(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var h=isNaN(s.nextRotation)?s.rotation:s.nextRotation;r.nextExtent=(0,P.p8)(s.nextCenter,s.nextResolution,h,n)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i){var l=!this.previousExtent_||!(0,P.xb)(this.previousExtent_)&&!(0,P.fS)(r.extent,this.previousExtent_);l&&(this.dispatchEvent(new d.Z(y.Z.MOVESTART,this,i)),this.previousExtent_=(0,P.YN)(this.previousExtent_))}var u=this.previousExtent_&&!r.viewHints[Z.Z.ANIMATING]&&!r.viewHints[Z.Z.INTERACTING]&&!(0,P.fS)(r.extent,this.previousExtent_);u&&(this.dispatchEvent(new d.Z(y.Z.MOVEEND,this,r)),(0,P.d9)(r.extent,this.previousExtent_))}this.dispatchEvent(new d.Z(y.Z.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(y.Z.LOADSTART)||this.hasListener(y.Z.LOADEND)||this.hasListener(_.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new l.V("removelayer",e)),this.set(g.Z.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(g.Z.SIZE,t)},e.prototype.setTarget=function(t){this.set(g.Z.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof x.ZP)this.set(g.Z.VIEW,t);else{this.set(g.Z.VIEW,new x.ZP);var e=this;t.then((function(t){e.setView(new x.ZP(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),o=t.offsetWidth-parseFloat(n["borderLeftWidth"])-parseFloat(n["paddingLeft"])-parseFloat(n["paddingRight"])-parseFloat(n["borderRightWidth"]),i=t.offsetHeight-parseFloat(n["borderTopWidth"])-parseFloat(n["paddingTop"])-parseFloat(n["paddingBottom"])-parseFloat(n["borderBottomWidth"]);isNaN(o)||isNaN(i)||(e=[o,i],!(0,M.py)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&V.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(i.Z);function H(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,o,i,a={},s=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new l.Z({layers:t.layers});return a[g.Z.LAYERGROUP]=s,a[g.Z.TARGET]=t.target,a[g.Z.VIEW]=t.view instanceof x.ZP?t.view:new x.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?n=new r.Z(t.controls.slice()):((0,S.h)("function"===typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new r.Z(t.interactions.slice()):((0,S.h)("function"===typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?i=new r.Z(t.overlays.slice()):((0,S.h)("function"===typeof t.overlays.getArray,49),i=t.overlays):i=new r.Z,{controls:n,interactions:o,keyboardEventTarget:e,overlays:i,values:a}}const Y=z;var K=n(69374),k=n(35743),X=n(85028),W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),B=function(t){function e(e){return e=(0,K.f0)({},e),e.controls||(e.controls=(0,k.ce)()),e.interactions||(e.interactions=(0,X.ce)({onFocusOnly:!0})),t.call(this,e)||this}return W(e,t),e.prototype.createRenderer=function(){return new o.Z(this)},e}(Y);const U=B},72971:(t,e,n)=>{n.d(e,{Z:()=>p});var o=n(291),i=n(35990),r=n(62706),a=n(69374),s=n(74187),h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.key=n,i.oldValue=o,i}return h(e,t),e}(o.ZP),u=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,(0,s.sq)(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return h(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&(0,a.f0)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new l(n,t,e)),n=i.Z.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:".concat(t),e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:".concat(t),e)},e.prototype.set=function(t,e,n){var o=this.values_||(this.values_={});if(n)o[t]=e;else{var i=o[t];o[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&(0,a.f0)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],(0,a.xb)(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(r.Z);const p=u},35990:(t,e,n)=>{n.d(e,{Z:()=>o});const o={PROPERTYCHANGE:"propertychange"}},62706:(t,e,n)=>{n.d(e,{B:()=>h,Z:()=>l});var o=n(208),i=n(85487),r=n(65818),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return a(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(i.Z.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,o=new Array(n),i=0;i<n;++i)o[i]=(0,r.oL)(this,t[i],e);return o}return(0,r.oL)(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var o=t.length;n=new Array(o);for(var i=0;i<o;++i)n[i]=(0,r.Vx)(this,t[i],e)}else n=(0,r.Vx)(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)h(n);else if(Array.isArray(t))for(var o=0,i=t.length;o<i;++o)this.removeEventListener(t[o],e);else this.removeEventListener(t,e)},e}(o.Z);function h(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,r.bN)(t[e]);else(0,r.bN)(t)}s.prototype.on,s.prototype.once,s.prototype.un;const l=s},94806:(t,e,n)=>{n.d(e,{Z:()=>u});var o=n(208),i=n(85487),r=n(37195),a=n(74187),s=n(31015),h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e,n,o){var i=t.call(this)||this,r=o||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.key="",i.transition_=void 0===r.transition?250:r.transition,i.transitionStarts_={},i.interpolate=!!r.interpolate,i}return h(e,t),e.prototype.changed=function(){this.dispatchEvent(i.Z.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.Z.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.Z.LOADED){t.interimTile=null;break}t.getState()==r.Z.LOADING?e=t:t.getState()==r.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==r.Z.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,a.O3)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var o=e-n+1e3/60;return o>=this.transition_?1:(0,s.YQ)(o/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(o.Z);const u=l},11702:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(46131),i=n(98634),r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.expireCache=function(t){while(this.canExpireCache()){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,i.Ul)(t),n=e[0];this.forEach(function(t){t.tileCoord[0]!==n&&(this.remove((0,i.km)(t.tileCoord)),t.release())}.bind(this))}},e}(o.Z);const s=a},2519:(t,e,n)=>{n.d(e,{T:()=>i,Z:()=>r});var o=function(){function t(t,e,n,o){this.minX=t,this.maxX=e,this.minY=n,this.maxY=o}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new o(t,e,n,i)}const r=o},37195:(t,e,n)=>{n.d(e,{Z:()=>o});const o={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},86850:(t,e,n)=>{n.d(e,{ZP:()=>S});var o=n(72971),i=n(58375),r=n(37755);const a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var s=n(94768),h=n(63432),l=n(36885),u=n(91900),p=n(99515),c=n(69374),d=n(8427),y=n(33983),g=n(19307),v=n(60828),f=n(31015),_=n(28641),m=n(65537),R=n(2033),E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=0,w=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var o=(0,c.f0)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=(0,h.UQ)(o.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,o.projection&&(0,h.h_)(),o.center&&(o.center=(0,h.Vs)(o.center,n.projection_)),o.extent&&(o.extent=(0,h.dY)(o.extent,n.projection_)),n.applyOptions_(o),n}return E(e,t),e.prototype.applyOptions_=function(t){var e=(0,c.f0)({},t);for(var n in a)delete e[n];this.setProperties(e,!0);var o=Z(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var i=x(t),r=o.constraint,s=I(t);this.constraints_={center:i,resolution:r,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var o=t||[0,0,0,0];e=e||[0,0,0,0];var i=this.getResolution(),r=i/2*(o[3]-e[3]+e[1]-o[1]),a=i/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([n[0]+r,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,c.f0)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var o=arguments[n];o.center&&(o=(0,c.f0)({},o),o.center=(0,h.Vs)(o.center,this.getProjection())),o.anchor&&(o=(0,c.f0)({},o),o.anchor=(0,h.Vs)(o.anchor,this.getProjection())),e[n]=o}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var o=0;o<n&&!this.isDef();++o){var i=arguments[o];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(o!==n){for(var a=Date.now(),s=this.targetCenter_.slice(),h=this.targetResolution_,l=this.targetRotation_,u=[];o<n;++o){var p=arguments[o],c={start:a,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||f.rd,callback:e};if(p.center&&(c.sourceCenter=s,c.targetCenter=p.center.slice(),s=c.targetCenter),void 0!==p.zoom?(c.sourceResolution=h,c.targetResolution=this.getResolutionForZoom(p.zoom),h=c.targetResolution):p.resolution&&(c.sourceResolution=h,c.targetResolution=p.resolution,h=c.targetResolution),void 0!==p.rotation){c.sourceRotation=l;var d=(0,y.$W)(p.rotation-l+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=l+d,l=c.targetRotation}A(c)?c.complete=!0:a+=c.duration,u.push(c)}this.animations_.push(u),this.setHint(r.Z.ANIMATING,1),this.updateAnimations_()}else e&&T(e,!0)},e.prototype.getAnimating=function(){return this.hints_[r.Z.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[r.Z.INTERACTING]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(r.Z.ANIMATING,-this.hints_[r.Z.ANIMATING]);for(var e=0,n=this.animations_.length;e<n;++e){var o=this.animations_[e];if(o[0].callback&&T(o[0].callback,!1),!t)for(var i=0,a=o.length;i<a;++i){var s=o[i];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var o=this.animations_[n],i=!0,a=0,s=o.length;a<s;++a){var h=o[a];if(!h.complete){var l=t-h.start,u=h.duration>0?l/h.duration:1;u>=1?(h.complete=!0,u=1):i=!1;var p=h.easing(u);if(h.sourceCenter){var c=h.sourceCenter[0],d=h.sourceCenter[1],g=h.targetCenter[0],v=h.targetCenter[1];this.nextCenter_=h.targetCenter;var f=c+p*(g-c),_=d+p*(v-d);this.targetCenter_=[f,_]}if(h.sourceResolution&&h.targetResolution){var m=1===p?h.targetResolution:h.sourceResolution+p*(h.targetResolution-h.sourceResolution);if(h.anchor){var R=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(m,0,R,!0);this.targetCenter_=this.calculateCenterZoom(E,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var C=1===p?(0,y.$W)(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+p*(h.targetRotation-h.sourceRotation);if(h.anchor){var w=this.constraints_.rotation(C,!0);this.targetCenter_=this.calculateCenterRotate(w,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=C}if(this.applyTargetState_(!0),e=!0,!h.complete)break}}if(i){this.animations_[n]=null,this.setHint(r.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var x=o[0].callback;x&&T(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,o=this.getCenterInternal();return void 0!==o&&(n=[o[0]-e[0],o[1]-e[1]],(0,u.U1)(n,t-this.getRotation()),(0,u.IH)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,o=this.getCenterInternal(),i=this.getResolution();if(void 0!==o&&void 0!==i){var r=e[0]-t*(e[0]-o[0])/i,a=e[1]-t*(e[1]-o[1])/i;n=[r,a]}return n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],o=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(o*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?(0,h.lO)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(a.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return(0,h.Fj)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();(0,p.h)(n,1);var o=this.getResolution();(0,p.h)(void 0!==o,2);var i=this.getRotation();return(0,p.h)(void 0!==i,3),(0,_.p8)(n,o,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(a.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal((0,h.dY)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),o=(0,_.dz)(t)/n[0],i=(0,_.Cr)(t)/n[1];return Math.max(o,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,i=Math.log(n/o)/Math.log(e);return function(t){var o=n/Math.pow(e,t*i);return o}},e.prototype.getRotation=function(){return this.get(a.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,i=Math.log(n/o)/e;return function(t){var o=Math.log(n/t)/e/i;return o}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),o=this.getCenterInternal(),i=this.padding_;if(i){var r=this.getViewportSizeMinusPadding_();o=L(o,this.getViewportSize_(),[r[0]/2+i[3],r[1]/2+i[0]],e,n)}return{center:o.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,o=this.minZoom_||0;if(this.resolutions_){var i=(0,m.h7)(this.resolutions_,t,1);o=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return o+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,y.uZ)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,y.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if((0,p.h)(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,p.h)(!(0,_.xb)(t),25);var o=(0,h.dY)(t,this.getProjection());n=(0,R.oJ)(o)}else if("Circle"===t.getType()){o=(0,h.dY)(t.getExtent(),this.getProjection());n=(0,R.oJ)(o),n.rotate(this.getRotation(),(0,_.qg)(o))}else{var i=(0,h.Cs)();n=i?t.clone().transform(i,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),o=Math.sin(-e),i=t.getFlatCoordinates(),r=t.getStride(),a=1/0,s=1/0,h=-1/0,l=-1/0,u=0,p=i.length;u<p;u+=r){var c=i[u]*n-i[u+1]*o,d=i[u]*o+i[u+1]*n;a=Math.min(a,c),s=Math.min(s,d),h=Math.max(h,c),l=Math.max(l,d)}return[a,s,h,l]},e.prototype.fitInternal=function(t,e){var n=e||{},o=n.size;o||(o=this.getViewportSizeMinusPadding_());var i,r=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(s,[o[0]-r[1]-r[3],o[1]-r[0]-r[2]]);h=isNaN(h)?i:Math.max(h,i),h=this.getConstrainedResolution(h,a?0:1);var u=this.getRotation(),p=Math.sin(u),c=Math.cos(u),d=(0,_.qg)(s);d[0]+=(r[1]-r[3])/2*h,d[1]+=(r[0]-r[2])/2*h;var y=d[0]*c-d[1]*p,g=d[1]*c+d[0]*p,v=this.getConstrainedCenter([y,g],h),f=n.callback?n.callback:l.Zn;void 0!==n.duration?this.animateInternal({resolution:h,center:v,duration:n.duration,easing:n.easing},f):(this.targetResolution_=h,this.targetCenter_=v,this.applyTargetState_(!1,!0),T(f,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal((0,h.Vs)(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(L(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,o){var i,r=this.padding_;if(r&&t){var a=this.getViewportSizeMinusPadding_(-n),s=L(t,o,[a[0]/2+r[3],a[1]/2+r[0]],e,n);i=[t[0]-s[0],t[1]-s[1]]}return i},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=(0,h.lO)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&(0,h.Vs)(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,o,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=(0,h.Vs)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t?(0,h.Vs)(t,this.getProjection()):t)},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(o),r=this.constraints_.resolution(this.targetResolution_,0,i,n),s=this.constraints_.center(this.targetCenter_,r,i,n,this.calculateCenterShift(this.targetCenter_,r,o,i));this.get(a.ROTATION)!==o&&this.set(a.ROTATION,o),this.get(a.RESOLUTION)!==r&&(this.set(a.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),s&&this.get(a.CENTER)&&(0,u.fS)(this.get(a.CENTER),s)||this.set(a.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var o=void 0!==t?t:200,i=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,i,a),h=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,r,a));if(0===o&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=h,void this.applyTargetState_();var l=n||(0===o?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&(0,u.fS)(this.getCenterInternal(),h)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:h,resolution:s,duration:o,easing:f.Vv,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(r.Z.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){var o=n&&(0,h.Vs)(n,this.getProjection());this.endInteractionInternal(t,e,o)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(r.Z.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,o)},e}(o.Z);function T(t,e){setTimeout((function(){t(e)}),0)}function x(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return(0,d.s)(t.extent,t.constrainOnlyCenter,e)}var n=(0,h.UQ)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var o=n.getExtent().slice();return o[0]=-1/0,o[2]=1/0,(0,d.s)(o,!1,!1)}return d.Y}function Z(t){var e,n,o,r=28,a=2,l=void 0!==t.minZoom?t.minZoom:C,u=void 0!==t.maxZoom?t.maxZoom:r,p=void 0!==t.zoomFactor?t.zoomFactor:a,c=void 0!==t.multiWorld&&t.multiWorld,d=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,y=void 0!==t.showFullExtent&&t.showFullExtent,v=(0,h.UQ)(t.projection,"EPSG:3857"),f=v.getExtent(),m=t.constrainOnlyCenter,R=t.extent;if(c||R||!v.isGlobal()||(m=!1,R=f),void 0!==t.resolutions){var E=t.resolutions;n=E[l],o=void 0!==E[u]?E[u]:E[E.length-1],e=t.constrainResolution?(0,g.gn)(E,d,!m&&R,y):(0,g.Is)(n,o,d,!m&&R,y)}else{var w=f?Math.max((0,_.dz)(f),(0,_.Cr)(f)):360*h.Wm[i.ZP.DEGREES]/v.getMetersPerUnit(),T=w/s.S/Math.pow(a,C),x=T/Math.pow(a,r-C);n=t.maxResolution,void 0!==n?l=0:n=T/Math.pow(p,l),o=t.minResolution,void 0===o&&(o=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(p,u):T/Math.pow(p,u):x),u=l+Math.floor(Math.log(n/o)/Math.log(p)),o=n/Math.pow(p,u-l),e=t.constrainResolution?(0,g.cA)(p,n,o,d,!m&&R,y):(0,g.Is)(n,o,d,!m&&R,y)}return{constraint:e,maxResolution:n,minResolution:o,minZoom:l,zoomFactor:p}}function I(t){var e=void 0===t.enableRotation||t.enableRotation;if(e){var n=t.constrainRotation;return void 0===n||!0===n?(0,v.Gw)():!1===n?v.YP:"number"===typeof n?(0,v.gE)(n):v.YP}return v.h$}function A(t){return!(t.sourceCenter&&t.targetCenter&&!(0,u.fS)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function L(t,e,n,o,i){var r=Math.cos(-i),a=Math.sin(-i),s=t[0]*r-t[1]*a,h=t[1]*r+t[0]*a;s+=(e[0]/2-n[0])*o,h+=(n[1]-e[1]/2)*o,a=-a;var l=s*r-h*a,u=h*r+s*a;return[l,u]}const S=w},37755:(t,e,n)=>{n.d(e,{Z:()=>o});const o={ANIMATING:0,INTERACTING:1}}}]);
//# sourceMappingURL=4243.02ee3638.js.map