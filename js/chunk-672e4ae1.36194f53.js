(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-672e4ae1"],{"3ae0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"imageViewer",staticClass:"imageViewer",class:{fullscreen:e.fullScreen}},[i("div",{staticClass:"toolbar"},[i("span",{staticClass:"value",attrs:{title:e.valueTitle}},[e._v(e._s(e.valueText))]),i("FullscreenButton",{staticClass:"fullscreen-button",attrs:{element:function(){return e.$refs.imageViewer}},on:{changed:e.fullscreenToggled}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loaded,expression:"!loaded"}],staticClass:"noDataMessage"},[i("i",{staticClass:"fas fa-spinner fa-spin"}),e._v(" Loading image...")]),i("canvas",{ref:"canvas",class:{fullsize:e.fullSize},attrs:{title:e.title},on:{click:e.resize,mousemove:e.getPixelValue,mouseout:e.resetPixelValue,load:e.imageLoaded}})])},s=[],l=i("5472"),n=i("025e"),u={name:"ImageViewer",components:{FullscreenButton:l["a"]},props:{data:{type:Object,required:!0}},data(){return{fullScreen:!1,fullSize:!1,img:null,loaded:!1,context:null,value:"-"}},created(){this.img=this.data.getData(),this.img.complete?this.imageLoaded():this.img.onload=this.imageLoaded.bind(this)},mounted(){this.$emit("mounted",this)},computed:{title(){return this.fullScreen?"":this.fullSize?"Click to shrink (fit to screen)":"Click to enlarge (full size)"},valueTitle(){return this.fullScreen||this.fullSize?"":"Show in full size to get precise values"},valueText(){return this.fullScreen||this.fullSize?"Pixel Value: "+this.value:"Estimated Pixel Value: "+this.value}},methods:{imageLoaded(){this.loaded||(this.$refs.canvas?(this.loaded=!0,this.$refs.canvas.width=this.img.naturalWidth,this.$refs.canvas.height=this.img.naturalHeight,this.context=this.$refs.canvas.getContext("2d"),this.context.drawImage(this.img,0,0)):this.$nextTick(()=>this.imageLoaded()))},fullscreenToggled(e){this.fullScreen=e},resize(){this.fullScreen||(this.fullSize=!this.fullSize)},resetPixelValue(){this.value="-"},getPixelValue(e){try{let t=this.$refs.canvas.getBoundingClientRect(),i=this.img.naturalWidth/t.width,a=this.img.naturalHeight/t.height,s=e.offsetX*i,l=e.offsetY*a,u=this.context.getImageData(Math.ceil(s),Math.ceil(l),1,1).data;this.value=n["a"].displayRGBA(u)}catch(t){this.value="n/a",console.log(t)}}}},r=u,c=(i("a90a"),i("2877")),o=Object(c["a"])(r,a,s,!1,null,"45178fec",null);t["default"]=o.exports},"4f08":function(e,t,i){},a90a:function(e,t,i){"use strict";i("4f08")}}]);
//# sourceMappingURL=chunk-672e4ae1.36194f53.js.map