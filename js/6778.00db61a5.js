(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[6778,6795],{20530:function(t,e,s){var n=s(25108);
/*!
 * @kirtandesai/ol-geocoder - v5.0.3
 * A geocoder extension compatible with OpenLayers v7.
 * https://github.com/kirtan-desai/ol-geocoder
 * Built: Thu Nov 17 2022 14:58:35 GMT-0500 (Eastern Standard Time)
 */!function(e,n){t.exports=n(s(88775),s(47539),s(81332),s(92371),s(22556),s(60188),s(81090),s(63432))}(0,(function(t,e,s,i,r,a,o,c){"use strict";function l(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=l(t),u=l(e),h=l(s),p=l(i),g=l(r),m=l(a),f=l(o),y=l(c),w="gcd-container",v="gcd-button-control",_="gcd-input-query",b="gcd-input-reset",D={namespace:"ol-geocoder",spin:"gcd-pseudo-rotate",hidden:"gcd-hidden",address:"gcd-address",country:"gcd-country",city:"gcd-city",road:"gcd-road",olControl:"ol-control",glass:{container:"gcd-gl-container",control:"gcd-gl-control",button:"gcd-gl-btn",input:"gcd-gl-input",expanded:"gcd-gl-expanded",reset:"gcd-gl-reset",result:"gcd-gl-result"},inputText:{container:"gcd-txt-container",control:"gcd-txt-control",input:"gcd-txt-input",reset:"gcd-txt-reset",icon:"gcd-txt-glass",result:"gcd-txt-result"}},C={containerId:w,buttonControlId:v,inputQueryId:_,inputResetId:b,cssClasses:D};const S=Object.freeze({__proto__:null,containerId:w,buttonControlId:v,inputQueryId:_,inputResetId:b,cssClasses:D,default:C}),T="addresschosen",k="nominatim",L="reverse",Z="glass-button",P="text-input",I="osm",E="mapquest",x="photon",A="bing",M="opencage",$={provider:I,placeholder:"Search for an address",featureStyle:null,targetType:Z,lang:"en-US",limit:5,keepOpen:!1,preventDefault:!1,autoComplete:!1,autoCompleteMinLength:2,autoCompleteTimeout:200,debug:!1};function N(t,e="Assertion failed"){if(!t){if("undefined"!=typeof Error)throw new Error(e);throw e}}function R(t){const e=function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){let t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=()=>Date.now()-t}return window.performance.now()}().toString(36);return t?t+e:e}function q(t){return/^\d+$/u.test(t)}function j(t,e,s){if(Array.isArray(t))return void t.forEach((t=>j(t,e)));const n=Array.isArray(e)?e:e.split(/\s+/u);let i=n.length;for(;i--;)F(t,n[i])||U(t,n[i],s)}function O(t,e,s){if(Array.isArray(t))return void t.forEach((t=>O(t,e,s)));const n=Array.isArray(e)?e:e.split(/\s+/u);let i=n.length;for(;i--;)F(t,n[i])&&Q(t,n[i],s)}function F(t,e){return t.classList?t.classList.contains(e):V(e).test(t.className)}function B(t,e){return t.replace(/\{\s*([\w-]+)\s*\}/gu,((t,s)=>{const n=void 0===e[s]?"":e[s];return String(n).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}))}function H(t,e){let s;if(Array.isArray(t)){if(s=document.createElement(t[0]),t[1].id&&(s.id=t[1].id),t[1].classname&&(s.className=t[1].classname),t[1].attr){const{attr:e}=t[1];if(Array.isArray(e)){let t=-1;for(;++t<e.length;)s.setAttribute(e[t].name,e[t].value)}else s.setAttribute(e.name,e.value)}}else s=document.createElement(t);s.innerHTML=e;const n=document.createDocumentFragment();for(;s.childNodes[0];)n.append(s.childNodes[0]);return s.append(n),s}function V(t){return new RegExp(`(^|\\s+) ${t} (\\s+|$)`,"u")}function U(t,e,s){t.classList?t.classList.add(e):t.className=`${t.className} ${e}`.trim(),s&&q(s)&&window.setTimeout((()=>Q(t,e)),s)}function Q(t,e,s){t.classList?t.classList.remove(e):t.className=t.className.replace(V(e)," ").trim(),s&&q(s)&&window.setTimeout((()=>U(t,e)),s)}const G=S.cssClasses;class z{constructor(t){this.options=t,this.els=this.createControl()}createControl(){let t,e,s;return this.options.targetType===P?(e=`${G.namespace} ${G.inputText.container}`,t=H(["div",{id:S.containerId,classname:e}],z.input),s={container:t,control:t.querySelector(`.${G.inputText.control}`),input:t.querySelector(`.${G.inputText.input}`),reset:t.querySelector(`.${G.inputText.reset}`),result:t.querySelector(`.${G.inputText.result}`)}):(e=`${G.namespace} ${G.glass.container}`,t=H(["div",{id:S.containerId,classname:e}],z.glass),s={container:t,control:t.querySelector(`.${G.glass.control}`),button:t.querySelector(`.${G.glass.button}`),input:t.querySelector(`.${G.glass.input}`),reset:t.querySelector(`.${G.glass.reset}`),result:t.querySelector(`.${G.glass.result}`)}),s.input.placeholder=this.options.placeholder,s}}z.glass=`\n  <div class="${G.glass.control} ${G.olControl}">\n    <button type="button" id="${S.buttonControlId}" class="${G.glass.button}"></button>\n    <input type="text" id="${S.inputQueryId}" class="${G.glass.input}" autocomplete="off" placeholder="Search ...">\n    <a id="${S.inputResetId}" class="${G.glass.reset} ${G.hidden}"></a>\n  </div>\n  <ul class="${G.glass.result}"></ul>\n`,z.input=`\n  <div class="${G.inputText.control}">\n    <input type="text" id="${S.inputQueryId}" class="${G.inputText.input}" autocomplete="off" placeholder="Search ...">\n    <span class="${G.inputText.icon}"></span>\n    <button type="button" id="${S.inputResetId}" class="${G.inputText.reset} ${G.hidden}"></button>\n  </div>\n  <ul class="${G.inputText.result}"></ul>\n`;class K{constructor(){this.settings={url:"https://photon.komoot.io/api/",params:{q:"",limit:10,lang:"en"},langs:["de","it","fr","en"]}}getParameters(t){return t.lang=t.lang.toLowerCase(),{url:this.settings.url,params:{q:t.query,limit:t.limit||this.settings.params.limit,lang:this.settings.langs.includes(t.lang)?t.lang:this.settings.params.lang}}}handleResponse(t){return 0===t.features.length?[]:t.features.map((t=>({lon:t.geometry.coordinates[0],lat:t.geometry.coordinates[1],address:{name:t.properties.name,postcode:t.properties.postcode,city:t.properties.city,state:t.properties.state,country:t.properties.country},original:{formatted:t.properties.name,details:t.properties}})))}}class X{constructor(){this.settings={url:"https://nominatim.openstreetmap.org/search/",params:{q:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}}getParameters(t){return{url:this.settings.url,params:{q:t.query,format:this.settings.params.format,addressdetails:this.settings.params.addressdetails,limit:t.limit||this.settings.params.limit,countrycodes:t.countrycodes||this.settings.params.countrycodes,"accept-language":t.lang||this.settings.params["accept-language"]}}}handleResponse(t){return 0===t.length?[]:t.map((t=>({lon:t.lon,lat:t.lat,bbox:t.boundingbox,address:{name:t.display_name,road:t.address.road||"",houseNumber:t.address.house_number||"",postcode:t.address.postcode,city:t.address.city||t.address.town,state:t.address.state,country:t.address.country},original:{formatted:t.display_name,details:t.address}})))}}class Y{constructor(){this.settings={url:"https://open.mapquestapi.com/nominatim/v1/search.php",params:{q:"",key:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}}getParameters(t){return{url:this.settings.url,params:{q:t.query,key:t.key,format:"json",addressdetails:1,limit:t.limit||this.settings.params.limit,countrycodes:t.countrycodes||this.settings.params.countrycodes,"accept-language":t.lang||this.settings.params["accept-language"]}}}handleResponse(t){return 0===t.length?[]:t.map((t=>({lon:t.lon,lat:t.lat,address:{name:t.address.neighbourhood||"",road:t.address.road||"",postcode:t.address.postcode,city:t.address.city||t.address.town,state:t.address.state,country:t.address.country},original:{formatted:t.display_name,details:t.address}})))}}class J{constructor(){this.settings={url:"https://dev.virtualearth.net/REST/v1/Locations",callbackName:"jsonp",params:{query:"",key:"",includeNeighborhood:0,maxResults:10}}}getParameters(t){return{url:this.settings.url,callbackName:this.settings.callbackName,params:{query:t.query,key:t.key,includeNeighborhood:t.includeNeighborhood||this.settings.params.includeNeighborhood,maxResults:t.maxResults||this.settings.params.maxResults}}}handleResponse(t){const{resources:e}=t.resourceSets[0];return 0===e.length?[]:e.map((t=>({lon:t.point.coordinates[1],lat:t.point.coordinates[0],address:{name:t.name},original:{formatted:t.address.formattedAddress,details:t.address}})))}}class W{constructor(){this.settings={url:"https://api.opencagedata.com/geocode/v1/json?",params:{q:"",key:"",limit:10,countrycode:"",pretty:1,no_annotations:1}}}getParameters(t){return{url:this.settings.url,params:{q:t.query,key:t.key,limit:t.limit||this.settings.params.limit,countrycode:t.countrycodes||this.settings.params.countrycodes}}}handleResponse(t){return 0===t.results.length?[]:t.results.map((t=>({lon:t.geometry.lng,lat:t.geometry.lat,address:{name:t.components.house_number||"",road:t.components.road||"",postcode:t.components.postcode,city:t.components.city||t.components.town,state:t.components.state,country:t.components.country},original:{formatted:t.formatted,details:t.components}})))}}function tt(t){return new Promise(((e,s)=>{const n=function(t,e){return e&&"object"==typeof e&&(t+=(/\?/u.test(t)?"&":"?")+et(e)),t}(t.url,t.data),i={method:"GET",mode:"cors",credentials:"same-origin"};t.jsonp?function(t,e,s){const{head:n}=document,i=document.createElement("script"),r=`f${Math.round(Math.random()*Date.now())}`;i.setAttribute("src",`${t+(t.indexOf("?")>0?"&":"?")+e}=${r}`),window[r]=t=>{window[r]=void 0,setTimeout((()=>n.removeChild(i)),0),s(t)},n.append(i)}(n,t.callbackName,e):fetch(n,i).then((t=>t.json())).then(e).catch(s)}))}function et(t){return Object.keys(t).reduce(((e,s)=>(e.push("object"==typeof t[s]?et(t[s]):`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`),e)),[]).join("&")}const st=S.cssClasses;class nt{constructor(t,e){this.Base=t,this.layerName=R("geocoder-layer-"),this.layer=new p.default({name:this.layerName,source:new g.default}),this.options=t.options,this.options.provider="string"==typeof this.options.provider?this.options.provider.toLowerCase():this.options.provider,this.provider=this.newProvider(),this.els=e,this.lastQuery="",this.container=this.els.container,this.registeredListeners={mapClick:!1},this.setListeners()}setListeners(){let t,e;const s=t=>{t.stopPropagation(),F(this.els.control,st.glass.expanded)?this.collapse():this.expand()};this.els.input.addEventListener("keypress",(t=>{const e=t.target.value.trim();(t.key?"Enter"===t.key:t.which?13===t.which:t.keyCode&&13===t.keyCode)&&(t.preventDefault(),this.query(e))}),!1),this.els.input.addEventListener("click",(t=>t.stopPropagation()),!1),this.els.input.addEventListener("input",(s=>{const n=s.target.value.trim();0!==n.length?O(this.els.reset,st.hidden):j(this.els.reset,st.hidden),this.options.autoComplete&&n!==e&&(e=n,t&&clearTimeout(t),t=setTimeout((()=>{n.length>=this.options.autoCompleteMinLength&&this.query(n)}),this.options.autoCompleteTimeout))}),!1),this.els.reset.addEventListener("click",(t=>{this.els.input.focus(),this.els.input.value="",this.lastQuery="",j(this.els.reset,st.hidden),this.clearResults()}),!1),this.options.targetType===Z&&this.els.button.addEventListener("click",s,!1)}query(t){this.provider||(this.provider=this.newProvider());const e=this.provider.getParameters({query:t,key:this.options.key,lang:this.options.lang,countrycodes:this.options.countrycodes,limit:this.options.limit});if(this.lastQuery===t&&this.els.result.firstChild)return;this.lastQuery=t,this.clearResults(),j(this.els.reset,st.spin);const s={url:e.url,data:e.params};e.callbackName&&(s.jsonp=!0,s.callbackName=e.callbackName),tt(s).then((t=>{this.options.debug&&n.info(t),O(this.els.reset,st.spin);const e=this.provider.handleResponse(t);e&&(this.createList(e),this.listenMapClick())})).catch((t=>{O(this.els.reset,st.spin);const e=H("li","<h5>Error! No internet connection?</h5>");this.els.result.append(e)}))}createList(t){const e=this.els.result;t.forEach((t=>{let s;s=this.options.provider===I?`<span class="${st.road}">${t.address.name}</span>`:this.addressTemplate(t.address);const n=H("li",`<a href="#">${s}</a>`);n.addEventListener("click",(e=>{e.preventDefault(),this.chosen(t,s,t.address,t.original)}),!1),e.append(n)}))}chosen(t,e,s,n){const i=this.Base.getMap(),r=[Number.parseFloat(t.lon),Number.parseFloat(t.lat)],a=i.getView().getProjection(),o=y.default.transform(r,"EPSG:4326",a);let{bbox:c}=t;c&&(c=y.default.transformExtent([c[2],c[1],c[3],c[0]],"EPSG:4326",a));const l={formatted:e,details:s,original:n};if(!1===this.options.keepOpen&&this.clearResults(!0),!0===this.options.preventDefault)this.Base.dispatchEvent({type:T,address:l,coordinate:o,bbox:c,place:t});else{c?i.getView().fit(c,{duration:500}):function(t,e,s=500,n=2.388657133911758){t.getView().animate({duration:s,resolution:n},{duration:s,center:e})}(i,o);const e=this.createFeature(o,l);this.Base.dispatchEvent({type:T,address:l,feature:e,coordinate:o,bbox:c,place:t})}}createFeature(t){const e=new f.default(new m.default(t));return this.addLayer(),e.setStyle(this.options.featureStyle),e.setId(R("geocoder-ft-")),this.getSource().addFeature(e),e}addressTemplate(t){const e=[];return t.name&&e.push(['<span class="',st.road,'">{name}</span>'].join("")),(t.road||t.building||t.house_number)&&e.push(['<span class="',st.road,'">{building} {road} {house_number}</span>'].join("")),(t.city||t.town||t.village)&&e.push(['<span class="',st.city,'">{postcode} {city} {town} {village}</span>'].join("")),(t.state||t.country)&&e.push(['<span class="',st.country,'">{state} {country}</span>'].join("")),B(e.join("<br>"),t)}newProvider(){switch(this.options.provider){case I:return new X;case E:return new Y;case x:return new K;case A:return new J;case M:return new W;default:return this.options.provider}}expand(){O(this.els.input,st.spin),j(this.els.control,st.glass.expanded),window.setTimeout((()=>this.els.input.focus()),100),this.listenMapClick()}collapse(){this.els.input.value="",this.els.input.blur(),j(this.els.reset,st.hidden),O(this.els.control,st.glass.expanded),this.clearResults()}listenMapClick(){if(this.registeredListeners.mapClick)return;const t=this,e=this.Base.getMap().getTargetElement();this.registeredListeners.mapClick=!0,e.addEventListener("click",{handleEvent(s){t.clearResults(!0),e.removeEventListener(s.type,this,!1),t.registeredListeners.mapClick=!1}},!1)}clearResults(t){t&&this.options.targetType===Z?this.collapse():function(t){for(;t.firstChild;)t.firstChild.remove()}(this.els.result)}getSource(){return this.layer.getSource()}addLayer(){let t=!1;const e=this.Base.getMap();e.getLayers().forEach((e=>{e===this.layer&&(t=!0)})),t||e.addLayer(this.layer)}}class it extends d.default{constructor(t=k,e={}){let s,n;N("string"==typeof t,"@param `type` should be string!"),N(t===k||t===L,`@param 'type' should be '${k}'\n      or '${L}'!`),N("object"==typeof e,"@param `options` should be object!"),$.featureStyle=[new u.default({image:new h.default({scale:.7,src:"//cdn.rawgit.com/jonataswalker/map-utils/master/images/marker.png"})})];const i=new z(e);if(t===k&&(s=i.els.container),super({element:s}),!(this instanceof it))return new it;this.options=function(t,e){const s={};return Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e])})),Object.keys(e).forEach((t=>{Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t])})),s}($,e),this.container=s,t===k&&(n=new nt(this,i.els),this.layer=n.layer)}getLayer(){return this.layer}getSource(){return this.getLayer().getSource()}setProvider(t){this.options.provider=t}setProviderKey(t){this.options.key=t}}return it}))},93379:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});var n=s(88775),i=class extends n["default"]{constructor(t){t=t||{};var e=document.createElement("DIV");if(e.classList.add("ol-unselectable","ol-control","ol-bar"),t.className){var s=t.className.split(" ").filter((function(t){return t.length>0}));e.classList.add.apply(e.classList,s)}if(t.group&&e.classList.add("ol-group"),super({element:e,target:t.target}),this.set("toggleOne",t.toggleOne),this.set("autoDeactivate",t.autoDeactivate),this.controls_=[],t.controls instanceof Array)for(var n=0;n<t.controls.length;n++)this.addControl(t.controls[n])}setVisible(t){this.element.style.display=t?"":"none"}getVisible(){return"none"!=this.element.style.display}setMap(t){super.setMap(t);for(var e=0;e<this.controls_.length;e++){var s=this.controls_[e];s.setMap(t)}}getControls(){return this.controls_}setPosition(t){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),t=t.split("-");for(var e=0;e<t.length;e++)switch(t[e]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+t[e]);break;default:break}}addControl(t){this.controls_.push(t),t.setTarget(this.element),this.getMap()&&this.getMap().addControl(t),t._activateBar&&t.un("change:active",t._activateBar),t._activateBar=function(e){this.onActivateControl_(e,t)}.bind(this),t.on("change:active",t._activateBar),t.getActive&&this.onActivateControl_({target:t,active:t.getActive()},t)}removeControl(t){const e=this.controls_.indexOf(t);e>-1&&(this.controls_.splice(e,1),this.getMap()&&this.getMap().removeControl(t),t._activateBar&&t.un("change:active",t._activateBar),delete t._activateBar)}deactivateControls(t){for(var e=0;e<this.controls_.length;e++)this.controls_[e]!==t&&this.controls_[e].setActive&&this.controls_[e].setActive(!1)}getActiveControls(){for(var t,e=[],s=0;t=this.controls_[s];s++)t.getActive&&t.getActive()&&e.push(t);return e}setActive(t){if(!t&&this.get("autoDeactivate")&&this.deactivateControls(),t)for(var e,s=this.getControls(),n=0;e=s[n];n++)e.get("autoActivate")&&e.setActive(!0)}onActivateControl_(t,e){if(this.get("toggleOne"))if(t.active){var s;for(s=0;s<this.controls_.length;s++)if(this.controls_[s]===e)break;if(s==this.controls_.length)return;this.deactivateControls(this.controls_[s])}else if(!this.getActiveControls().length)for(var n,i=0;n=this.controls_[i];i++)if(n.get("autoActivate")){n.setActive(!0);break}t.type?this.dispatchEvent({type:"control:active",control:e,active:t.active}):this.dispatchEvent({type:"control:add",control:e,active:t.active})}getControlsByName(t){var e=this.getControls();return e.filter((function(e){return e.get("name")===t}))}};const r=i},11887:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});var n=s(88775),i=s(43762),r=class extends n["default"]{constructor(t){t=t||{};var e=document.createElement("div");e.className=(t.className||"")+" ol-button ol-unselectable ol-control",super({element:e,target:t.target});var s=this,n=this.button_=document.createElement(/ol-text-button/.test(t.className)?"div":"button");n.type="button",t.title&&(n.title=t.title),t.name&&(n.name=t.name),t.html instanceof Element?n.appendChild(t.html):n.innerHTML=t.html||"";var i=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),t.handleClick&&t.handleClick.call(s,e)};n.addEventListener("click",i),e.appendChild(n),!t.title&&n.firstElementChild&&(n.title=n.firstElementChild.title),t.title&&this.set("title",t.title),t.title&&this.set("title",t.title),t.name&&this.set("name",t.name)}setVisible(t){t?i.Z.show(this.element):i.Z.hide(this.element)}setTitle(t){this.button_.setAttribute("title",t)}setHtml(t){i.Z.setHTML(this.button_,t)}getButtonElement(){return this.button_}};const a=r},50303:(t,e,s)=>{"use strict";s.d(e,{Z:()=>b});var n=s(98683),i=s(35010),r=s(92083),a=s(2033),o=s(7517),c=s(93379),l=s(11887),d=s(57340),u=s(48538),h=s(74073),p=s(43762),g=s(95775),m=s(46623),f=s(70710),y=s(56255),w=s(98883),v=s(82702),_=class extends c.Z{constructor(t){t=t||{},t.interactions=t.interactions||{},super({className:(t.className?t.className+" ":"")+"ol-editbar",toggleOne:!0,target:t.target}),this._source=t.source,this._interactions={},this._setSelectInteraction(t),!1!==t.edition&&this._setEditInteraction(t),this._setModifyInteraction(t)}setMap(t){this.getMap()&&(this._interactions.Delete&&this.getMap().removeInteraction(this._interactions.Delete),this._interactions.ModifySelect&&this.getMap().removeInteraction(this._interactions.ModifySelect)),super.setMap(t),this.getMap()&&(this._interactions.Delete&&this.getMap().addInteraction(this._interactions.Delete),this._interactions.ModifySelect&&this.getMap().addInteraction(this._interactions.ModifySelect))}getInteraction(t){return this._interactions[t]}_getTitle(t){if(t)return t.get?t.get("title"):"string"===typeof t?t:t.title}_setSelectInteraction(t){var e,s=this,i=new c.Z;if(!1!==t.interactions.Delete){t.interactions.Delete instanceof h.Z?this._interactions.Delete=t.interactions.Delete:this._interactions.Delete=new h.Z;var r=this._interactions.Delete;r.setActive(!1),this.getMap()&&this.getMap().addInteraction(r),i.addControl(new l.Z({className:"ol-delete",title:this._getTitle(t.interactions.Delete)||"Delete",name:"Delete",handleClick:function(t){r.delete(e.getInteraction().getFeatures());var s={type:"select",selected:[],deselected:e.getInteraction().getFeatures().getArray().slice(),mapBrowserEvent:t.mapBrowserEvent};e.getInteraction().getFeatures().clear(),e.getInteraction().dispatchEvent(s)}}))}if(!1!==t.interactions.Info&&i.addControl(new l.Z({className:"ol-info",name:"Info",title:this._getTitle(t.interactions.Info)||"Show informations",handleClick:function(){s.dispatchEvent({type:"info",features:e.getInteraction().getFeatures()})}})),!1!==t.interactions.Select){t.interactions.Select instanceof o.Z?this._interactions.Select=t.interactions.Select:this._interactions.Select=new o.Z({condition:n.V4});var a=this._interactions.Select;e=new d.Z({className:"ol-selection",name:"Select",title:this._getTitle(t.interactions.Select)||"Select",interaction:a,bar:i.getControls().length?i:void 0,autoActivate:!0,active:!0}),this.addControl(e),a.on("change:active",(function(){a.getActive()||a.getFeatures().clear()}))}}_setEditInteraction(t){if(!1!==t.interactions.DrawPoint){t.interactions.DrawPoint instanceof i.ZP?this._interactions.DrawPoint=t.interactions.DrawPoint:this._interactions.DrawPoint=new i.ZP({type:"Point",source:this._source});var e=new d.Z({className:"ol-drawpoint",name:"DrawPoint",title:this._getTitle(t.interactions.DrawPoint)||"Point",interaction:this._interactions.DrawPoint});this.addControl(e)}if(!1!==t.interactions.DrawLine){t.interactions.DrawLine instanceof i.ZP?this._interactions.DrawLine=t.interactions.DrawLine:this._interactions.DrawLine=new i.ZP({type:"LineString",source:this._source,geometryFunction:function(t,e){return e?e.setCoordinates(t):e=new r.Z(t),this.nbpts=e.getCoordinates().length,e}});var s=new d.Z({className:"ol-drawline",title:this._getTitle(t.interactions.DrawLine)||"LineString",name:"DrawLine",interaction:this._interactions.DrawLine,bar:new c.Z({controls:[new u.Z({html:this._getTitle(t.interactions.UndoDraw)||"undo",title:this._getTitle(t.interactions.UndoDraw)||"delete last point",handleClick:function(){s.getInteraction().nbpts>1&&s.getInteraction().removeLastPoint()}}),new u.Z({html:this._getTitle(t.interactions.FinishDraw)||"finish",title:this._getTitle(t.interactions.FinishDraw)||"finish",handleClick:function(){s.getInteraction().nbpts>2&&s.getInteraction().finishDrawing()}})]})});this.addControl(s)}if(!1!==t.interactions.DrawPolygon&&(t.interactions.DrawPolygon instanceof i.ZP?this._interactions.DrawPolygon=t.interactions.DrawPolygon:this._interactions.DrawPolygon=new i.ZP({type:"Polygon",source:this._source,geometryFunction:function(t,e){return this.nbpts=t[0].length,e?e.setCoordinates([t[0].concat([t[0][0]])]):e=new a.ZP(t),e}}),this._setDrawPolygon("ol-drawpolygon",this._interactions.DrawPolygon,this._getTitle(t.interactions.DrawPolygon)||"Polygon","DrawPolygon",t)),!1!==t.interactions.DrawHole&&(t.interactions.DrawHole instanceof v.Z?this._interactions.DrawHole=t.interactions.DrawHole:this._interactions.DrawHole=new v.Z,this._setDrawPolygon("ol-drawhole",this._interactions.DrawHole,this._getTitle(t.interactions.DrawHole)||"Hole","DrawHole",t)),!1!==t.interactions.DrawRegular){var n={pts:"pts",circle:"circle"};t.interactions.DrawRegular instanceof w.Z?(this._interactions.DrawRegular=t.interactions.DrawRegular,n.pts=this._interactions.DrawRegular.get("ptsLabel")||n.pts,n.circle=this._interactions.DrawRegular.get("circleLabel")||n.circle):(this._interactions.DrawRegular=new w.Z({source:this._source,sides:4}),t.interactions.DrawRegular&&(n.pts=t.interactions.DrawRegular.ptsLabel||n.pts,n.circle=t.interactions.DrawRegular.circleLabel||n.circle));var o=this._interactions.DrawRegular,l=document.createElement("DIV"),h=p.Z.create("DIV",{parent:l});p.Z.addListener(h,["click","touchstart"],function(){var t=o.getSides()-1;t<2&&(t=2),o.setSides(t),g.textContent=t>2?t+" "+n.pts:n.circle}.bind(this));var g=p.Z.create("TEXT",{html:"4 "+n.pts,parent:l}),m=p.Z.create("DIV",{parent:l});p.Z.addListener(m,["click","touchstart"],function(){var t=o.getSides()+1;t<3&&(t=3),o.setSides(t),g.textContent=t+" "+n.pts}.bind(this));var f=new d.Z({className:"ol-drawregular",title:this._getTitle(t.interactions.DrawRegular)||"Regular",name:"DrawRegular",interaction:this._interactions.DrawRegular,bar:new c.Z({controls:[new u.Z({html:l})]})});this.addControl(f)}}_setDrawPolygon(t,e,s,n,i){var r=new d.Z({className:t,name:n,title:s,interaction:e,bar:new c.Z({controls:[new u.Z({html:this._getTitle(i.interactions.UndoDraw)||"undo",title:this._getTitle(i.interactions.UndoDraw)||"undo last point",handleClick:function(){r.getInteraction().nbpts>1&&r.getInteraction().removeLastPoint()}}),new u.Z({html:this._getTitle(i.interactions.FinishDraw)||"finish",title:this._getTitle(i.interactions.FinishDraw)||"finish",handleClick:function(){r.getInteraction().nbpts>3&&r.getInteraction().finishDrawing()}})]})});return this.addControl(r),r}_setModifyInteraction(t){if(!1!==t.interactions.ModifySelect&&!1!==t.interactions.Select&&(t.interactions.ModifySelect instanceof y.Z?this._interactions.ModifySelect=t.interactions.ModifySelect:this._interactions.ModifySelect=new y.Z({features:this.getInteraction("Select").getFeatures()}),this.getMap()&&this.getMap().addInteraction(this._interactions.ModifySelect),this._interactions.ModifySelect.setActive(this._interactions.Select.getActive()),this._interactions.Select.on("change:active",function(){this._interactions.ModifySelect.setActive(this._interactions.Select.getActive())}.bind(this))),!1!==t.interactions.Transform){t.interactions.Transform instanceof f.Z?this._interactions.Transform=t.interactions.Transform:this._interactions.Transform=new f.Z({addCondition:n.vY});var e=new d.Z({html:"<i></i>",className:"ol-transform",title:this._getTitle(t.interactions.Transform)||"Transform",name:"Transform",interaction:this._interactions.Transform});this.addControl(e)}if(!1!==t.interactions.Split){t.interactions.Split instanceof m.Z?this._interactions.Split=t.interactions.Split:this._interactions.Split=new m.Z({sources:this._source});var s=new d.Z({className:"ol-split",title:this._getTitle(t.interactions.Split)||"Split",name:"Split",interaction:this._interactions.Split});this.addControl(s)}if(!1!==t.interactions.Offset){t.interactions.Offset instanceof g.Z?this._interactions.Offset=t.interactions.Offset:this._interactions.Offset=new g.Z({source:this._source});var i=new d.Z({html:"<i></i>",className:"ol-offset",title:this._getTitle(t.interactions.Offset)||"Offset",name:"Offset",interaction:this._interactions.Offset});this.addControl(i)}}};const b=_}}]);
//# sourceMappingURL=6778.00db61a5.js.map