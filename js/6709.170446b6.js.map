{"version":3,"file":"js/6709.170446b6.js","mappings":"sLAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAKL,EAAIM,KAAK,CAACJ,EAAG,kBAAkB,CAACK,IAAI,WAAWF,MAAM,CAAC,IAAML,EAAIQ,QAAQ,EAC1L,EACIC,EAAkB,G,2CCWtB,SACAC,KAAA,kBACAC,OAAA,CAAAC,EAAAA,EAAAC,EAAAA,GACAC,MAAA,CACAC,UAAA,CAGAC,KAAA,CAAAC,MAAAC,QACAC,QAAAA,IAAA,MAEAC,KAAA,CACAJ,KAAAK,QACAF,SAAA,IAGAG,MAAA,CACAP,SAAAA,GACA,KAAAQ,WACA,GAEAC,QAAA,CACA,eAAAD,GACA,IAAAE,EASAC,EAPAD,EADAE,EAAAA,EAAAC,SAAA,KAAAb,YAAA,oBAAAA,UAAAC,KACA,KAAAD,UAAAc,OAAAC,QAAAC,KAGA,KAAAhB,UAKA,IAAAiB,GAAA,EACA,GAAAf,MAAAgB,QAAAR,IAAAA,EAAAS,OAAA,EACAR,EAAAD,EAAAjB,IAAAuB,GAAAJ,EAAAA,EAAAQ,aAAAJ,IACAC,GAAA,IAAAL,EAAAA,EAAAS,oBAAAV,OAEA,CACA,IAAAW,EAAA,KAAAC,oBAAAb,GACAI,EAAAQ,EAAAE,YACAb,EAAAD,GACAe,EAAAA,EAAAA,IAAAX,KACAG,GAAA,IAAAL,EAAAA,EAAAS,oBAAAT,EAAAA,EAAAQ,aAAAN,IACAG,IACAN,EAAAW,GAGA,OAEA,KAAAI,UAAAT,EAAA,yBACA,KAAAU,cACA,KAAAC,UAAAjB,EAAA,KAAAN,KACA,ICjEuQ,I,eCQnQwB,GAAY,OACd,EACA7C,EACAU,GACA,EACA,KACA,KACA,MAIF,QAAemC,EAAiB,O","sources":["webpack://@openeo/web-editor/./src/components/maps/MapExtentViewer.vue","webpack://@openeo/web-editor/src/components/maps/MapExtentViewer.vue","webpack://@openeo/web-editor/./src/components/maps/MapExtentViewer.vue?4633","webpack://@openeo/web-editor/./src/components/maps/MapExtentViewer.vue?5a5e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"map-extent\",attrs:{\"id\":_vm.id}},[_c('ProgressControl',{ref:\"progress\",attrs:{\"map\":_vm.map}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :id=\"id\" class=\"map-extent\">\n\t\t<ProgressControl ref=\"progress\" :map=\"map\" />\n\t</div>\n</template>\n\n<script>\nimport MapMixin from './MapMixin.vue';\nimport StacExtentMixin from './ExtentMixin.vue';\nimport Utils from '../../utils.js';\n\nimport { isEmpty as extentIsEmpty } from 'ol/extent';\n\nexport default {\n\tname: 'MapExtentViewer',\n\tmixins: [MapMixin, StacExtentMixin],\n\tprops: {\n\t\tfootprint: {\n\t\t\t// bbox: Array of Array (west, south, east, north - WGS84)\n\t\t\t// geometry: GeoJSON Object (WGS84)\n\t\t\ttype: [Array, Object],\n\t\t\tdefault: () => null\n\t\t},\n\t\tfill: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\twatch: {\n\t\tfootprint() {\n\t\t\tthis.renderMap();\n\t\t}\n\t},\n\tmethods: {\n\t\tasync renderMap() {\n\t\t\tlet data;\n\t\t\tif (Utils.isObject(this.footprint) && this.footprint.type === 'Collection') {\n\t\t\t\tdata = this.footprint.extent.spatial.bbox;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdata = this.footprint;\n\t\t\t}\n\n\t\t\t// Check max bounds and whether we can use Web Mercaror or WGS84\n\t\t\tlet value;\n\t\t\tlet isWebMercatorCompatible = true;\n\t\t\tif (Array.isArray(data) && data.length > 0) {\n\t\t\t\tvalue = data.map(bbox => Utils.extentToBBox(bbox));\n\t\t\t\tisWebMercatorCompatible = Utils.isBboxInWebMercator(value) !== false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet source = this.createGeoJsonSource(data);\n\t\t\t\tlet extent = source.getExtent();\n\t\t\t\tvalue = data;\n\t\t\t\tif (!extentIsEmpty(extent)) {\n\t\t\t\t\tisWebMercatorCompatible = Utils.isBboxInWebMercator(Utils.extentToBBox(extent)) !== false;\n\t\t\t\t\tif (!isWebMercatorCompatible) {\n\t\t\t\t\t\tvalue = source;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.createMap(isWebMercatorCompatible ? \"EPSG:3857\" : \"EPSG:4326\");\n\t\t\tthis.addBasemaps();\n\t\t\tthis.addExtent(value, this.fill);\n\t\t}\n\n\t}\n\n}\n</script>\n\n<style src=\"./MapMixin.scss\" lang=\"scss\"></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapExtentViewer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapExtentViewer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MapExtentViewer.vue?vue&type=template&id=4a6ac804\"\nimport script from \"./MapExtentViewer.vue?vue&type=script&lang=js\"\nexport * from \"./MapExtentViewer.vue?vue&type=script&lang=js\"\nimport style0 from \"./MapMixin.scss?vue&type=style&index=0&prod&lang=scss&external\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","id","ref","map","staticRenderFns","name","mixins","MapMixin","StacExtentMixin","props","footprint","type","Array","Object","default","fill","Boolean","watch","renderMap","methods","data","value","Utils","isObject","extent","spatial","bbox","isWebMercatorCompatible","isArray","length","extentToBBox","isBboxInWebMercator","source","createGeoJsonSource","getExtent","extentIsEmpty","createMap","addBasemaps","addExtent","component"],"sourceRoot":""}