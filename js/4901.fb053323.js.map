{"version":3,"file":"js/4901.fb053323.js","mappings":"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","sources":["webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/internal/StacMixin.js","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/node_modules/@radiantearth/stac-migrate/migrate.js","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/Item.vue?c308","webpack://@openeo/web-editor/node_modules/@openeo/vue-components/components/Item.vue","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/Item.vue?c2be","webpack://@openeo/web-editor/./node_modules/@openeo/vue-components/components/Item.vue"],"sourcesContent":["import Utils from '../../utils';\nimport { Versions } from '@openeo/js-commons';\nimport StacMigrate from '@radiantearth/stac-migrate';\n\nconst IMAGE_MEDIA_TYPES = ['image/apng', 'image/gif', 'image/png', 'image/jpeg', 'image/webp'];\nconst IMAGE_EXTENSIONS = ['gif', 'png', 'jpg', 'jpeg', 'webp'];\n\nexport default {\n\tcomponents: {\n\t\tDescription: () => import('../Description.vue'),\n\t\tDeprecationNotice: () => import('../DeprecationNotice.vue'),\n\t\tLinkList: () => import('../LinkList.vue'),\n\t\tStacAsset: () => import('../internal/StacAsset.vue'),\n\t\tStacFields: () => import('../internal/StacFields.vue')\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tmapOptions: {\n\t\t\t// It's not possible to specify defaults for the individual properties, therefore this prop is only accessed through a computed property which adds them in.\n\t\t\ttype: Object,\n\t\t\t// Default values will be set in computed.leafletOptions\n\t\t\tdefault: () => ({}),\n\t\t\tvalidator: function(value) {\n\t\t\t\tconst allowedTypes = {  // keep in sync with Readme\n\t\t\t\t\theight: \"string\",\n\t\t\t\t\twidth: \"string\",\n\t\t\t\t\tbasemap: \"string\",\n\t\t\t\t\tattribution: \"string\",\n\t\t\t\t\twrapAroundAntimeridian: \"boolean\",\n\t\t\t\t\tscrollWheelZoom: \"boolean\"\n\t\t\t\t};\n\t\t\t\tconst allowedKeys = Object.keys(allowedTypes);\n\t\t\t\treturn typeof value == 'object' && Object.keys(value).every(key =>\n\t\t\t\t\tallowedKeys.indexOf(key) != -1 && typeof value[key] == allowedTypes[key]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmap: null\n\t\t};\n\t},\n\tcomputed: {\n\t\tstac() {\n\t\t\tlet cloned = Utils.deepClone(this.data);\n\t\t\treturn StacMigrate.stac(cloned);\n\t\t},\n\t\tleafletOptions() {\n\t\t\treturn {  // keep in sync with Readme\n\t\t\t\theight: this.mapOptions.height || '250px',\n\t\t\t\twidth: this.mapOptions.width || 'auto',\n\t\t\t\tbasemap: this.mapOptions.basemap || 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n\t\t\t\tattribution: this.mapOptions.attribution || 'Map data &copy; <a href=\"http://www.osm.org\">OpenStreetMap</a>',\n\t\t\t\tnoWrap: this.mapOptions.wrapAroundAntimeridian === undefined ? true : !this.mapOptions.wrapAroundAntimeridian,  // negate!\n\t\t\t\tscrollWheelZoom: this.mapOptions.scrollWheelZoom === undefined ? false : this.mapOptions.scrollWheelZoom\n\t\t\t}\n\t\t},\n\t\tthumbnails() {\n\t\t\tif (!Utils.isObject(this.stac.assets)) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn Object.values(this.stac.assets).filter(this.assetIsImage);\n\t\t},\n\t\thasAssets() {\n\t\t\treturn Utils.size(this.stac.assets) > 0;\n\t\t}\n\t},\n\twatch: {\n\t\tdata() {\n\t\t\tthis.initMap();\n\t\t},\n\t\tshowMap(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.initMap();\n\t\t\t}\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tUtils.enableHtmlProps(this);\n\t},\n\tmounted() {\n\t\tthis.initMap();\n\t},\n\tmethods: {\n\t\tassetIsImage(asset) {\n\t\t\tlet ext = typeof asset.href === 'string' ? asset.href.split('.').pop() : '';\n\t\t\treturn Array.isArray(asset.roles) && \n\t\t\t\t(asset.roles.includes('thumbnail') || asset.roles.includes('overview')) && \n\t\t\t\t(IMAGE_MEDIA_TYPES.includes(asset.type) || IMAGE_EXTENSIONS.includes(ext));\n\t\t},\n\t\tinitLeafletPlugins() {\n\t\t\t// To be implemented in Collection/Item, if required.\n\t\t},\n\t\tasync initMap() {\n\t\t\tif (!this.$refs.mapContainer) {\n\t\t\t\tawait this.$nextTick();\n\t\t\t}\n\t\t\tif (!this.$refs.mapContainer || this.map !== null || !this.showMap) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Only use the L for leaflet temporarily and release it later again\n\t\t\tlet oldL = window.L;\n\t\t\ttry {\n\t\t\t\tthis.map = {\n\t\t\t\t\tleaflet: null,\n\t\t\t\t\tinstance: null,\n\t\t\t\t\tgeometries: null\n\t\t\t\t};\n\t\t\t\t// Leaflet no conflict fix: Try to re-use an already available instance of Leaflet to avoid\n\t\t\t\t// conflicts with other libraries such as ipyleaflet. Also, use L variable as long as initMap\n\t\t\t\t// is running. For all other cases store Leaflet in this.map.leaflet, which can be used in other places.\n\t\t\t\tlet hasLeaflet = () => Utils.isObject(window.L) && Versions.validate(window.L.version) && Versions.compare(window.L.version, \"1.x.x\", \"=\");\n\t\t\t\tif (!hasLeaflet()) {\n\t\t\t\t\twindow.L = await import('leaflet');\n\t\t\t\t}\n\t\t\t\tif (!hasLeaflet()) {\n\t\t\t\t\tconsole.warn(\"Leaflet is not available\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.map.leaflet = window.L;\n\n\t\t\t\tlet css = await import('leaflet/dist/leaflet.css');\n\t\t\t\t// In Web Component mode inject the CSS into the shadowroot\n\t\t\t\tif (this.$root && this.$root.$options.shadowRoot && css.__inject__) {\n\t\t\t\t\tcss.__inject__(this.$root.$options.shadowRoot);\n\t\t\t\t}\n\n\t\t\t\tvar map = this.map.leaflet.map(this.$refs.mapContainer, {scrollWheelZoom: this.leafletOptions.scrollWheelZoom});\n\t\t\t\tthis.map.instance = map;\n\t\t\t\tvar osm = this.map.leaflet.tileLayer(this.leafletOptions.basemap, {\n\t\t\t\t\tname: 'Basemap',\n\t\t\t\t\tattribution: this.leafletOptions.attribution,\n\t\t\t\t\tnoWrap: this.leafletOptions.noWrap\n\t\t\t\t});\n\t\t\t\tosm.addTo(map);\n\n\t\t\t\tif (typeof this.addFeatures === 'function') {\n\t\t\t\t\tthis.map.geometries = this.addFeatures();\n\t\t\t\t\tif (this.map.geometries) {\n\t\t\t\t\t\tthis.map.geometries.addTo(map);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update map container in DOM\n\t\t\t\tthis.$refs.mapContainer.style.width = this.leafletOptions.width;\n\t\t\t\tthis.$refs.mapContainer.style.height = this.leafletOptions.height;\n\t\t\t\tmap.invalidateSize(false);\n\t\t\t\tthis.updateMapView();\n\n\t\t\t\tif (typeof this.mapOptions.onAfterMapInit === 'function') {\n\t\t\t\t\ttypeof this.mapOptions.onAfterMapInit(map, this.map.geometries);\n\t\t\t\t}\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\n\t\t\t\twindow.L = oldL;\n\t\t\t\treturn true;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\n\t\t\t\twindow.L = oldL;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tupdateMapView() {\n\t\t\tif (!this.map || !this.map.geometries) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Compute somewhat smart map extent and zoom level around bbox\n\t\t\tvar bounds = this.map.geometries.getBounds();\n\t\t\tvar zoom = this.map.instance.getBoundsZoom(bounds);\n\t\t\tvar newZoom = Math.min(zoom, 11); // Never zoom closer than 8\n\t\t\tif (zoom > 8) {\n\t\t\t\tnewZoom = newZoom - 3; // Zoom out three levels\n\t\t\t}\n\t\t\telse if (zoom > 5) {\n\t\t\t\tnewZoom = newZoom - 2; // Zoom out two levels\n\t\t\t}\n\t\t\telse if (zoom > 2) {\n\t\t\t\tnewZoom--; // Zoom out one level\n\t\t\t}\n\t\t\tthis.map.instance.fitBounds(bounds);\n\t\t\tthis.map.instance.setZoom(newZoom);\n\n\t\t\tthis.map.instance.once('moveend zoomend', () => this.map.instance.invalidateSize(false));\n\t\t}\n\t}\n};","// Migration rules partly based on PySTAC and @openeo/js-commons,\r\n// see https://github.com/stac-utils/pystac/tree/v0.5.4/pystac/serialization/migrate.py\r\n// and https://github.com/Open-EO/openeo-js-commons/tree/v1.2.0/src/migrate/collections.js\r\n\r\nvar compareVersions = require('compare-versions');\r\n\r\nconst LATEST_VERSION = '1.0.0';\r\nconst DONE = true; // This is used to verify in code coverage whether something has been used or not\r\nconst SCHEMAS = {\r\n\t'datacube': 'https://stac-extensions.github.io/datacube/v1.0.0/schema.json',\r\n\t'eo': 'https://stac-extensions.github.io/eo/v1.0.0/schema.json',\r\n\t'file': 'https://stac-extensions.github.io/file/v1.0.0/schema.json',\r\n\t'item-assets': 'https://stac-extensions.github.io/item-assets/v1.0.0/schema.json',\r\n\t'label': 'https://stac-extensions.github.io/label/v1.0.0/schema.json',\r\n\t'pointcloud': 'https://stac-extensions.github.io/pointcloud/v1.0.0/schema.json',\r\n\t'processing': 'https://stac-extensions.github.io/processing/v1.0.0/schema.json',\r\n\t'projection': 'https://stac-extensions.github.io/projection/v1.0.0/schema.json',\r\n\t'raster': 'https://stac-extensions.github.io/raster/v1.0.0/schema.json',\r\n\t'sar': 'https://stac-extensions.github.io/sar/v1.0.0/schema.json',\r\n\t'sat': 'https://stac-extensions.github.io/sat/v1.0.0/schema.json',\r\n\t'scientific': 'https://stac-extensions.github.io/scientific/v1.0.0/schema.json',\r\n\t'timestamps': 'https://stac-extensions.github.io/timestamps/v1.0.0/schema.json',\r\n\t'version': 'https://stac-extensions.github.io/version/v1.0.0/schema.json',\r\n\t'view': 'https://stac-extensions.github.io/view/v1.0.0/schema.json'\r\n};\r\nconst EXTENSIONS = {\r\n\t// Add a : at the end to indicate it has a prefix, otherwise list all fields separately (see version extension for example).\r\n\titemAndCollection: {\r\n\t\t// with prefix\r\n\t\t'cube:': SCHEMAS.datacube,\r\n\t\t'eo:': SCHEMAS.eo,\r\n\t\t'file:': SCHEMAS.file,\r\n\t\t'label:': SCHEMAS.label,\r\n\t\t'pc:': SCHEMAS.pointcloud,\r\n\t\t'processing:': SCHEMAS.processing,\r\n\t\t'proj:': SCHEMAS.projection,\r\n\t\t'raster:': SCHEMAS.raster,\r\n\t\t'sar:': SCHEMAS.sar,\r\n\t\t'sat:': SCHEMAS.sat,\r\n\t\t'sci:': SCHEMAS.scientific,\r\n\t\t'view:': SCHEMAS.view,\r\n\t\t// without prefix\r\n\t\t'version': SCHEMAS.version,\r\n\t\t'deprecated': SCHEMAS.version,\r\n\t\t'published': SCHEMAS.timestamps,\r\n\t\t'expires': SCHEMAS.timestamps,\r\n\t\t'unpublished': SCHEMAS.timestamps\r\n\t},\r\n\tcatalog: {\r\n\t\t// None yet\r\n\t},\r\n\tcollection: {\r\n\t\t'item_assets': SCHEMAS['item-assets']\r\n\t},\r\n\titem: {\r\n\t\t// None yet\r\n\t},\r\n};\r\nEXTENSIONS.collection = Object.assign(EXTENSIONS.collection, EXTENSIONS.itemAndCollection);\r\nEXTENSIONS.item = Object.assign(EXTENSIONS.item, EXTENSIONS.itemAndCollection);\r\n\r\nvar V = {\r\n\tversion: LATEST_VERSION,\r\n\r\n\tset(version) {\r\n\t\tif (!version) {\r\n\t\t\tversion = '0.6.0'; // Assume the worst case, it doesn't seem there's a clear indicator for 0.7.0\r\n\t\t}\r\n\t\tV.version = version;\r\n\t},\r\n\r\n\tbefore(version) {\r\n\t\treturn compareVersions.compare(V.version, version, '<');\r\n\t}\r\n};\r\n\r\nvar _ = {\r\n\r\n\ttype(val) {\r\n\t\tlet type = typeof val;\r\n\t\tif (type === 'object') {\r\n\t\t\tif (val === null) {\r\n\t\t\t\treturn 'null';\r\n\t\t\t}\r\n\t\t\telse if (Array.isArray(val)) {\r\n\t\t\t\treturn 'array';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn type;\r\n\t},\r\n\r\n\tis(val, type) {\r\n\t\treturn (_.type(val) === type);\r\n\t},\r\n\r\n\tisDefined(val) {\r\n\t\treturn (typeof val !== 'undefined');\r\n\t},\r\n\r\n\tisObject(obj) {\r\n\t\treturn (typeof obj === 'object' && obj === Object(obj) && !Array.isArray(obj));\r\n\t},\r\n\r\n\trename(obj, oldKey, newKey) {\r\n\t\tif (typeof obj[oldKey] !== 'undefined' && typeof obj[newKey] === 'undefined') {\r\n\t\t\tobj[newKey] = obj[oldKey];\r\n\t\t\tdelete obj[oldKey];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\ttoArray(obj, key) {\r\n\t\tif (typeof obj[key] !== 'undefined' && !Array.isArray(obj[key])) {\r\n\t\t\tobj[key] = [obj[key]];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tflattenArray(obj, key, newKeys, summary = false) {\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tfor(let i in obj[key]) {\r\n\t\t\t\tif (typeof newKeys[i] === 'string') {\r\n\t\t\t\t\tlet value = obj[key][i];\r\n\t\t\t\t\tobj[newKeys[i]] = summary ? [value] : value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tflattenOneElementArray(obj, key, summary = false) {\r\n\t\tif (!summary && Array.isArray(obj[key])) {\r\n\t\t\tif (obj[key].length === 1) {\r\n\t\t\t\tobj[key] = obj[key][0];\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn false; // It's still an array and we don't know which element to choose\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true; // It's already a single element\r\n\t},\r\n\r\n\tremoveFromArray(obj, key, valueToRemove) {\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tlet index = obj[key].indexOf(valueToRemove);\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tobj[key].splice(index, 1);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\taddToArrayIfNotExists(obj, key, valueToAdd) {\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tlet index = obj[key].indexOf(valueToAdd);\r\n\t\t\tif (index === -1) {\r\n\t\t\t\tobj[key].push(valueToAdd);\r\n\t\t\t}\r\n\t\t\tobj[key].sort();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tensure(obj, key, defaultValue) {\r\n\t\tif (_.type(defaultValue) !== _.type(obj[key])) {\r\n\t\t\tobj[key] = defaultValue;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\taddExtension(context, newExtension) {\r\n\t\tif (!_.isObject(context)) {\r\n\t\t\treturn true; // We are likely in summaries and don't need to do anything\r\n\t\t}\r\n\r\n\t\treturn _.addToArrayIfNotExists(context, 'stac_extensions', newExtension) && DONE;\r\n\t},\r\n\r\n\tremoveExtension(context, oldExtension) {\r\n\t\tif (!_.isObject(context)) {\r\n\t\t\treturn true; // We are likely in summaries and don't need to do anything\r\n\t\t}\r\n\r\n\t\treturn _.removeFromArray(context, 'stac_extensions', oldExtension) && DONE;\r\n\t},\r\n\r\n\tmigrateExtensionShortnames(context) {\r\n\t\tlet oldShortnames = Object.keys(SCHEMAS);\r\n\t\tlet newSchemas = Object.values(SCHEMAS);\r\n\t\treturn _.mapValues(context, 'stac_extensions', oldShortnames, newSchemas);\r\n\t},\r\n\r\n\tpopulateExtensions(context, type) {\r\n\t\tlet objectsToCheck = [];\r\n\t\tif (type == 'catalog' || type == 'collection') {\r\n\t\t\tobjectsToCheck.push(context);\r\n\t\t}\r\n\t\tif ((type == 'item' || type == 'collection') && _.isObject(context.assets)) {\r\n\t\t\tobjectsToCheck = objectsToCheck.concat(Object.values(context.assets));\r\n\t\t}\r\n\t\tif (type == 'collection' && _.isObject(context.item_assets)) {\r\n\t\t\tobjectsToCheck = objectsToCheck.concat(Object.values(context.item_assets));\r\n\t\t}\r\n\t\tif (type == 'collection' && _.isObject(context.summaries)) {\r\n\t\t\tobjectsToCheck = objectsToCheck.concat(Object.values(context.summaries));\r\n\t\t}\r\n\t\tif (type == 'item' && _.isObject(context.properties)) {\r\n\t\t\tobjectsToCheck.push(context.properties);\r\n\t\t}\r\n\r\n\t\tfor (let obj of objectsToCheck) {\r\n\t\t\tObject.keys(obj).forEach(key => {\r\n\t\t\t\tlet prefix = key.match(/^(\\w+:|[^:]+$)/i);\r\n\t\t\t\tif (Array.isArray(prefix)) {\r\n\t\t\t\t\tlet ext = EXTENSIONS[type][prefix[0]];\r\n\t\t\t\t\t_.is(ext, 'string') && _.addExtension(context, ext) && DONE;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tmapValues(obj, key, oldValues, newValues) {\r\n\t\tlet fn = value => {\r\n\t\t\tlet index = oldValues.indexOf(value);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\treturn newValues[index];\r\n\t\t\t}\r\n\t\t\treturn value;\t\r\n\t\t};\r\n\t\tif (Array.isArray(obj[key])) {\r\n\t\t\tobj[key] = obj[key].map(fn);\r\n\t\t}\r\n\t\telse if (typeof obj[key] !== 'undefined') {\r\n\t\t\tobj[key] = fn(obj[key]);\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\tmapObject(obj, fn) {\r\n\t\tfor(let key in obj) {\r\n\t\t\tobj[key] = fn(obj[key], key);\r\n\t\t}\r\n\t},\r\n\r\n\tmoveTo(obj, key, context, fromSummary = false, mergedSummary = false) {\r\n\t\tlet condition;\r\n\t\tif (fromSummary) {\r\n\t\t\tif (mergedSummary) {\r\n\t\t\t\tcondition = val => Array.isArray(val);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcondition = val => Array.isArray(val) && val.length === 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcondition = _.isDefined\r\n\t\t}\r\n\t\tif (condition(obj[key])) {\r\n\t\t\tcontext[key] = fromSummary && !mergedSummary ? obj[key][0] : obj[key];\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\trunAll(migrations, obj, context = null) {\r\n\t\tfor(let fn in migrations) {\r\n\t\t\tif (!fn.startsWith('migrate')) {\r\n\t\t\t\tmigrations[fn](obj, context);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\ttoUTC(obj, key) {\r\n\t\tif (typeof obj[key] === 'string') {\r\n\t\t\ttry {\r\n\t\t\t\tobj[key] = this.toISOString(obj[key]);\r\n\t\t\t\treturn true;\r\n\t\t\t} catch(error) {}\r\n\t\t}\r\n\t\tdelete obj[key];\r\n\t\treturn false;\r\n\t},\r\n\r\n\ttoISOString(date) {\r\n\t\tif (!(date instanceof Date)) {\r\n\t\t\tdate = new Date(date);\r\n\t\t}\r\n\t\treturn date.toISOString().replace('.000', ''); // Don't export milliseconds if not needed\r\n\t}\r\n\r\n};\r\n\r\nvar Checksum = {\r\n\r\n\thexToUint8(hexString) {\r\n\t\tif(hexString.length === 0 || hexString.length % 2 !== 0){\r\n\t\t\tthrow new Error(`The string \"${hexString}\" is not valid hex.`)\r\n\t\t}\r\n  \t\treturn new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\r\n\t},\r\n\r\n\tuint8ToHex(bytes) {\r\n\t\treturn bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\r\n\t},\r\n\r\n\ttoMultihash(obj, key, algo) {\r\n\t\tif (!_.is(obj[key], 'string')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst multihash = require('multihashes');\r\n\t\t\tconst encoded = multihash.encode(Checksum.hexToUint8(obj[key]), algo);\r\n\t\t\tobj[key] = Checksum.uint8ToHex(encoded);\r\n\t\t\treturn true;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn(error);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar Catalog = {\r\n\r\n\tmigrate(catalog, updateVersionNumber = true) {\r\n\t\tV.set(catalog.stac_version);\r\n\t\tif (updateVersionNumber) {\r\n\t\t\tcatalog.stac_version = LATEST_VERSION;\r\n\t\t}\r\n\t\tcatalog.type = 'Catalog';\r\n\t\tV.before('1.0.0-rc.1') && _.migrateExtensionShortnames(catalog) && DONE;\r\n\r\n\t\t_.ensure(catalog, 'id', '') && DONE;\r\n\t\t_.ensure(catalog, 'description', '') && DONE;\r\n\t\t_.ensure(catalog, 'links', []) && DONE;\r\n\r\n\t\t_.runAll(Catalog, catalog, catalog);\r\n\r\n\t\t_.ensure(catalog, 'stac_extensions', []) && DONE;\r\n\t\tV.before('0.8.0') && _.populateExtensions(catalog, 'catalog') && DONE;\r\n\t},\r\n\r\n\topeneo(obj) {\r\n\t\t_.rename(obj, 'api_version', 'openeo:api_version') && DONE;\r\n\t\t_.rename(obj, 'backend_version', 'openeo:backend_version') && DONE;\r\n\t\t_.rename(obj, 'production', 'openeo:production') && DONE;\r\n\t\t_.rename(obj, 'endpoints', 'openeo:endpoints') && DONE;\r\n\t\t_.rename(obj, 'billing', 'openeo:billing') && DONE;\r\n\t},\r\n\r\n};\r\n\r\nvar Collection = {\r\n\r\n\tmigrate(collection, updateVersionNumber = true) {\r\n\t\tCatalog.migrate(collection, updateVersionNumber); // Migrates stac_version, stac_extensions, id, title, description, links\r\n\t\tcollection.type = 'Collection';\r\n\t\tV.before('1.0.0-rc.1') && _.migrateExtensionShortnames(collection) && DONE;\r\n\r\n\t\t_.ensure(collection, 'license', 'proprietary') && DONE;\r\n\t\t_.ensure(collection, 'extent', {\r\n\t\t\tspatial: {\r\n\t\t\t\tbbox: []\r\n\t\t\t},\r\n\t\t\ttemporal: {\r\n\t\t\t\tinterval: []\r\n\t\t\t}\r\n\t\t}) && DONE;\r\n\r\n\t\t_.runAll(Collection, collection, collection);\r\n\r\n\t\t// Migrate Commons extension - part 3\r\n\t\tif (_.isObject(collection.properties)) {\r\n\t\t\t_.removeFromArray(collection, 'stac_extensions', 'commons') && DONE;\r\n\t\t\tdelete collection.properties;\r\n\t\t}\r\n\r\n\t\tV.before('0.8.0') && _.populateExtensions(collection, 'collection') && DONE;\r\n\t\tV.before('1.0.0-beta.1') && _.mapValues(collection, 'stac_extensions', ['assets'], ['item-assets']) && DONE;\r\n\t},\r\n\r\n\textent(collection) {\r\n\t\t_.ensure(collection, \"extent\", {});\r\n\r\n\t\tif (V.before('0.8.0')) {\r\n\t\t\t// Restructure spatial extent\r\n\t\t\tif (Array.isArray(collection.extent.spatial)) {\r\n\t\t\t\tcollection.extent.spatial = {\r\n\t\t\t\t\tbbox: [\r\n\t\t\t\t\t\tcollection.extent.spatial\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t// Restructure temporal extent\r\n\t\t\tif (Array.isArray(collection.extent.temporal)) {\r\n\t\t\t\tcollection.extent.temporal = {\r\n\t\t\t\t\tinterval: [\r\n\t\t\t\t\t\tcollection.extent.temporal\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_.ensure(collection.extent, \"spatial\", {});\r\n\t\t_.ensure(collection.extent.spatial, \"bbox\", []);\r\n\t\t_.ensure(collection.extent, \"temporal\", {});\r\n\t\t_.ensure(collection.extent.temporal, \"interval\", []);\r\n\r\n\t\tif (V.before('1.0.0-rc.3')) {\r\n\t\t\t// The first extent in a Collection is always the overall extent, followed by more specific extents.\r\n\t\t\tif (collection.extent.temporal.interval.length > 1) {\r\n\t\t\t\tlet min, max;\r\n\t\t\t\tfor(let interval of collection.extent.temporal.interval) {\r\n\t\t\t\t\tif (interval[0] === null) {\r\n\t\t\t\t\t\tmin = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (typeof interval[0] === 'string' && min !== null) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tlet start = new Date(interval[0]);\r\n\t\t\t\t\t\t\tif (typeof min === 'undefined' || start < min) {\r\n\t\t\t\t\t\t\t\tmin = start;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (interval[1] === null) {\r\n\t\t\t\t\t\tmax = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (typeof interval[1] === 'string' && max !== null) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tlet end = new Date(interval[1]);\r\n\t\t\t\t\t\t\tif (typeof max === 'undefined' || end > max) {\r\n\t\t\t\t\t\t\t\tmax = end;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {}\r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t\tcollection.extent.temporal.interval.unshift([\r\n\t\t\t\t\tmin ? _.toISOString(min) : null,\r\n\t\t\t\t\tmax ? _.toISOString(max) : null\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t\tif (collection.extent.spatial.bbox.length > 1) {\r\n\t\t\t\tlet count = collection.extent.spatial.bbox.reduce((val, bbox) => Array.isArray(bbox) ? Math.max(bbox.length, val) : val, 4);\r\n\t\t\t\tif (count >= 4) {\r\n\t\t\t\t\tlet union = new Array(count).fill(null);\r\n\t\t\t\t\tlet middle = count / 2;\r\n\t\t\t\t\tfor(let bbox of collection.extent.spatial.bbox) {\r\n\t\t\t\t\t\tif (!Array.isArray(bbox) || bbox.length < 4) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor(let i in bbox) {\r\n\t\t\t\t\t\t\tlet c = bbox[i];\r\n\t\t\t\t\t\t\tif (union[i] === null) {\r\n\t\t\t\t\t\t\t\tunion[i] = c;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (i < middle) {\r\n\t\t\t\t\t\t\t\tunion[i] = Math.min(c, union[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tunion[i] = Math.max(c, union[i]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (union.findIndex(c => c === null) === -1) {\r\n\t\t\t\t\t\tcollection.extent.spatial.bbox.unshift(union);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tcollectionAssets(collection) {\r\n\t\tV.before('1.0.0-rc.1') && _.removeExtension(collection, 'collection-assets') && DONE;\r\n\r\n\t\tAsset.migrateAll(collection);\r\n\t},\r\n\r\n\titemAsset(collection) {\r\n\t\tV.before('1.0.0-beta.2') && _.rename(collection, 'item_assets', 'assets');\r\n\r\n\t\tAsset.migrateAll(collection, 'item_assets');\r\n\t},\r\n\r\n\tsummaries(collection) {\r\n\t\t_.ensure(collection, 'summaries', {});\r\n\r\n\t\t// other_properties: An early version of the Collection summaries with a similar structure\r\n\t\t// Was mostly used in standalone collctions from openEO and GEE. Move other_properties to summaries.\r\n\t\tif (V.before('0.8.0') && _.isObject(collection.other_properties)) {\r\n\t\t\tfor(let key in collection.other_properties) {\r\n\t\t\t\tlet prop = collection.other_properties[key];\r\n\t\t\t\tif (Array.isArray(prop.extent) && prop.extent.length === 2) {\r\n\t\t\t\t\tcollection.summaries[key] = {\r\n\t\t\t\t\t\tminimum: prop.extent[0],\r\n\t\t\t\t\t\tmaximum: prop.extent[1],\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\telse if (Array.isArray(prop.values)) {\r\n\t\t\t\t\tif (prop.values.filter(v => Array.isArray(v)).length === prop.values.length) {\r\n\t\t\t\t\t\t// If it is an array of arrays, merge the arrays\r\n\t\t\t\t\t\tcollection.summaries[key] = prop.values.reduce((a, b) => a.concat(b), []);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcollection.summaries[key] = prop.values;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete collection.other_properties;\r\n\t\t}\r\n\r\n\t\t// Migrate Commons extension - part 2\r\n\t\t// Move properties to (single element) summaries if the Collection is standalone\r\n\t\t// see also https://github.com/stac-utils/stac-migrate/issues/3\r\n\t\tif (V.before('1.0.0-beta.1') && _.isObject(collection.properties) && !collection.links.find(link => ['child', 'item'].includes(link.rel))) {\r\n\t\t\tfor(let key in collection.properties) {\r\n\t\t\t\tlet value = collection.properties[key];\r\n\t\t\t\tif (!Array.isArray(value)) {\r\n\t\t\t\t\tvalue = [value];\r\n\t\t\t\t}\r\n\t\t\t\tcollection.summaries[key] = value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (V.before('1.0.0-rc.1')) {\r\n\t\t\t_.mapObject(collection.summaries, val => {\r\n\t\t\t\t_.rename(val, 'min', 'minimum') && DONE;\r\n\t\t\t\t_.rename(val, 'max', 'maximum') && DONE;\r\n\t\t\t\treturn val;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// now we can work on all summaries and migrate them\r\n\t\tFields.migrate(collection.summaries);\r\n\r\n\t\t// Some fields should usually be on root-level if there's only one element\r\n\t\t_.moveTo(collection.summaries, 'sci:doi', collection, true) && _.addExtension(collection, SCHEMAS.scientific) && DONE;\r\n\t\t_.moveTo(collection.summaries, 'sci:publications', collection, true, true) && _.addExtension(collection, SCHEMAS.scientific) && DONE;\r\n\t\t_.moveTo(collection.summaries, 'sci:citation', collection, true) && _.addExtension(collection, SCHEMAS.scientific) && DONE;\r\n\t\t_.moveTo(collection.summaries, 'cube:dimensions', collection, true) && _.addExtension(collection, SCHEMAS.datacube) && DONE;\r\n\r\n\t\t// Remove summary field if empty\r\n\t\tif (Object.keys(collection.summaries).length === 0) {\r\n\t\t\tdelete collection.summaries;\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar Item = {\r\n\r\n\tmigrate(item, collection = null, updateVersionNumber = true) {\r\n\t\tV.set(item.stac_version);\r\n\t\tif (updateVersionNumber) {\r\n\t\t\titem.stac_version = LATEST_VERSION;\r\n\t\t}\r\n\t\tV.before('1.0.0-rc.1') && _.migrateExtensionShortnames(item) && DONE;\r\n\r\n\t\t_.ensure(item, 'id', '') && DONE;\r\n\t\t_.ensure(item, 'type', 'Feature') && DONE;\r\n\t\tif (!_.isObject(item.geometry)) {\r\n\t\t\titem.geometry = null;\r\n\t\t}\r\n\t\tif (item.geometry !== null) {\r\n\t\t\t_.ensure(item, 'bbox', []) && DONE;\r\n\t\t}\r\n\t\t_.ensure(item, 'properties', {}) && DONE;\r\n\t\t_.ensure(item, 'links', []) && DONE;\r\n\t\t_.ensure(item, 'assets', {}) && DONE;\r\n\r\n\t\t// Migrate Commons extension - part 1\r\n\t\tlet commons = false;\r\n\t\tif (_.isObject(collection) && _.isObject(collection.properties)) {\r\n\t\t\t_.removeFromArray(item, 'stac_extensions', 'commons');\r\n\t\t\titem.properties = Object.assign({}, collection.properties, item.properties);\r\n\t\t\tcommons = true;\r\n\t\t}\r\n\r\n\t\t_.runAll(Item, item, item);\r\n\r\n\t\tFields.migrate(item.properties, item);\r\n\r\n\t\tAsset.migrateAll(item);\r\n\r\n\t\t_.ensure(item, 'stac_extensions', []) && DONE;\r\n\t\t// Also populate extensions if commons has been implemented\r\n\t\t(V.before('0.8.0') || commons) && _.populateExtensions(item, 'item') && DONE;\r\n\t}\r\n\r\n};\r\n\r\nvar Asset = {\r\n\r\n\tmigrateAll(context, field = 'assets') {\r\n\t\tfor(let key in context[field]) {\r\n\t\t\tAsset.migrate(context[field][key], context);\r\n\t\t}\r\n\t},\r\n\r\n\tmigrate(asset, context) {\r\n\t\t_.runAll(Asset, asset, context);\r\n\t\tFields.migrate(asset, context);\r\n\t},\r\n\r\n\tmediaTypes(asset) {\r\n\t\t_.is(asset.type, 'string') && _.mapValues(\r\n\t\t\tasset, 'type',\r\n\t\t\t['image/vnd.stac.geotiff', \t\t\t'image/vnd.stac.geotiff; cloud-optimized=true'],\r\n\t\t\t['image/tiff; application=geotiff',\t'image/tiff; application=geotiff; profile=cloud-optimized']\r\n\t\t);\r\n\t},\r\n\r\n\teo(asset, context) {\r\n\t\tlet bands = _.isObject(context.properties) && Array.isArray(context.properties['eo:bands']) ? context.properties['eo:bands'] : [];\r\n\t\tif (Array.isArray(asset['eo:bands'])) {\r\n\t\t\tfor(let i in asset['eo:bands']) {\r\n\t\t\t\tlet band = asset['eo:bands'][i];\r\n\t\t\t\tif (_.is(band, 'number') && _.isObject(bands[band])) {\r\n\t\t\t\t\tband = bands[band];\r\n\t\t\t\t}\r\n\t\t\t\telse if (!_.isObject(band)) {\r\n\t\t\t\t\tband = {}; // \"Fix\" invalid band index\r\n\t\t\t\t}\r\n\t\t\t\tasset['eo:bands'][i] = band;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar Fields = {\r\n\r\n\t// If no context is given, we are working in summaries\r\n\tmigrate(obj, context) {\r\n\t\t_.runAll(Fields, obj, context);\r\n\t},\r\n\r\n\t_commonMetadata(obj) {\r\n\t\t// Timestamps must be always in UTC\r\n\t\t// datetime, start_datetime and end_datetime already required UTC before\r\n\t\tif (V.before('1.0.0-rc.3')) {\r\n\t\t\t_.toUTC(obj, 'created') && DONE;\r\n\t\t\t_.toUTC(obj, 'updated') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\t_timestamps(obj) {\r\n\t\t// Timestamps must be always in UTC\r\n\t\t_.toUTC(obj, 'published') && DONE;\r\n\t\t_.toUTC(obj, 'expires') && DONE;\r\n\t\t_.toUTC(obj, 'unpublished') && DONE;\r\n\t},\r\n\r\n\t_versioningIndicator(obj) {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\tchecksum(obj, context) {\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'checksum:md5', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'md5') && DONE;\r\n\t\t\t_.rename(obj, 'checksum:sha1', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'sha1') && DONE;\r\n\t\t\t// We assume sha2/3-256 although that may fail in some cases and other lengths are chosen\r\n\t\t\t// Never seen this implemtned in the wild, so let's try this until another use case comes up\r\n\t\t\t_.rename(obj, 'checksum:sha2', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'sha2-256') && DONE;\r\n\t\t\t_.rename(obj, 'checksum:sha3', 'checksum:multihash') && Checksum.toMultihash(obj, 'checksum:multihash', 'sha3-256') && DONE;\r\n\t\t}\r\n\r\n\t\tV.before('1.0.0-rc.1') && _.rename(obj, 'checksum:multihash', 'file:checksum') && _.addExtension(context, SCHEMAS.file) && DONE;\r\n\t},\r\n\r\n\tcube() {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\tdtr(obj, context) {\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'dtr:start_datetime', 'start_datetime') && DONE;\r\n\t\t\t_.rename(obj, 'dtr:end_datetime', 'end_datetime') && DONE;\r\n\t\t\t_.removeExtension(context, 'datetime-range') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\teo(obj, context) {\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'eo:epsg', 'proj:epsg') && _.addExtension(context, SCHEMAS.projection) && DONE;\r\n\t\t\t_.rename(obj, 'eo:platform', 'platform') && DONE;\r\n\t\t\t_.rename(obj, 'eo:instrument', 'instruments') && _.toArray(obj, 'instruments') && DONE;\r\n\t\t\t_.rename(obj, 'eo:constellation', 'constellation') && DONE;\r\n\t\t\t_.rename(obj, 'eo:off_nadir', 'view:off_nadir') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:azimuth', 'view:azimuth') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:incidence_angle', 'view:incidence_angle') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:sun_azimuth', 'view:sun_azimuth') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t\t_.rename(obj, 'eo:sun_elevation', 'view:sun_elevation') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t}\r\n\r\n\t\tV.before('1.0.0-beta.1') && _.rename(obj, 'eo:gsd', 'gsd') && DONE;\r\n\t},\r\n\r\n\tlabel(obj) {\r\n\t\t// Migrate 0.8.0-rc1 non-pluralized forms\r\n\t\tif (V.before('0.8.0')) {\r\n\t\t\t_.rename(obj, 'label:property', 'label:properties') && DONE;\r\n\t\t\t_.rename(obj, 'label:task', 'label:tasks') && DONE;\r\n\t\t\t_.rename(obj, 'label:overview', 'label:overviews') && _.toArray(obj, 'label:overviews') && DONE;\r\n\t\t\t_.rename(obj, 'label:method', 'label:methods') && DONE;\r\n\t\t\t_.toArray(obj, 'label:classes') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\tpc(obj) {\r\n\t\tV.before('0.8.0') && _.rename(obj, 'pc:schema', 'pc:schemas') && DONE;\r\n\t},\r\n\r\n\tproj(obj) {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\tsar(obj, context) {\r\n\t\t// If no context is given, it's in summaries\r\n\t\tlet summary = !context;\r\n\r\n\t\t// Which version have they been (re)moved?\r\n\t\t_.rename(obj, 'sar:incidence_angle', 'view:incidence_angle') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t_.rename(obj, 'sar:pass_direction', 'sat:orbit_state') && _.mapValues(obj, 'sat:orbit_state', [null], ['geostationary']) && _.addExtension(context, SCHEMAS.sat) && DONE;\r\n\r\n\t\tif (V.before('0.7.0')) {\r\n\t\t\t_.flattenArray(obj, 'sar:resolution', ['sar:resolution_range', 'sar:resolution_azimuth'], summary) && DONE;\r\n\t\t\t_.flattenArray(obj, 'sar:pixel_spacing', ['sar:pixel_spacing_range', 'sar:pixel_spacing_azimuth'], summary) && DONE;\r\n\t\t\t_.flattenArray(obj, 'sar:looks', ['sar:looks_range', 'sar:looks_azimuth', 'sar:looks_equivalent_number'], summary) && DONE;\r\n\t\t\t_.rename(obj, 'sar:off_nadir', 'view:off_nadir') && _.addExtension(context, SCHEMAS.view) && DONE;\r\n\t\t}\r\n\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'sar:platform', 'platform') && DONE;\r\n\t\t\t_.rename(obj, 'sar:instrument', 'instruments') && _.toArray(obj, 'instruments') && DONE;\r\n\t\t\t_.rename(obj, 'sar:constellation', 'constellation') && DONE;\r\n\t\t\t_.rename(obj, 'sar:type', 'sar:product_type') && DONE;\r\n\t\t\t_.rename(obj, 'sar:polarization', 'sar:polarizations') && DONE;\r\n\t\t\t_.flattenOneElementArray(obj, 'sar:absolute_orbit', summary) && _.rename(obj, 'sar:absolute_orbit', 'sat:absolute_orbit') && _.addExtension(context, SCHEMAS.sat) && DONE;\r\n\t\t\t_.flattenOneElementArray(obj, 'sar:relative_orbit', summary) && _.rename(obj, 'sar:relative_orbit', 'sat:relative_orbit') && _.addExtension(context, SCHEMAS.sat) && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\tsat(obj) {\r\n\t\t// Migrate 0.9.0-rc _angle suffixes\r\n\t\tif (V.before('0.9.0')) {\r\n\t\t\t_.rename(obj, 'sat:off_nadir_angle', 'sat:off_nadir') && DONE;\r\n\t\t\t_.rename(obj, 'sat:azimuth_angle', 'sat:azimuth') && DONE;\r\n\t\t\t_.rename(obj, 'sat:sun_azimuth_angle', 'sat:sun_azimuth') && DONE;\r\n\t\t\t_.rename(obj, 'sat:sun_elevation_angle', 'sat:sun_elevation') && DONE;\r\n\t\t}\r\n\t},\r\n\r\n\tsci(obj) {\r\n\t\t// Nothing to do\r\n\t},\r\n\r\n\titem(obj) { // Single Item\r\n\t\tif (V.before('0.8.0')) {\r\n\t\t\t_.rename(obj, 'item:license', 'license') && DONE;\r\n\t\t\t_.rename(obj, 'item:providers', 'providers') && DONE;\r\n\t\t\t// No need to remove the extension from stac_extensions as it was not available before 0.8.0\r\n\t\t}\r\n\t},\r\n\r\n\tview(obj) {\r\n\t\t// Nothing to do\r\n\t}\r\n\r\n};\r\n\r\nvar Migrate = {\r\n\r\n\titem(item, collection = null, updateVersionNumber = true) {\r\n\t\tItem.migrate(item, collection, updateVersionNumber);\r\n\t\treturn item;\r\n\t},\r\n\t\r\n\tcatalog(catalog, updateVersionNumber = true) {\r\n\t\tCatalog.migrate(catalog, updateVersionNumber);\r\n\t\treturn catalog;\r\n\t},\r\n\t\r\n\tcollection(collection, updateVersionNumber = true) {\r\n\t\tCollection.migrate(collection, updateVersionNumber);\r\n\t\treturn collection;\r\n\t},\r\n\t\r\n\tstac(object, updateVersionNumber = true) {\r\n\t\tif (object.type === 'Feature') {\r\n\t\t\treturn Migrate.item(object, null, updateVersionNumber);\r\n\t\t}\r\n\t\telse if (object.type === 'Collection' || _.isDefined(object.extent) || _.isDefined(object.license)) {\r\n\t\t\treturn Migrate.collection(object,  updateVersionNumber);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Migrate.catalog(object, updateVersionNumber);\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nmodule.exports = Migrate;","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('article',{staticClass:\"vue-component stac item\"},[_vm._t(\"title\",function(){return [_c('a',{staticClass:\"anchor\",attrs:{\"name\":_vm.stac.id}}),_c('h2',[_vm._v(_vm._s(_vm.title))])]},null,_vm.$props),_vm._t(\"before-description\",null,null,_vm.$props),(_vm.properties.description)?_c('summary',{staticClass:\"description\"},[_c('Description',{attrs:{\"description\":_vm.properties.description}}),(_vm.properties.deprecated)?_c('DeprecationNotice',{attrs:{\"entity\":\"item\"}}):_vm._e(),(_vm.stac['federation:missing'])?_c('FederationMissingNotice',{attrs:{\"missing\":_vm.stac['federation:missing'],\"federation\":_vm.federation}}):_vm._e()],1):_vm._e(),(_vm.thumbnails.length)?_c('section',{staticClass:\"preview\"},[_c('h3',[_vm._v(\"Previews\")]),_c('div',{staticClass:\"thumbnails\"},_vm._l((_vm.thumbnails),function(img){return _c('a',{key:img.href,attrs:{\"href\":img.href,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":img.href,\"title\":img.title,\"alt\":img.title || 'Preview'}})])}),0)]):_vm._e(),_c('section',{staticClass:\"metadata properties\"},[(_vm.thumbnails.length)?_c('h3',[_vm._v(\"Metadata\")]):_vm._e(),(_vm.stac.geometry || Array.isArray(_vm.stac.bbox))?_vm._t(\"location\",function(){return [_c('div',{staticClass:\"tabular wrap\"},[_c('label',[_vm._v(\"Location\")]),_c('div',{ref:\"mapContainer\",staticClass:\"value map\"},[(!_vm.map)?[_vm._v(\" Latitudes: \"+_vm._s(_vm.stac.bbox[1])+\" / \"+_vm._s(_vm.stac.bbox[3])+\", Longitudes: \"+_vm._s(_vm.stac.bbox[0])+\" / \"+_vm._s(_vm.stac.bbox[2])+\" \")]:_vm._e()],2)])]},{\"geometry\":_vm.stac.geometry,\"bbox\":_vm.stac.bbox,\"mapOptions\":_vm.mapOptions}):_vm._e(),_c('StacFields',{attrs:{\"type\":\"Item\",\"metadata\":_vm.stac,\"headingTag\":\"h4\",\"ignore\":_vm.ignoredFields}})],2),(_vm.hasAssets)?_c('section',{staticClass:\"assets\"},[_c('h3',[_vm._v(\"Assets\")]),_c('ul',{staticClass:\"list\"},_vm._l((_vm.stac.assets),function(asset,id){return _c('StacAsset',{key:id,attrs:{\"asset\":asset,\"id\":id,\"context\":_vm.stac}})}),1)]):_vm._e(),_c('section',{staticClass:\"links\"},[_c('LinkList',{attrs:{\"links\":_vm.stac.links,\"heading\":\"See Also\",\"headingTag\":\"h3\",\"ignoreRel\":['self', 'parent', 'root', 'license', 'cite-as']}})],1),_vm._t(\"end\",null,null,_vm.$props)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<article class=\"vue-component stac item\">\n\n\t\t<slot name=\"title\" v-bind=\"$props\">\n\t\t\t<a class=\"anchor\" :name=\"stac.id\"></a>\n\t\t\t<h2>{{ title }}</h2>\n\t\t</slot>\n\n\t\t<slot name=\"before-description\" v-bind=\"$props\"></slot>\n\n\t\t<summary class=\"description\" v-if=\"properties.description\">\n\t\t\t<Description :description=\"properties.description\"></Description>\n\n\t\t\t<DeprecationNotice v-if=\"properties.deprecated\" entity=\"item\" />\n\t\t\t<FederationMissingNotice v-if=\"stac['federation:missing']\" :missing=\"stac['federation:missing']\" :federation=\"federation\" />\n\t\t</summary>\n\n\t\t<section class=\"preview\" v-if=\"thumbnails.length\">\n\t\t\t<h3>Previews</h3>\n\t\t\t<div class=\"thumbnails\">\n\t\t\t\t<a v-for=\"img in thumbnails\" :key=\"img.href\" :href=\"img.href\" target=\"_blank\">\n\t\t\t\t\t<img :src=\"img.href\" :title=\"img.title\" :alt=\"img.title || 'Preview'\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</section>\n\n\t\t<section class=\"metadata properties\">\n\t\t\t<h3 v-if=\"thumbnails.length\">Metadata</h3>\n\n\t\t\t<slot v-if=\"stac.geometry || Array.isArray(stac.bbox)\" name=\"location\" :geometry=\"stac.geometry\" :bbox=\"stac.bbox\" :mapOptions=\"mapOptions\">\n\t\t\t\t<div class=\"tabular wrap\">\n\t\t\t\t\t<label>Location</label>\n\t\t\t\t\t<div class=\"value map\" ref=\"mapContainer\">\n\t\t\t\t\t\t<template v-if=\"!map\">\n\t\t\t\t\t\t\tLatitudes: {{ stac.bbox[1] }} / {{ stac.bbox[3] }}, Longitudes: {{ stac.bbox[0] }} / {{ stac.bbox[2] }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</slot>\n\n\t\t\t<StacFields type=\"Item\" :metadata=\"stac\" headingTag=\"h4\" :ignore=\"ignoredFields\" />\n\t\t</section>\n\n\t\t<section class=\"assets\" v-if=\"hasAssets\">\n\t\t\t<h3>Assets</h3>\n\t\t\t<ul class=\"list\">\n\t\t\t\t<StacAsset v-for=\"(asset, id) in stac.assets\" :key=\"id\" :asset=\"asset\" :id=\"id\" :context=\"stac\" />\n\t\t\t</ul>\n\t\t</section>\n\n\t\t<section class=\"links\">\n\t\t\t<LinkList :links=\"stac.links\" heading=\"See Also\" headingTag=\"h3\" :ignoreRel=\"['self', 'parent', 'root', 'license', 'cite-as']\" />\n\t\t</section>\n\n\t\t<slot name=\"end\" v-bind=\"$props\"></slot>\n\n\t</article>\n</template>\n\n<script>\nimport FederationMixin from './internal/FederationMixin.js';\nimport StacMixin from './internal/StacMixin.js';\nimport Utils from '../utils';\n\nexport default {\n\tname: 'Item',\n\tmixins: [\n\t\tFederationMixin,\n\t\tStacMixin\n\t],\n\t// Mixins don't work properly in web components,\n\t// see https://github.com/vuejs/vue-web-component-wrapper/issues/30\n\tprops: {\n\t\t...FederationMixin.props,\n\t\t...StacMixin.props\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tignoredFields: ['title', 'description', 'deprecated', 'federation:missing']\n\t\t};\n\t},\n\tcomputed: {\n\t\tproperties() {\n\t\t\tif (Utils.isObject(this.stac.properties)) {\n\t\t\t\treturn this.stac.properties;\n\t\t\t}\n\t\t\treturn {};\n\t\t},\n\t\ttitle() {\n\t\t\tif (this.properties.title) {\n\t\t\t\treturn `${this.properties.title} (${this.stac.id})`;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.stac.id;\n\t\t\t}\n\t\t},\n\t\tshowMap() {\n\t\t\treturn Boolean(this.stac.geometry);\n\t\t}\n\t},\n\tmethods: {\n\t\taddFeatures() {\n\t\t\tlet geom = this.map.leaflet.geoJSON(this.stac);\n\t\t\tgeom.setStyle({\n\t\t\t\tcolor: '#3388ff',\n\t\t\t\tfillOpacity: 0.2\n\t\t\t});\n\t\t\treturn geom;\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import './base.scss';\n\n.vue-component.stac {\n\t.metadata .map.value {\n\t\toverflow: hidden;\n\t}\n}\n</style>","import mod from \"-!../../../@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=612e0b58&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&id=612e0b58&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["IMAGE_MEDIA_TYPES","IMAGE_EXTENSIONS","components","Description","DeprecationNotice","LinkList","StacAsset","StacFields","props","data","type","Object","default","mapOptions","validator","value","allowedTypes","height","width","basemap","attribution","wrapAroundAntimeridian","scrollWheelZoom","allowedKeys","keys","every","key","indexOf","map","computed","stac","cloned","deepClone","this","leafletOptions","noWrap","undefined","thumbnails","isObject","assets","values","filter","assetIsImage","hasAssets","size","watch","initMap","showMap","val","beforeCreate","enableHtmlProps","mounted","methods","asset","ext","href","split","pop","Array","isArray","roles","includes","initLeafletPlugins","async","$refs","mapContainer","$nextTick","oldL","window","L","leaflet","instance","geometries","hasLeaflet","Versions","validate","version","compare","console","warn","css","$root","$options","shadowRoot","__inject__","osm","tileLayer","name","addTo","addFeatures","style","invalidateSize","updateMapView","onAfterMapInit","e","error","bounds","getBounds","zoom","getBoundsZoom","newZoom","Math","min","fitBounds","setZoom","once","compareVersions","LATEST_VERSION","DONE","SCHEMAS","EXTENSIONS","itemAndCollection","datacube","eo","file","label","pointcloud","processing","projection","raster","sar","sat","scientific","view","timestamps","catalog","collection","item","assign","V","set","before","_","is","isDefined","obj","rename","oldKey","newKey","toArray","flattenArray","newKeys","summary","i","flattenOneElementArray","length","removeFromArray","valueToRemove","index","splice","addToArrayIfNotExists","valueToAdd","push","sort","ensure","defaultValue","addExtension","context","newExtension","removeExtension","oldExtension","migrateExtensionShortnames","oldShortnames","newSchemas","mapValues","populateExtensions","objectsToCheck","concat","item_assets","summaries","properties","forEach","prefix","match","oldValues","newValues","fn","mapObject","moveTo","fromSummary","mergedSummary","condition","runAll","migrations","startsWith","toUTC","toISOString","date","Date","replace","Checksum","hexToUint8","hexString","Error","Uint8Array","byte","parseInt","uint8ToHex","bytes","reduce","str","toString","padStart","toMultihash","algo","multihash","encoded","encode","Catalog","migrate","updateVersionNumber","stac_version","openeo","Collection","spatial","bbox","temporal","interval","extent","max","start","end","unshift","count","union","fill","middle","c","findIndex","collectionAssets","Asset","migrateAll","itemAsset","other_properties","prop","minimum","maximum","v","a","b","links","find","link","rel","Fields","Item","geometry","commons","field","mediaTypes","bands","band","_commonMetadata","_timestamps","_versioningIndicator","checksum","cube","dtr","pc","proj","sci","Migrate","object","license","module","exports","render","_vm","_c","_self","staticClass","_t","attrs","id","_v","_s","title","$props","description","_e","federation","_l","img","ref","ignoredFields","staticRenderFns","mixins","FederationMixin","StacMixin","Boolean","geom","geoJSON","setStyle","color","fillOpacity","component"],"sourceRoot":""}