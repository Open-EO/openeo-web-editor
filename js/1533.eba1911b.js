(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[1533],{31533:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=function(){var e=this,t=e._self._c;return t("Modal",{attrs:{id:"WizardModal",show:e.show,width:e.width,title:e.title,submitFunction:e.nextTab},on:{closed:function(t){return e.$emit("closed")}},scopedSlots:e._u([{key:"default",fn:function(){return[e.selected?t("div",{staticClass:"wizard"},[t("div",{staticClass:"wizard-navigation"},[t("div",{staticClass:"wizard-progress-with-circle"},[t("div",{staticClass:"wizard-progress-bar",style:e.progressBarStyle})]),t("ul",{staticClass:"wizard-nav wizard-nav-pills",attrs:{role:"tablist"}},e._l(e.tabs,(function(s,a){return t("wizard-step",{key:a,attrs:{tab:s,index:a},nativeOn:{click:function(t){return e.navigateToTab(a)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.navigateToTab(a)}}})})),1)]),t(e.selected.component,{ref:"component",tag:"component",attrs:{parent:e.self,options:e.options},on:{input:e.execute,close:e.close}})],1):t("div",{staticClass:"start"},[t("div",{staticClass:"message warning"},[t("i",{staticClass:"fas fa-bullhorn"}),t("span",[e._v("Please note that this feature is "),t("strong",[e._v("experimental")]),e._v(" and there are chances that the generated models won't work.")])]),t("p",[e._v("This wizard helps you to create openEO processes in a simple way for some common use cases.")]),t("p",[e._v("Which use case do you want to work on today?")]),t("ul",[e._l(e.usecases,(function(s){return[s.hide?e._e():t("li",{key:s.component,staticClass:"element",on:{click:function(t){return e.start(s)}}},[t("div",{staticClass:"summary"},[t("strong",[e._v(e._s(e.getUsecaseTitle(s)))]),t("small",[e._v(e._s(s.description))])])])]}))],2)])]},proxy:!0},{key:"footer",fn:function(){return[e.selected?[t("div",{staticClass:"wizard-back"},[e.activeTabIndex>0?t("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.prevTab,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.prevTab.apply(null,arguments)}}},[t("button",{attrs:{tabindex:"-1",type:"button"}},[e._v("Back")])]):e.selected.hide?e._e():t("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.reset,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.reset.apply(null,arguments)}}},[t("button",{attrs:{tabindex:"-1",type:"button"}},[e._v("Start over")])])]),t("div",{staticClass:"wizard-next"},[e.isLastStep?t("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextTab.apply(null,arguments)}}},[t("button",{attrs:{tabindex:"-1",type:"button"}},[e._v("Create")])]):t("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextTab.apply(null,arguments)}}},[t("button",{attrs:{tabindex:"-1",type:"button"}},[e._v("Next")])])])]:e._e()]},proxy:!0}])})},i=[],n=(s(98992),s(72577),s(3949),s(94679)),r=s(15559),o=s(2566),c=s(19306),l=s(61663),d=s(99017);const h=c.A.supportedWizards||[];let b={Download:()=>Promise.all([s.e(1160),s.e(5983),s.e(1323),s.e(5624),s.e(1189),s.e(6617),s.e(5640),s.e(2559),s.e(2365),s.e(3800),s.e(3291),s.e(3876),s.e(9882),s.e(5262),s.e(7349),s.e(2388)]).then(s.bind(s,84385)),UDP:()=>Promise.all([s.e(7497),s.e(5237),s.e(1160),s.e(5983),s.e(1323),s.e(5624),s.e(1189),s.e(6617),s.e(5640),s.e(2559),s.e(2365),s.e(3800),s.e(3291),s.e(3876),s.e(9882),s.e(7261),s.e(7383),s.e(4394),s.e(4625),s.e(510),s.e(4824)]).then(s.bind(s,4824)),Modal:n.A,WizardStep:r["default"]};for(let T of h)b[T.component]=()=>s(6524)(`./${T.component}.vue`);const u={name:"WizardModal",mixins:[l.A],components:b,data(){return{show:!0,selected:null,usecases:[{component:"Download",title:"Download Data",description:"Just download a small portion of data."},{component:"UDP",title:()=>"string"===typeof this.options.process?this.options.process.replace(/@.+/,""):"Run UDP",description:"Executes a user-defined process"},...c.A.supportedWizards||[]],activeTabIndex:0,currentPercentage:0,maxStep:0,tabs:[],process:null}},props:{preselectUsecase:{type:String,default:null},options:{type:Object,default:()=>({})}},created(){this.preselectUsecase&&(this.selected=this.usecases.find((e=>e.component===this.preselectUsecase))||null)},computed:{...o.A.mapGetters(["supports"]),supportsJobs(){return this.supports("createJob")&&this.supports("startJob")},supportsSync(){return this.supports("computeResult")},self(){return this},width(){return this.selected?"90%":"50%"},title(){let e="Process Wizard";return this.selected&&(e+=": "+this.getUsecaseTitle(this.selected)),e},isLastStep(){return this.activeTabIndex===this.tabs.length-1},progressBarStyle(){return{backgroundColor:this.color,width:`${this.progress}%`,color:this.color}},progress(){let e=1/(2*this.tabs.length)*100;return this.activeTabIndex>0&&(e*=2*this.activeTabIndex+1),e}},methods:{...o.A.mapMutations("editor",["setProcess"]),start(e){this.selected=e},reset(){this.selected=null,this.activeTabIndex=0,this.currentPercentage=0,this.maxStep=0,this.tabs=[]},close(e=null){this.show=!1,e&&o.A.error(this,e,"Wizard Error")},async execute({process:e,mode:t,modeOptions:s}){this.setProcess(e),"sync"==t&&this.supportsSync?this.broadcast("executeProcess"):"job"==t&&this.supportsJobs&&this.broadcast("startAndQueueProcess",s)},getUsecaseTitle(e){return"function"==typeof e.title?e.title():e.title},addTab(e,t){this.tabs.splice(t,0,e),t<this.activeTabIndex+1&&(this.maxStep=t,this.changeTab(this.activeTabIndex+1,t))},removeTab(e){const t=this.tabs.indexOf(e);t>-1&&(t===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),t<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1),this.tabs.splice(t,1))},navigateToTab(e){let t=e>this.activeTabIndex;if(e<=this.maxStep){let s=()=>{t&&e-this.activeTabIndex>1?(this.changeTab(this.activeTabIndex,this.activeTabIndex+1),this.beforeTabChange(this.activeTabIndex,s)):(this.changeTab(this.activeTabIndex,e),this.afterTabChange(this.activeTabIndex))};t?this.beforeTabChange(this.activeTabIndex,s):(this.setValidationError(null),s())}return e<=this.maxStep},nextTab(){let e=()=>{this.activeTabIndex<this.tabs.length-1?(this.changeTab(this.activeTabIndex,this.activeTabIndex+1),this.afterTabChange(this.activeTabIndex)):this.isLastStep&&this.$refs.component.finish().then(this.close).catch((e=>{e instanceof d.QJ?(e.isError?o.A.exception(this,e,e.title):o.A.ok(this,e.message,e.title),e.close&&this.close()):o.A.exception(this,e)}))};this.beforeTabChange(this.activeTabIndex,e)},prevTab(){let e=()=>{this.activeTabIndex>0&&(this.setValidationError(null),this.changeTab(this.activeTabIndex,this.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,e):e()},setValidationError(e){e&&o.A.error(this,e),this.tabs[this.activeTabIndex].validationError=e},beforeTabChange(e,t){const s="Please fill the form";this.setValidationError(null);let a=this.tabs[e];if(a&&void 0!==a.beforeChange)try{let e=a.beforeChange();e instanceof Promise?e.then((e=>e?t():this.setValidationError(s))).catch((e=>this.setValidationError(e.message))):e?t():this.setValidationError(s)}catch(i){this.setValidationError(i.message)}else t()},afterTabChange(e){let t=this.tabs[e];t&&void 0!==t.afterChange&&t.afterChange()},changeTab(e,t){let s=this.tabs[e],a=this.tabs[t];return s&&(s.active=!1),a&&(a.active=!0),this.activeTabIndex=t,this.activateTabAndCheckStep(this.activeTabIndex),!0},deactivateTabs(){this.tabs.forEach((e=>e.active=!1))},activateTab(e){this.deactivateTabs();let t=this.tabs[e];t&&(t.active=!0,t.checked=!0)},activateTabAndCheckStep(e){this.activateTab(e),e>this.maxStep&&(this.maxStep=e),this.activeTabIndex=e},initializeTabs(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):console.warn(`Prop startIndex set to ${this.startIndex} is greater than the number of tabs - ${this.tabs.length}. Make sure that the starting index is less than the number of tabs registered`)}}},p=u;var v=s(81656),x=(0,v.A)(p,a,i,!1,null,null,null);const f=x.exports},15559:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=function(){var e=this,t=e._self._c;return t("li",{class:{active:e.tab.active,error:e.tab.validationError,checked:e.tab.checked}},[t("a",{class:{disabled:!e.tab.checked},attrs:{href:"javascript:void(0)"}},[t("div",{staticClass:"wizard-icon-circle",attrs:{tabindex:e.tab.checked?0:""}},[t("transition",{attrs:{mode:"out-in"}},[e.tab.active?t("div",{staticClass:"wizard-icon-container"},[t("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])]):t("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],1),t("span",{staticClass:"stepTitle"},[e._v(e._s(e.tab.title))])])])},i=[];const n={name:"wizard-step",props:{tab:{type:Object,required:!0},index:{type:Number,required:!0}}},r=n;var o=s(81656),c=(0,o.A)(r,a,i,!1,null,null,null);const l=c.exports},99017:(e,t,s)=>{"use strict";s.d(t,{Kt:()=>c,QJ:()=>n,Vz:()=>r});var a=s(73902),i=s(2566);class n extends Error{constructor(e,t=null,s=null,a=!0,i=!0){super(e,{cause:s}),this.title=t,this.close=a,this.isError=i}}function r(e,t){t instanceof n&&(t.isError?i.A.error(e,t.message,t.title):i.A.ok(e,t.message,t.title))}let o={};async function c(e,t,s){o[s]?o[s]++:o[s]=1;const r=new a.AbortController,c=Object.assign({},e.$config.snotifyDefaults,{timeout:0,type:"async",buttons:[{text:"Cancel",action:()=>{r.abort()}}]});let l;const d=`${s} #${o[s]}`;try{const s="Processing in progress, please wait...",a=()=>new Promise((()=>{}));l=e.$snotify.async(s,d,a,c),await t(r)}catch(h){if(axios.isCancel(h))throw new n("Cancelled successfully",d,h,!1,!1);if("string"!==typeof h.message||!i.A.isObject(h.response)||![400,500].includes(h.response.status))throw new n(h.message,d,h,!1);e.broadcast("viewLogs",[{id:h.id,code:h.code,level:"error",message:h.message,links:h.links||[]}]),i.A.error(e,`${s} failed. Please see the logs for details.`,d)}finally{l&&e.$snotify.remove(l.id,!0)}}},6524:(e,t,s)=>{var a={"./Download.vue":[84385,1160,5983,1323,5624,1189,6617,5640,2559,2365,3800,3291,3876,9882,5262,7349,2388],"./SpectralIndices.vue":[26305,1160,5983,1323,5624,1189,6617,5640,2559,2365,3800,3291,3876,9882,5262,7349,1765],"./UDP.vue":[4824,7497,5237,1160,5983,1323,5624,1189,6617,5640,2559,2365,3800,3291,3876,9882,7261,7383,4394,4625,510,4824],"./components/WizardStep.vue":[15559],"./components/WizardTab.vue":[4477,4477],"./tabs/ChooseBoundingBox.vue":[34862,1160,5983,1323,5624,1189,6617,5640,2559,2365,3800,3291,3876,9882,9403],"./tabs/ChooseCollection.vue":[4475,4475],"./tabs/ChooseFormat.vue":[79066,5262,9066],"./tabs/ChooseProcessParameters.vue":[31237,7497,5237,1160,5983,1323,5624,1189,6617,5640,2559,2365,3800,3291,3876,9882,7261,7383,4394,4625,510,1237],"./tabs/ChooseProcessingMode.vue":[37186,7186],"./tabs/ChooseReducer.vue":[46036,5262,6036],"./tabs/ChooseSpectralIndices.vue":[39201,9201],"./tabs/ChooseTime.vue":[62804,7349,8080],"./tabs/ChooseUserDefinedProcess.vue":[37336,7336]};function i(e){if(!s.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return Promise.all(t.slice(1).map(s.e)).then((()=>s(i)))}i.keys=()=>Object.keys(a),i.id=6524,e.exports=i}}]);
//# sourceMappingURL=1533.eba1911b.js.map