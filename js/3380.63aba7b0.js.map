{"version":3,"file":"js/3380.63aba7b0.js","mappings":"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","sources":["webpack://@openeo/web-editor/./node_modules/ol/array.js","webpack://@openeo/web-editor/./node_modules/ol/centerconstraint.js","webpack://@openeo/web-editor/./node_modules/ol/color.js","webpack://@openeo/web-editor/./node_modules/ol/colorlike.js","webpack://@openeo/web-editor/./node_modules/ol/control/Attribution.js","webpack://@openeo/web-editor/./node_modules/ol/control/Rotate.js","webpack://@openeo/web-editor/./node_modules/ol/control/Zoom.js","webpack://@openeo/web-editor/./node_modules/ol/control.js","webpack://@openeo/web-editor/./node_modules/ol/control/Control.js","webpack://@openeo/web-editor/./node_modules/ol/control/FullScreen.js","webpack://@openeo/web-editor/./node_modules/ol/control/ScaleLine.js","webpack://@openeo/web-editor/./node_modules/ol/css.js","webpack://@openeo/web-editor/./node_modules/ol/dom.js","webpack://@openeo/web-editor/./node_modules/ol/easing.js","webpack://@openeo/web-editor/./node_modules/ol/events.js","webpack://@openeo/web-editor/./node_modules/ol/events/Event.js","webpack://@openeo/web-editor/./node_modules/ol/events/EventType.js","webpack://@openeo/web-editor/./node_modules/ol/events/KeyCode.js","webpack://@openeo/web-editor/./node_modules/ol/events/Target.js","webpack://@openeo/web-editor/./node_modules/ol/events/condition.js","webpack://@openeo/web-editor/./node_modules/ol/featureloader.js","webpack://@openeo/web-editor/./node_modules/ol/format/Feature.js","webpack://@openeo/web-editor/./node_modules/ol/format/JSONFeature.js","webpack://@openeo/web-editor/./node_modules/ol/format/GeoJSON.js"],"sourcesContent":["/**\n * @module ol/array\n */\n/**\n * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n * https://github.com/darkskyapp/binary-search\n *\n * @param {Array<*>} haystack Items to search through.\n * @param {*} needle The item to look for.\n * @param {Function} [opt_comparator] Comparator function.\n * @return {number} The index of the item if found, -1 if not.\n */\nexport function binarySearch(haystack, needle, opt_comparator) {\n    var mid, cmp;\n    var comparator = opt_comparator || numberSafeCompareFunction;\n    var low = 0;\n    var high = haystack.length;\n    var found = false;\n    while (low < high) {\n        /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n         * to double (which gives the wrong results). */\n        mid = low + ((high - low) >> 1);\n        cmp = +comparator(haystack[mid], needle);\n        if (cmp < 0.0) {\n            /* Too low. */\n            low = mid + 1;\n        }\n        else {\n            /* Key found or too high */\n            high = mid;\n            found = !cmp;\n        }\n    }\n    /* Key not found. */\n    return found ? low : ~low;\n}\n/**\n * Compare function for array sort that is safe for numbers.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\nexport function numberSafeCompareFunction(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n}\n/**\n * Whether the array contains the given object.\n * @param {Array<*>} arr The array to test for the presence of the element.\n * @param {*} obj The object for which to test.\n * @return {boolean} The object is in the array.\n */\nexport function includes(arr, obj) {\n    return arr.indexOf(obj) >= 0;\n}\n/**\n * {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution} can use a function\n * of this type to determine which nearest resolution to use.\n *\n * This function takes a `{number}` representing a value between two array entries,\n * a `{number}` representing the value of the nearest higher entry and\n * a `{number}` representing the value of the nearest lower entry\n * as arguments and returns a `{number}`. If a negative number or zero is returned\n * the lower value will be used, if a positive number is returned the higher value\n * will be used.\n * @typedef {function(number, number, number): number} NearestDirectionFunction\n * @api\n */\n/**\n * @param {Array<number>} arr Array in descending order.\n * @param {number} target Target.\n * @param {number|NearestDirectionFunction} direction\n *    0 means return the nearest,\n *    > 0 means return the largest nearest,\n *    < 0 means return the smallest nearest.\n * @return {number} Index.\n */\nexport function linearFindNearest(arr, target, direction) {\n    var n = arr.length;\n    if (arr[0] <= target) {\n        return 0;\n    }\n    else if (target <= arr[n - 1]) {\n        return n - 1;\n    }\n    else {\n        var i = void 0;\n        if (direction > 0) {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] < target) {\n                    return i - 1;\n                }\n            }\n        }\n        else if (direction < 0) {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] <= target) {\n                    return i;\n                }\n            }\n        }\n        else {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] == target) {\n                    return i;\n                }\n                else if (arr[i] < target) {\n                    if (typeof direction === 'function') {\n                        if (direction(target, arr[i - 1], arr[i]) > 0) {\n                            return i - 1;\n                        }\n                        else {\n                            return i;\n                        }\n                    }\n                    else if (arr[i - 1] - target < target - arr[i]) {\n                        return i - 1;\n                    }\n                    else {\n                        return i;\n                    }\n                }\n            }\n        }\n        return n - 1;\n    }\n}\n/**\n * @param {Array<*>} arr Array.\n * @param {number} begin Begin index.\n * @param {number} end End index.\n */\nexport function reverseSubArray(arr, begin, end) {\n    while (begin < end) {\n        var tmp = arr[begin];\n        arr[begin] = arr[end];\n        arr[end] = tmp;\n        ++begin;\n        --end;\n    }\n}\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n * @template VALUE\n */\nexport function extend(arr, data) {\n    var extension = Array.isArray(data) ? data : [data];\n    var length = extension.length;\n    for (var i = 0; i < length; i++) {\n        arr[arr.length] = extension[i];\n    }\n}\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {VALUE} obj The element to remove.\n * @template VALUE\n * @return {boolean} If the element was removed.\n */\nexport function remove(arr, obj) {\n    var i = arr.indexOf(obj);\n    var found = i > -1;\n    if (found) {\n        arr.splice(i, 1);\n    }\n    return found;\n}\n/**\n * @param {Array<VALUE>} arr The array to search in.\n * @param {function(VALUE, number, ?) : boolean} func The function to compare.\n * @template VALUE\n * @return {VALUE|null} The element found or null.\n */\nexport function find(arr, func) {\n    var length = arr.length >>> 0;\n    var value;\n    for (var i = 0; i < length; i++) {\n        value = arr[i];\n        if (func(value, i, arr)) {\n            return value;\n        }\n    }\n    return null;\n}\n/**\n * @param {Array|Uint8ClampedArray} arr1 The first array to compare.\n * @param {Array|Uint8ClampedArray} arr2 The second array to compare.\n * @return {boolean} Whether the two arrays are equal.\n */\nexport function equals(arr1, arr2) {\n    var len1 = arr1.length;\n    if (len1 !== arr2.length) {\n        return false;\n    }\n    for (var i = 0; i < len1; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Sort the passed array such that the relative order of equal elements is preserved.\n * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n * @param {Array<*>} arr The array to sort (modifies original).\n * @param {!function(*, *): number} compareFnc Comparison function.\n * @api\n */\nexport function stableSort(arr, compareFnc) {\n    var length = arr.length;\n    var tmp = Array(arr.length);\n    var i;\n    for (i = 0; i < length; i++) {\n        tmp[i] = { index: i, value: arr[i] };\n    }\n    tmp.sort(function (a, b) {\n        return compareFnc(a.value, b.value) || a.index - b.index;\n    });\n    for (i = 0; i < arr.length; i++) {\n        arr[i] = tmp[i].value;\n    }\n}\n/**\n * @param {Array<*>} arr The array to search in.\n * @param {Function} func Comparison function.\n * @return {number} Return index.\n */\nexport function findIndex(arr, func) {\n    var index;\n    var found = !arr.every(function (el, idx) {\n        index = idx;\n        return !func(el, idx, arr);\n    });\n    return found ? index : -1;\n}\n/**\n * @param {Array<*>} arr The array to test.\n * @param {Function} [opt_func] Comparison function.\n * @param {boolean} [opt_strict] Strictly sorted (default false).\n * @return {boolean} Return index.\n */\nexport function isSorted(arr, opt_func, opt_strict) {\n    var compare = opt_func || numberSafeCompareFunction;\n    return arr.every(function (currentVal, index) {\n        if (index === 0) {\n            return true;\n        }\n        var res = compare(arr[index - 1], currentVal);\n        return !(res > 0 || (opt_strict && res === 0));\n    });\n}\n//# sourceMappingURL=array.js.map","/**\n * @module ol/centerconstraint\n */\nimport { clamp } from './math.js';\n/**\n * @typedef {function((import(\"./coordinate.js\").Coordinate|undefined), number, import(\"./size.js\").Size, boolean=, Array<number>=): (import(\"./coordinate.js\").Coordinate|undefined)} Type\n */\n/**\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {boolean} onlyCenter If true, the constraint will only apply to the view center.\n * @param {boolean} smooth If true, the view will be able to go slightly out of the given extent\n * (only during interaction and animation).\n * @return {Type} The constraint.\n */\nexport function createExtent(extent, onlyCenter, smooth) {\n    return (\n    /**\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center Center.\n     * @param {number|undefined} resolution Resolution.\n     * @param {import(\"./size.js\").Size} size Viewport size; unused if `onlyCenter` was specified.\n     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.\n     * @param {Array<number>} [opt_centerShift] Shift between map center and viewport center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n     */\n    function (center, resolution, size, opt_isMoving, opt_centerShift) {\n        if (!center) {\n            return undefined;\n        }\n        if (!resolution && !onlyCenter) {\n            return center;\n        }\n        var viewWidth = onlyCenter ? 0 : size[0] * resolution;\n        var viewHeight = onlyCenter ? 0 : size[1] * resolution;\n        var shiftX = opt_centerShift ? opt_centerShift[0] : 0;\n        var shiftY = opt_centerShift ? opt_centerShift[1] : 0;\n        var minX = extent[0] + viewWidth / 2 + shiftX;\n        var maxX = extent[2] - viewWidth / 2 + shiftX;\n        var minY = extent[1] + viewHeight / 2 + shiftY;\n        var maxY = extent[3] - viewHeight / 2 + shiftY;\n        // note: when zooming out of bounds, min and max values for x and y may\n        // end up inverted (min > max); this has to be accounted for\n        if (minX > maxX) {\n            minX = (maxX + minX) / 2;\n            maxX = minX;\n        }\n        if (minY > maxY) {\n            minY = (maxY + minY) / 2;\n            maxY = minY;\n        }\n        var x = clamp(center[0], minX, maxX);\n        var y = clamp(center[1], minY, maxY);\n        // during an interaction, allow some overscroll\n        if (opt_isMoving && smooth && resolution) {\n            var ratio = 30 * resolution;\n            x +=\n                -ratio * Math.log(1 + Math.max(0, minX - center[0]) / ratio) +\n                    ratio * Math.log(1 + Math.max(0, center[0] - maxX) / ratio);\n            y +=\n                -ratio * Math.log(1 + Math.max(0, minY - center[1]) / ratio) +\n                    ratio * Math.log(1 + Math.max(0, center[1] - maxY) / ratio);\n        }\n        return [x, y];\n    });\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} [center] Center.\n * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n */\nexport function none(center) {\n    return center;\n}\n//# sourceMappingURL=centerconstraint.js.map","/**\n * @module ol/color\n */\nimport { assert } from './asserts.js';\nimport { clamp } from './math.js';\n/**\n * A color represented as a short array [red, green, blue, alpha].\n * red, green, and blue should be integers in the range 0..255 inclusive.\n * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n * given then `1` will be used.\n * @typedef {Array<number>} Color\n * @api\n */\n/**\n * This RegExp matches # followed by 3, 4, 6, or 8 hex digits.\n * @const\n * @type {RegExp}\n * @private\n */\nvar HEX_COLOR_RE_ = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;\n/**\n * Regular expression for matching potential named color style strings.\n * @const\n * @type {RegExp}\n * @private\n */\nvar NAMED_COLOR_RE_ = /^([a-z]*)$|^hsla?\\(.*\\)$/i;\n/**\n * Return the color as an rgba string.\n * @param {Color|string} color Color.\n * @return {string} Rgba string.\n * @api\n */\nexport function asString(color) {\n    if (typeof color === 'string') {\n        return color;\n    }\n    else {\n        return toString(color);\n    }\n}\n/**\n * Return named color as an rgba string.\n * @param {string} color Named color.\n * @return {string} Rgb string.\n */\nfunction fromNamed(color) {\n    var el = document.createElement('div');\n    el.style.color = color;\n    if (el.style.color !== '') {\n        document.body.appendChild(el);\n        var rgb = getComputedStyle(el).color;\n        document.body.removeChild(el);\n        return rgb;\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {string} s String.\n * @return {Color} Color.\n */\nexport var fromString = (function () {\n    // We maintain a small cache of parsed strings.  To provide cheap LRU-like\n    // semantics, whenever the cache grows too large we simply delete an\n    // arbitrary 25% of the entries.\n    /**\n     * @const\n     * @type {number}\n     */\n    var MAX_CACHE_SIZE = 1024;\n    /**\n     * @type {Object<string, Color>}\n     */\n    var cache = {};\n    /**\n     * @type {number}\n     */\n    var cacheSize = 0;\n    return (\n    /**\n     * @param {string} s String.\n     * @return {Color} Color.\n     */\n    function (s) {\n        var color;\n        if (cache.hasOwnProperty(s)) {\n            color = cache[s];\n        }\n        else {\n            if (cacheSize >= MAX_CACHE_SIZE) {\n                var i = 0;\n                for (var key in cache) {\n                    if ((i++ & 3) === 0) {\n                        delete cache[key];\n                        --cacheSize;\n                    }\n                }\n            }\n            color = fromStringInternal_(s);\n            cache[s] = color;\n            ++cacheSize;\n        }\n        return color;\n    });\n})();\n/**\n * Return the color as an array. This function maintains a cache of calculated\n * arrays which means the result should not be modified.\n * @param {Color|string} color Color.\n * @return {Color} Color.\n * @api\n */\nexport function asArray(color) {\n    if (Array.isArray(color)) {\n        return color;\n    }\n    else {\n        return fromString(color);\n    }\n}\n/**\n * @param {string} s String.\n * @private\n * @return {Color} Color.\n */\nfunction fromStringInternal_(s) {\n    var r, g, b, a, color;\n    if (NAMED_COLOR_RE_.exec(s)) {\n        s = fromNamed(s);\n    }\n    if (HEX_COLOR_RE_.exec(s)) {\n        // hex\n        var n = s.length - 1; // number of hex digits\n        var d = // number of digits per channel\n         void 0; // number of digits per channel\n        if (n <= 4) {\n            d = 1;\n        }\n        else {\n            d = 2;\n        }\n        var hasAlpha = n === 4 || n === 8;\n        r = parseInt(s.substr(1 + 0 * d, d), 16);\n        g = parseInt(s.substr(1 + 1 * d, d), 16);\n        b = parseInt(s.substr(1 + 2 * d, d), 16);\n        if (hasAlpha) {\n            a = parseInt(s.substr(1 + 3 * d, d), 16);\n        }\n        else {\n            a = 255;\n        }\n        if (d == 1) {\n            r = (r << 4) + r;\n            g = (g << 4) + g;\n            b = (b << 4) + b;\n            if (hasAlpha) {\n                a = (a << 4) + a;\n            }\n        }\n        color = [r, g, b, a / 255];\n    }\n    else if (s.indexOf('rgba(') == 0) {\n        // rgba()\n        color = s.slice(5, -1).split(',').map(Number);\n        normalize(color);\n    }\n    else if (s.indexOf('rgb(') == 0) {\n        // rgb()\n        color = s.slice(4, -1).split(',').map(Number);\n        color.push(1);\n        normalize(color);\n    }\n    else {\n        assert(false, 14); // Invalid color\n    }\n    return color;\n}\n/**\n * TODO this function is only used in the test, we probably shouldn't export it\n * @param {Color} color Color.\n * @return {Color} Clamped color.\n */\nexport function normalize(color) {\n    color[0] = clamp((color[0] + 0.5) | 0, 0, 255);\n    color[1] = clamp((color[1] + 0.5) | 0, 0, 255);\n    color[2] = clamp((color[2] + 0.5) | 0, 0, 255);\n    color[3] = clamp(color[3], 0, 1);\n    return color;\n}\n/**\n * @param {Color} color Color.\n * @return {string} String.\n */\nexport function toString(color) {\n    var r = color[0];\n    if (r != (r | 0)) {\n        r = (r + 0.5) | 0;\n    }\n    var g = color[1];\n    if (g != (g | 0)) {\n        g = (g + 0.5) | 0;\n    }\n    var b = color[2];\n    if (b != (b | 0)) {\n        b = (b + 0.5) | 0;\n    }\n    var a = color[3] === undefined ? 1 : Math.round(color[3] * 100) / 100;\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n}\n/**\n * @param {string} s String.\n * @return {boolean} Whether the string is actually a valid color\n */\nexport function isStringColor(s) {\n    if (NAMED_COLOR_RE_.test(s)) {\n        s = fromNamed(s);\n    }\n    return (HEX_COLOR_RE_.test(s) || s.indexOf('rgba(') === 0 || s.indexOf('rgb(') === 0);\n}\n//# sourceMappingURL=color.js.map","/**\n * @module ol/colorlike\n */\nimport { toString } from './color.js';\n/**\n * A type accepted by CanvasRenderingContext2D.fillStyle\n * or CanvasRenderingContext2D.strokeStyle.\n * Represents a color, pattern, or gradient. The origin for patterns and\n * gradients as fill style is an increment of 512 css pixels from map coordinate\n * `[0, 0]`. For seamless repeat patterns, width and height of the pattern image\n * must be a factor of two (2, 4, 8, ..., 512).\n *\n * @typedef {string|CanvasPattern|CanvasGradient} ColorLike\n * @api\n */\n/**\n * @param {import(\"./color.js\").Color|ColorLike} color Color.\n * @return {ColorLike} The color as an {@link ol/colorlike~ColorLike}.\n * @api\n */\nexport function asColorLike(color) {\n    if (Array.isArray(color)) {\n        return toString(color);\n    }\n    else {\n        return color;\n    }\n}\n//# sourceMappingURL=colorlike.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Attribution\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_COLLAPSED, CLASS_CONTROL, CLASS_UNSELECTABLE } from '../css.js';\nimport { equals } from '../array.js';\nimport { inView } from '../layer/Layer.js';\nimport { removeChildren, replaceNode } from '../dom.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-attribution'] CSS class name.\n * @property {HTMLElement|string} [target] Specify a target if you\n * want the control to be rendered outside of the map's\n * viewport.\n * @property {boolean} [collapsible] Specify if attributions can\n * be collapsed. If not specified, sources control this behavior with their\n * `attributionsCollapsible` setting.\n * @property {boolean} [collapsed=true] Specify if attributions should\n * be collapsed at startup.\n * @property {string} [tipLabel='Attributions'] Text label to use for the button tip.\n * @property {string|HTMLElement} [label='i'] Text label to use for the\n * collapsed attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [expandClassName=className + '-expand'] CSS class name for the\n * collapsed attributions button.\n * @property {string|HTMLElement} [collapseLabel='›'] Text label to use\n * for the expanded attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [collapseClassName=className + '-collapse'] CSS class name for the\n * expanded attributions button.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n */\n/**\n * @classdesc\n * Control to show all the attributions associated with the layer sources\n * in the map. This control is one of the default controls included in maps.\n * By default it will show in the bottom right portion of the map, but this can\n * be changed by using a css selector for `.ol-attribution`.\n *\n * @api\n */\nvar Attribution = /** @class */ (function (_super) {\n    __extends(Attribution, _super);\n    /**\n     * @param {Options} [opt_options] Attribution options.\n     */\n    function Attribution(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.ulElement_ = document.createElement('ul');\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.collapsed_ =\n            options.collapsed !== undefined ? options.collapsed : true;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.userCollapsed_ = _this.collapsed_;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overrideCollapsible_ = options.collapsible !== undefined;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.collapsible_ =\n            options.collapsible !== undefined ? options.collapsible : true;\n        if (!_this.collapsible_) {\n            _this.collapsed_ = false;\n        }\n        var className = options.className !== undefined ? options.className : 'ol-attribution';\n        var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Attributions';\n        var expandClassName = options.expandClassName !== undefined\n            ? options.expandClassName\n            : className + '-expand';\n        var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u203A';\n        var collapseClassName = options.collapseClassName !== undefined\n            ? options.collapseClassName\n            : className + '-collapse';\n        if (typeof collapseLabel === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.collapseLabel_ = document.createElement('span');\n            _this.collapseLabel_.textContent = collapseLabel;\n            _this.collapseLabel_.className = collapseClassName;\n        }\n        else {\n            _this.collapseLabel_ = collapseLabel;\n        }\n        var label = options.label !== undefined ? options.label : 'i';\n        if (typeof label === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.label_ = document.createElement('span');\n            _this.label_.textContent = label;\n            _this.label_.className = expandClassName;\n        }\n        else {\n            _this.label_ = label;\n        }\n        var activeLabel = _this.collapsible_ && !_this.collapsed_ ? _this.collapseLabel_ : _this.label_;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.toggleButton_ = document.createElement('button');\n        _this.toggleButton_.setAttribute('type', 'button');\n        _this.toggleButton_.setAttribute('aria-expanded', String(!_this.collapsed_));\n        _this.toggleButton_.title = tipLabel;\n        _this.toggleButton_.appendChild(activeLabel);\n        _this.toggleButton_.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        var cssClasses = className +\n            ' ' +\n            CLASS_UNSELECTABLE +\n            ' ' +\n            CLASS_CONTROL +\n            (_this.collapsed_ && _this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n            (_this.collapsible_ ? '' : ' ol-uncollapsible');\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(_this.toggleButton_);\n        element.appendChild(_this.ulElement_);\n        /**\n         * A list of currently rendered resolutions.\n         * @type {Array<string>}\n         * @private\n         */\n        _this.renderedAttributions_ = [];\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = true;\n        return _this;\n    }\n    /**\n     * Collect a list of visible attributions and set the collapsible state.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {Array<string>} Attributions.\n     * @private\n     */\n    Attribution.prototype.collectSourceAttributions_ = function (frameState) {\n        /**\n         * Used to determine if an attribution already exists.\n         * @type {!Object<string, boolean>}\n         */\n        var lookup = {};\n        /**\n         * A list of visible attributions.\n         * @type {Array<string>}\n         */\n        var visibleAttributions = [];\n        var collapsible = true;\n        var layerStatesArray = frameState.layerStatesArray;\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n            var layerState = layerStatesArray[i];\n            if (!inView(layerState, frameState.viewState)) {\n                continue;\n            }\n            var source = /** @type {import(\"../layer/Layer.js\").default} */ (layerState.layer).getSource();\n            if (!source) {\n                continue;\n            }\n            var attributionGetter = source.getAttributions();\n            if (!attributionGetter) {\n                continue;\n            }\n            var attributions = attributionGetter(frameState);\n            if (!attributions) {\n                continue;\n            }\n            collapsible =\n                collapsible && source.getAttributionsCollapsible() !== false;\n            if (Array.isArray(attributions)) {\n                for (var j = 0, jj = attributions.length; j < jj; ++j) {\n                    if (!(attributions[j] in lookup)) {\n                        visibleAttributions.push(attributions[j]);\n                        lookup[attributions[j]] = true;\n                    }\n                }\n            }\n            else {\n                if (!(attributions in lookup)) {\n                    visibleAttributions.push(attributions);\n                    lookup[attributions] = true;\n                }\n            }\n        }\n        if (!this.overrideCollapsible_) {\n            this.setCollapsible(collapsible);\n        }\n        return visibleAttributions;\n    };\n    /**\n     * @private\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    Attribution.prototype.updateElement_ = function (frameState) {\n        if (!frameState) {\n            if (this.renderedVisible_) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        var attributions = this.collectSourceAttributions_(frameState);\n        var visible = attributions.length > 0;\n        if (this.renderedVisible_ != visible) {\n            this.element.style.display = visible ? '' : 'none';\n            this.renderedVisible_ = visible;\n        }\n        if (equals(attributions, this.renderedAttributions_)) {\n            return;\n        }\n        removeChildren(this.ulElement_);\n        // append the attributions\n        for (var i = 0, ii = attributions.length; i < ii; ++i) {\n            var element = document.createElement('li');\n            element.innerHTML = attributions[i];\n            this.ulElement_.appendChild(element);\n        }\n        this.renderedAttributions_ = attributions;\n    };\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Attribution.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        this.handleToggle_();\n        this.userCollapsed_ = this.collapsed_;\n    };\n    /**\n     * @private\n     */\n    Attribution.prototype.handleToggle_ = function () {\n        this.element.classList.toggle(CLASS_COLLAPSED);\n        if (this.collapsed_) {\n            replaceNode(this.collapseLabel_, this.label_);\n        }\n        else {\n            replaceNode(this.label_, this.collapseLabel_);\n        }\n        this.collapsed_ = !this.collapsed_;\n        this.toggleButton_.setAttribute('aria-expanded', String(!this.collapsed_));\n    };\n    /**\n     * Return `true` if the attribution is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.getCollapsible = function () {\n        return this.collapsible_;\n    };\n    /**\n     * Set whether the attribution should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.setCollapsible = function (collapsible) {\n        if (this.collapsible_ === collapsible) {\n            return;\n        }\n        this.collapsible_ = collapsible;\n        this.element.classList.toggle('ol-uncollapsible');\n        if (this.userCollapsed_) {\n            this.handleToggle_();\n        }\n    };\n    /**\n     * Collapse or expand the attribution according to the passed parameter. Will\n     * not do anything if the attribution isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.setCollapsed = function (collapsed) {\n        this.userCollapsed_ = collapsed;\n        if (!this.collapsible_ || this.collapsed_ === collapsed) {\n            return;\n        }\n        this.handleToggle_();\n    };\n    /**\n     * Return `true` when the attribution is currently collapsed or `false`\n     * otherwise.\n     * @return {boolean} True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.getCollapsed = function () {\n        return this.collapsed_;\n    };\n    /**\n     * Update the attribution element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    Attribution.prototype.render = function (mapEvent) {\n        this.updateElement_(mapEvent.frameState);\n    };\n    return Attribution;\n}(Control));\nexport default Attribution;\n//# sourceMappingURL=Attribution.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Rotate\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_CONTROL, CLASS_HIDDEN, CLASS_UNSELECTABLE } from '../css.js';\nimport { easeOut } from '../easing.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-rotate'] CSS class name.\n * @property {string|HTMLElement} [label='⇧'] Text label to use for the rotate button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n * @property {string} [compassClassName='ol-compass'] CSS class name for the compass.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control should\n * be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {function():void} [resetNorth] Function called when the control is clicked.\n * This will override the default `resetNorth`.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A button control to reset rotation to 0.\n * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n * selector is added to the button when the rotation is 0.\n *\n * @api\n */\nvar Rotate = /** @class */ (function (_super) {\n    __extends(Rotate, _super);\n    /**\n     * @param {Options} [opt_options] Rotate options.\n     */\n    function Rotate(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        var className = options.className !== undefined ? options.className : 'ol-rotate';\n        var label = options.label !== undefined ? options.label : '\\u21E7';\n        var compassClassName = options.compassClassName !== undefined\n            ? options.compassClassName\n            : 'ol-compass';\n        /**\n         * @type {HTMLElement}\n         * @private\n         */\n        _this.label_ = null;\n        if (typeof label === 'string') {\n            _this.label_ = document.createElement('span');\n            _this.label_.className = compassClassName;\n            _this.label_.textContent = label;\n        }\n        else {\n            _this.label_ = label;\n            _this.label_.classList.add(compassClassName);\n        }\n        var tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n        var button = document.createElement('button');\n        button.className = className + '-reset';\n        button.setAttribute('type', 'button');\n        button.title = tipLabel;\n        button.appendChild(_this.label_);\n        button.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(button);\n        _this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.rotation_ = undefined;\n        if (_this.autoHide_) {\n            _this.element.classList.add(CLASS_HIDDEN);\n        }\n        return _this;\n    }\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Rotate.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        if (this.callResetNorth_ !== undefined) {\n            this.callResetNorth_();\n        }\n        else {\n            this.resetNorth_();\n        }\n    };\n    /**\n     * @private\n     */\n    Rotate.prototype.resetNorth_ = function () {\n        var map = this.getMap();\n        var view = map.getView();\n        if (!view) {\n            // the map does not have a view, so we can't act\n            // upon it\n            return;\n        }\n        var rotation = view.getRotation();\n        if (rotation !== undefined) {\n            if (this.duration_ > 0 && rotation % (2 * Math.PI) !== 0) {\n                view.animate({\n                    rotation: 0,\n                    duration: this.duration_,\n                    easing: easeOut,\n                });\n            }\n            else {\n                view.setRotation(0);\n            }\n        }\n    };\n    /**\n     * Update the rotate control element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    Rotate.prototype.render = function (mapEvent) {\n        var frameState = mapEvent.frameState;\n        if (!frameState) {\n            return;\n        }\n        var rotation = frameState.viewState.rotation;\n        if (rotation != this.rotation_) {\n            var transform = 'rotate(' + rotation + 'rad)';\n            if (this.autoHide_) {\n                var contains = this.element.classList.contains(CLASS_HIDDEN);\n                if (!contains && rotation === 0) {\n                    this.element.classList.add(CLASS_HIDDEN);\n                }\n                else if (contains && rotation !== 0) {\n                    this.element.classList.remove(CLASS_HIDDEN);\n                }\n            }\n            this.label_.style.transform = transform;\n        }\n        this.rotation_ = rotation;\n    };\n    return Rotate;\n}(Control));\nexport default Rotate;\n//# sourceMappingURL=Rotate.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Zoom\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_CONTROL, CLASS_UNSELECTABLE } from '../css.js';\nimport { easeOut } from '../easing.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {string} [className='ol-zoom'] CSS class name.\n * @property {string} [zoomInClassName=className + '-in'] CSS class name for the zoom-in button.\n * @property {string} [zoomOutClassName=className + '-out'] CSS class name for the zoom-out button.\n * @property {string|HTMLElement} [zoomInLabel='+'] Text label to use for the zoom-in\n * button. Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|HTMLElement} [zoomOutLabel='–'] Text label to use for the zoom-out button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [zoomInTipLabel='Zoom in'] Text label to use for the button tip.\n * @property {string} [zoomOutTipLabel='Zoom out'] Text label to use for the button tip.\n * @property {number} [delta=1] The zoom delta applied on each click.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A control with 2 buttons, one for zoom in and one for zoom out.\n * This control is one of the default controls of a map. To style this control\n * use css selectors `.ol-zoom-in` and `.ol-zoom-out`.\n *\n * @api\n */\nvar Zoom = /** @class */ (function (_super) {\n    __extends(Zoom, _super);\n    /**\n     * @param {Options} [opt_options] Zoom options.\n     */\n    function Zoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            target: options.target,\n        }) || this;\n        var className = options.className !== undefined ? options.className : 'ol-zoom';\n        var delta = options.delta !== undefined ? options.delta : 1;\n        var zoomInClassName = options.zoomInClassName !== undefined\n            ? options.zoomInClassName\n            : className + '-in';\n        var zoomOutClassName = options.zoomOutClassName !== undefined\n            ? options.zoomOutClassName\n            : className + '-out';\n        var zoomInLabel = options.zoomInLabel !== undefined ? options.zoomInLabel : '+';\n        var zoomOutLabel = options.zoomOutLabel !== undefined ? options.zoomOutLabel : '\\u2013';\n        var zoomInTipLabel = options.zoomInTipLabel !== undefined ? options.zoomInTipLabel : 'Zoom in';\n        var zoomOutTipLabel = options.zoomOutTipLabel !== undefined\n            ? options.zoomOutTipLabel\n            : 'Zoom out';\n        var inElement = document.createElement('button');\n        inElement.className = zoomInClassName;\n        inElement.setAttribute('type', 'button');\n        inElement.title = zoomInTipLabel;\n        inElement.appendChild(typeof zoomInLabel === 'string'\n            ? document.createTextNode(zoomInLabel)\n            : zoomInLabel);\n        inElement.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this, delta), false);\n        var outElement = document.createElement('button');\n        outElement.className = zoomOutClassName;\n        outElement.setAttribute('type', 'button');\n        outElement.title = zoomOutTipLabel;\n        outElement.appendChild(typeof zoomOutLabel === 'string'\n            ? document.createTextNode(zoomOutLabel)\n            : zoomOutLabel);\n        outElement.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this, -delta), false);\n        var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(inElement);\n        element.appendChild(outElement);\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * @param {number} delta Zoom delta.\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Zoom.prototype.handleClick_ = function (delta, event) {\n        event.preventDefault();\n        this.zoomByDelta_(delta);\n    };\n    /**\n     * @param {number} delta Zoom delta.\n     * @private\n     */\n    Zoom.prototype.zoomByDelta_ = function (delta) {\n        var map = this.getMap();\n        var view = map.getView();\n        if (!view) {\n            // the map does not have a view, so we can't act\n            // upon it\n            return;\n        }\n        var currentZoom = view.getZoom();\n        if (currentZoom !== undefined) {\n            var newZoom = view.getConstrainedZoom(currentZoom + delta);\n            if (this.duration_ > 0) {\n                if (view.getAnimating()) {\n                    view.cancelAnimations();\n                }\n                view.animate({\n                    zoom: newZoom,\n                    duration: this.duration_,\n                    easing: easeOut,\n                });\n            }\n            else {\n                view.setZoom(newZoom);\n            }\n        }\n    };\n    return Zoom;\n}(Control));\nexport default Zoom;\n//# sourceMappingURL=Zoom.js.map","/**\n * @module ol/control\n */\nimport Attribution from './control/Attribution.js';\nimport Collection from './Collection.js';\nimport Rotate from './control/Rotate.js';\nimport Zoom from './control/Zoom.js';\nexport { default as Attribution } from './control/Attribution.js';\nexport { default as Control } from './control/Control.js';\nexport { default as FullScreen } from './control/FullScreen.js';\nexport { default as MousePosition } from './control/MousePosition.js';\nexport { default as OverviewMap } from './control/OverviewMap.js';\nexport { default as Rotate } from './control/Rotate.js';\nexport { default as ScaleLine } from './control/ScaleLine.js';\nexport { default as Zoom } from './control/Zoom.js';\nexport { default as ZoomSlider } from './control/ZoomSlider.js';\nexport { default as ZoomToExtent } from './control/ZoomToExtent.js';\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [attribution=true] Include\n * {@link module:ol/control/Attribution~Attribution}.\n * @property {import(\"./control/Attribution.js\").Options} [attributionOptions]\n * Options for {@link module:ol/control/Attribution~Attribution}.\n * @property {boolean} [rotate=true] Include\n * {@link module:ol/control/Rotate~Rotate}.\n * @property {import(\"./control/Rotate.js\").Options} [rotateOptions] Options\n * for {@link module:ol/control/Rotate~Rotate}.\n * @property {boolean} [zoom] Include {@link module:ol/control/Zoom~Zoom}.\n * @property {import(\"./control/Zoom.js\").Options} [zoomOptions] Options for\n * {@link module:ol/control/Zoom~Zoom}.\n * @api\n */\n/**\n * Set of controls included in maps by default. Unless configured otherwise,\n * this returns a collection containing an instance of each of the following\n * controls:\n * * {@link module:ol/control/Zoom~Zoom}\n * * {@link module:ol/control/Rotate~Rotate}\n * * {@link module:ol/control/Attribution~Attribution}\n *\n * @param {DefaultsOptions} [opt_options]\n * Defaults options.\n * @return {Collection<import(\"./control/Control.js\").default>}\n * Controls.\n * @api\n */\nexport function defaults(opt_options) {\n    var options = opt_options ? opt_options : {};\n    var controls = new Collection();\n    var zoomControl = options.zoom !== undefined ? options.zoom : true;\n    if (zoomControl) {\n        controls.push(new Zoom(options.zoomOptions));\n    }\n    var rotateControl = options.rotate !== undefined ? options.rotate : true;\n    if (rotateControl) {\n        controls.push(new Rotate(options.rotateOptions));\n    }\n    var attributionControl = options.attribution !== undefined ? options.attribution : true;\n    if (attributionControl) {\n        controls.push(new Attribution(options.attributionOptions));\n    }\n    return controls;\n}\n//# sourceMappingURL=control.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Control\n */\nimport BaseObject from '../Object.js';\nimport MapEventType from '../MapEventType.js';\nimport { VOID } from '../functions.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { removeNode } from '../dom.js';\n/**\n * @typedef {Object} Options\n * @property {HTMLElement} [element] The element is the control's\n * container element. This only needs to be specified if you're developing\n * a custom control.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n * @property {HTMLElement|string} [target] Specify a target if you want\n * the control to be rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A control is a visible widget with a DOM element in a fixed position on the\n * screen. They can involve user input (buttons), or be informational only;\n * the position is determined using CSS. By default these are placed in the\n * container with CSS class name `ol-overlaycontainer-stopevent`, but can use\n * any outside DOM element.\n *\n * This is the base class for controls. You can use it for simple custom\n * controls by creating the element with listeners, creating an instance:\n * ```js\n * var myControl = new Control({element: myElement});\n * ```\n * and then adding this to the map.\n *\n * The main advantage of having this as a control rather than a simple separate\n * DOM element is that preventing propagation is handled for you. Controls\n * will also be objects in a {@link module:ol/Collection~Collection}, so you can use their methods.\n *\n * You can also extend this base for your own control class. See\n * examples/custom-controls for an example of how to do this.\n *\n * @api\n */\nvar Control = /** @class */ (function (_super) {\n    __extends(Control, _super);\n    /**\n     * @param {Options} options Control options.\n     */\n    function Control(options) {\n        var _this = _super.call(this) || this;\n        var element = options.element;\n        if (element && !options.target && !element.style.pointerEvents) {\n            element.style.pointerEvents = 'auto';\n        }\n        /**\n         * @protected\n         * @type {HTMLElement}\n         */\n        _this.element = element ? element : null;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.target_ = null;\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default|null}\n         */\n        _this.map_ = null;\n        /**\n         * @protected\n         * @type {!Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.listenerKeys = [];\n        if (options.render) {\n            _this.render = options.render;\n        }\n        if (options.target) {\n            _this.setTarget(options.target);\n        }\n        return _this;\n    }\n    /**\n     * Clean up.\n     */\n    Control.prototype.disposeInternal = function () {\n        removeNode(this.element);\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * Get the map associated with this control.\n     * @return {import(\"../PluggableMap.js\").default|null} Map.\n     * @api\n     */\n    Control.prototype.getMap = function () {\n        return this.map_;\n    };\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Pass `null` to just remove the control from the current map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     * @api\n     */\n    Control.prototype.setMap = function (map) {\n        if (this.map_) {\n            removeNode(this.element);\n        }\n        for (var i = 0, ii = this.listenerKeys.length; i < ii; ++i) {\n            unlistenByKey(this.listenerKeys[i]);\n        }\n        this.listenerKeys.length = 0;\n        this.map_ = map;\n        if (map) {\n            var target = this.target_\n                ? this.target_\n                : map.getOverlayContainerStopEvent();\n            target.appendChild(this.element);\n            if (this.render !== VOID) {\n                this.listenerKeys.push(listen(map, MapEventType.POSTRENDER, this.render, this));\n            }\n            map.render();\n        }\n    };\n    /**\n     * Renders the control.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @api\n     */\n    Control.prototype.render = function (mapEvent) { };\n    /**\n     * This function is used to set a target element for the control. It has no\n     * effect if it is called after the control has been added to the map (i.e.\n     * after `setMap` is called on the control). If no `target` is set in the\n     * options passed to the control constructor and if `setTarget` is not called\n     * then the control is added to the map's overlay container.\n     * @param {HTMLElement|string} target Target.\n     * @api\n     */\n    Control.prototype.setTarget = function (target) {\n        this.target_ =\n            typeof target === 'string' ? document.getElementById(target) : target;\n    };\n    return Control;\n}(BaseObject));\nexport default Control;\n//# sourceMappingURL=Control.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/FullScreen\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport MapProperty from '../MapProperty.js';\nimport { CLASS_CONTROL, CLASS_UNSELECTABLE, CLASS_UNSUPPORTED } from '../css.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { replaceNode } from '../dom.js';\nvar events = [\n    'fullscreenchange',\n    'webkitfullscreenchange',\n    'MSFullscreenChange',\n];\n/**\n * @enum {string}\n */\nvar FullScreenEventType = {\n    /**\n     * Triggered after the map entered fullscreen.\n     * @event FullScreenEventType#enterfullscreen\n     * @api\n     */\n    ENTERFULLSCREEN: 'enterfullscreen',\n    /**\n     * Triggered after the map leave fullscreen.\n     * @event FullScreenEventType#leavefullscreen\n     * @api\n     */\n    LEAVEFULLSCREEN: 'leavefullscreen',\n};\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes|\n *     'enterfullscreen'|'leavefullscreen', import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|\n *     'enterfullscreen'|'leavefullscreen'|import(\"../ObjectEventType\").Types, Return>} FullScreenOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-full-screen'] CSS class name.\n * @property {string|Text|HTMLElement} [label='\\u2922'] Text label to use for the button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|Text|HTMLElement} [labelActive='\\u00d7'] Text label to use for the\n * button when full-screen is active.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [activeClassName=className + '-true'] CSS class name for the button\n * when full-screen is active.\n * @property {string} [inactiveClassName=className + '-false'] CSS class name for the button\n * when full-screen is inactive.\n * @property {string} [tipLabel='Toggle full-screen'] Text label to use for the button tip.\n * @property {boolean} [keys=false] Full keyboard access.\n * @property {HTMLElement|string} [target] Specify a target if you want the\n * control to be rendered outside of the map's viewport.\n * @property {HTMLElement|string} [source] The element to be displayed\n * fullscreen. When not provided, the element containing the map viewport will\n * be displayed fullscreen.\n */\n/**\n * @classdesc\n * Provides a button that when clicked fills up the full screen with the map.\n * The full screen source element is by default the element containing the map viewport unless\n * overridden by providing the `source` option. In which case, the dom\n * element introduced using this parameter will be displayed in full screen.\n *\n * When in full screen mode, a close button is shown to exit full screen mode.\n * The [Fullscreen API](https://www.w3.org/TR/fullscreen/) is used to\n * toggle the map in full screen mode.\n *\n * @fires FullScreenEventType#enterfullscreen\n * @fires FullScreenEventType#leavefullscreen\n * @api\n */\nvar FullScreen = /** @class */ (function (_super) {\n    __extends(FullScreen, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function FullScreen(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            target: options.target,\n        }) || this;\n        /***\n         * @type {FullScreenOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {FullScreenOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {FullScreenOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.keys_ = options.keys !== undefined ? options.keys : false;\n        /**\n         * @private\n         * @type {HTMLElement|string|undefined}\n         */\n        _this.source_ = options.source;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.isInFullscreen_ = false;\n        /**\n         * @private\n         */\n        _this.boundHandleMapTargetChange_ = _this.handleMapTargetChange_.bind(_this);\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.cssClassName_ =\n            options.className !== undefined ? options.className : 'ol-full-screen';\n        /**\n         * @private\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.documentListeners_ = [];\n        /**\n         * @private\n         * @type {Array<string>}\n         */\n        _this.activeClassName_ =\n            options.activeClassName !== undefined\n                ? options.activeClassName.split(' ')\n                : [_this.cssClassName_ + '-true'];\n        /**\n         * @private\n         * @type {Array<string>}\n         */\n        _this.inactiveClassName_ =\n            options.inactiveClassName !== undefined\n                ? options.inactiveClassName.split(' ')\n                : [_this.cssClassName_ + '-false'];\n        var label = options.label !== undefined ? options.label : '\\u2922';\n        /**\n         * @private\n         * @type {Text|HTMLElement}\n         */\n        _this.labelNode_ =\n            typeof label === 'string' ? document.createTextNode(label) : label;\n        var labelActive = options.labelActive !== undefined ? options.labelActive : '\\u00d7';\n        /**\n         * @private\n         * @type {Text|HTMLElement}\n         */\n        _this.labelActiveNode_ =\n            typeof labelActive === 'string'\n                ? document.createTextNode(labelActive)\n                : labelActive;\n        var tipLabel = options.tipLabel ? options.tipLabel : 'Toggle full-screen';\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.button_ = document.createElement('button');\n        _this.button_.title = tipLabel;\n        _this.button_.setAttribute('type', 'button');\n        _this.button_.appendChild(_this.labelNode_);\n        _this.button_.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        _this.setClassName_(_this.button_, _this.isInFullscreen_);\n        _this.element.className = \"\".concat(_this.cssClassName_, \" \").concat(CLASS_UNSELECTABLE, \" \").concat(CLASS_CONTROL);\n        _this.element.appendChild(_this.button_);\n        return _this;\n    }\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    FullScreen.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        this.handleFullScreen_();\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreen_ = function () {\n        var map = this.getMap();\n        if (!map) {\n            return;\n        }\n        var doc = map.getOwnerDocument();\n        if (!isFullScreenSupported(doc)) {\n            return;\n        }\n        if (isFullScreen(doc)) {\n            exitFullScreen(doc);\n        }\n        else {\n            var element = void 0;\n            if (this.source_) {\n                element =\n                    typeof this.source_ === 'string'\n                        ? doc.getElementById(this.source_)\n                        : this.source_;\n            }\n            else {\n                element = map.getTargetElement();\n            }\n            if (this.keys_) {\n                requestFullScreenWithKeys(element);\n            }\n            else {\n                requestFullScreen(element);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreenChange_ = function () {\n        var map = this.getMap();\n        if (!map) {\n            return;\n        }\n        var wasInFullscreen = this.isInFullscreen_;\n        this.isInFullscreen_ = isFullScreen(map.getOwnerDocument());\n        if (wasInFullscreen !== this.isInFullscreen_) {\n            this.setClassName_(this.button_, this.isInFullscreen_);\n            if (this.isInFullscreen_) {\n                replaceNode(this.labelActiveNode_, this.labelNode_);\n                this.dispatchEvent(FullScreenEventType.ENTERFULLSCREEN);\n            }\n            else {\n                replaceNode(this.labelNode_, this.labelActiveNode_);\n                this.dispatchEvent(FullScreenEventType.LEAVEFULLSCREEN);\n            }\n            map.updateSize();\n        }\n    };\n    /**\n     * @param {HTMLElement} element Target element\n     * @param {boolean} fullscreen True if fullscreen class name should be active\n     * @private\n     */\n    FullScreen.prototype.setClassName_ = function (element, fullscreen) {\n        var _a, _b, _c, _d;\n        if (fullscreen) {\n            (_a = element.classList).remove.apply(_a, this.inactiveClassName_);\n            (_b = element.classList).add.apply(_b, this.activeClassName_);\n        }\n        else {\n            (_c = element.classList).remove.apply(_c, this.activeClassName_);\n            (_d = element.classList).add.apply(_d, this.inactiveClassName_);\n        }\n    };\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Pass `null` to just remove the control from the current map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     * @api\n     */\n    FullScreen.prototype.setMap = function (map) {\n        var oldMap = this.getMap();\n        if (oldMap) {\n            oldMap.removeChangeListener(MapProperty.TARGET, this.boundHandleMapTargetChange_);\n        }\n        _super.prototype.setMap.call(this, map);\n        this.handleMapTargetChange_();\n        if (map) {\n            map.addChangeListener(MapProperty.TARGET, this.boundHandleMapTargetChange_);\n        }\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleMapTargetChange_ = function () {\n        var listeners = this.documentListeners_;\n        for (var i = 0, ii = listeners.length; i < ii; ++i) {\n            unlistenByKey(listeners[i]);\n        }\n        listeners.length = 0;\n        var map = this.getMap();\n        if (map) {\n            var doc = map.getOwnerDocument();\n            if (isFullScreenSupported(doc)) {\n                this.element.classList.remove(CLASS_UNSUPPORTED);\n            }\n            else {\n                this.element.classList.add(CLASS_UNSUPPORTED);\n            }\n            for (var i = 0, ii = events.length; i < ii; ++i) {\n                listeners.push(listen(doc, events[i], this.handleFullScreenChange_, this));\n            }\n            this.handleFullScreenChange_();\n        }\n    };\n    return FullScreen;\n}(Control));\n/**\n * @param {Document} doc The root document to check.\n * @return {boolean} Fullscreen is supported by the current platform.\n */\nfunction isFullScreenSupported(doc) {\n    var body = doc.body;\n    return !!(body['webkitRequestFullscreen'] ||\n        (body['msRequestFullscreen'] && doc['msFullscreenEnabled']) ||\n        (body.requestFullscreen && doc.fullscreenEnabled));\n}\n/**\n * @param {Document} doc The root document to check.\n * @return {boolean} Element is currently in fullscreen.\n */\nfunction isFullScreen(doc) {\n    return !!(doc['webkitIsFullScreen'] ||\n        doc['msFullscreenElement'] ||\n        doc.fullscreenElement);\n}\n/**\n * Request to fullscreen an element.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreen(element) {\n    if (element.requestFullscreen) {\n        element.requestFullscreen();\n    }\n    else if (element['msRequestFullscreen']) {\n        element['msRequestFullscreen']();\n    }\n    else if (element['webkitRequestFullscreen']) {\n        element['webkitRequestFullscreen']();\n    }\n}\n/**\n * Request to fullscreen an element with keyboard input.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreenWithKeys(element) {\n    if (element['webkitRequestFullscreen']) {\n        element['webkitRequestFullscreen']();\n    }\n    else {\n        requestFullScreen(element);\n    }\n}\n/**\n * Exit fullscreen.\n * @param {Document} doc The document to exit fullscren from\n */\nfunction exitFullScreen(doc) {\n    if (doc.exitFullscreen) {\n        doc.exitFullscreen();\n    }\n    else if (doc['msExitFullscreen']) {\n        doc['msExitFullscreen']();\n    }\n    else if (doc['webkitExitFullscreen']) {\n        doc['webkitExitFullscreen']();\n    }\n}\nexport default FullScreen;\n//# sourceMappingURL=FullScreen.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/ScaleLine\n */\nimport Control from './Control.js';\nimport ProjUnits from '../proj/Units.js';\nimport { CLASS_UNSELECTABLE } from '../css.js';\nimport { METERS_PER_UNIT, getPointResolution } from '../proj.js';\nimport { assert } from '../asserts.js';\n/**\n * @type {string}\n */\nvar UNITS_PROP = 'units';\n/**\n * Units for the scale line. Supported values are `'degrees'`, `'imperial'`,\n * `'nautical'`, `'metric'`, `'us'`.\n * @enum {string}\n */\nexport var Units = {\n    DEGREES: 'degrees',\n    IMPERIAL: 'imperial',\n    NAUTICAL: 'nautical',\n    METRIC: 'metric',\n    US: 'us',\n};\n/**\n * @const\n * @type {Array<number>}\n */\nvar LEADING_DIGITS = [1, 2, 5];\n/**\n * @const\n * @type {number}\n */\nvar DEFAULT_DPI = 25.4 / 0.28;\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:units', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types\n *     |'change:units', Return>} ScaleLineOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-scale-line'] CSS Class name.\n * @property {number} [minWidth=64] Minimum width in pixels at the OGC default dpi. The width will be\n * adjusted to match the dpi used.\n * @property {number} [maxWidth] Maximum width in pixels at the OGC default dpi. The width will be\n * adjusted to match the dpi used.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control\n * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {HTMLElement|string} [target] Specify a target if you want the control\n * to be rendered outside of the map's viewport.\n * @property {import(\"./ScaleLine.js\").Units|string} [units='metric'] Units.\n * @property {boolean} [bar=false] Render scalebars instead of a line.\n * @property {number} [steps=4] Number of steps the scalebar should use. Use even numbers\n * for best results. Only applies when `bar` is `true`.\n * @property {boolean} [text=false] Render the text scale above of the scalebar. Only applies\n * when `bar` is `true`.\n * @property {number|undefined} [dpi=undefined] dpi of output device such as printer. Only applies\n * when `bar` is `true`. If undefined the OGC default screen pixel size of 0.28mm will be assumed.\n */\n/**\n * @classdesc\n * A control displaying rough y-axis distances, calculated for the center of the\n * viewport. For conformal projections (e.g. EPSG:3857, the default view\n * projection in OpenLayers), the scale is valid for all directions.\n * No scale line will be shown when the y-axis distance of a pixel at the\n * viewport center cannot be calculated in the view projection.\n * By default the scale line will show in the bottom left portion of the map,\n * but this can be changed by using the css selector `.ol-scale-line`.\n * When specifying `bar` as `true`, a scalebar will be rendered instead\n * of a scaleline.\n *\n * @api\n */\nvar ScaleLine = /** @class */ (function (_super) {\n    __extends(ScaleLine, _super);\n    /**\n     * @param {Options} [opt_options] Scale line options.\n     */\n    function ScaleLine(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var className = options.className !== undefined\n            ? options.className\n            : options.bar\n                ? 'ol-scale-bar'\n                : 'ol-scale-line';\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        /***\n         * @type {ScaleLineOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {ScaleLineOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {ScaleLineOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.innerElement_ = document.createElement('div');\n        _this.innerElement_.className = className + '-inner';\n        _this.element.className = className + ' ' + CLASS_UNSELECTABLE;\n        _this.element.appendChild(_this.innerElement_);\n        /**\n         * @private\n         * @type {?import(\"../View.js\").State}\n         */\n        _this.viewState_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.minWidth_ = options.minWidth !== undefined ? options.minWidth : 64;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.maxWidth_ = options.maxWidth;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = false;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.renderedWidth_ = undefined;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.renderedHTML_ = '';\n        _this.addChangeListener(UNITS_PROP, _this.handleUnitsChanged_);\n        _this.setUnits(options.units || Units.METRIC);\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.scaleBar_ = options.bar || false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.scaleBarSteps_ = options.steps || 4;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.scaleBarText_ = options.text || false;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.dpi_ = options.dpi || undefined;\n        return _this;\n    }\n    /**\n     * Return the units to use in the scale line.\n     * @return {import(\"./ScaleLine.js\").Units} The units\n     * to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.getUnits = function () {\n        return this.get(UNITS_PROP);\n    };\n    /**\n     * @private\n     */\n    ScaleLine.prototype.handleUnitsChanged_ = function () {\n        this.updateElement_();\n    };\n    /**\n     * Set the units to use in the scale line.\n     * @param {import(\"./ScaleLine.js\").Units} units The units to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.setUnits = function (units) {\n        this.set(UNITS_PROP, units);\n    };\n    /**\n     * Specify the dpi of output device such as printer.\n     * @param {number|undefined} dpi The dpi of output device.\n     * @api\n     */\n    ScaleLine.prototype.setDpi = function (dpi) {\n        this.dpi_ = dpi;\n    };\n    /**\n     * @private\n     */\n    ScaleLine.prototype.updateElement_ = function () {\n        var viewState = this.viewState_;\n        if (!viewState) {\n            if (this.renderedVisible_) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        var center = viewState.center;\n        var projection = viewState.projection;\n        var units = this.getUnits();\n        var pointResolutionUnits = units == Units.DEGREES ? ProjUnits.DEGREES : ProjUnits.METERS;\n        var pointResolution = getPointResolution(projection, viewState.resolution, center, pointResolutionUnits);\n        var minWidth = (this.minWidth_ * (this.dpi_ || DEFAULT_DPI)) / DEFAULT_DPI;\n        var maxWidth = this.maxWidth_ !== undefined\n            ? (this.maxWidth_ * (this.dpi_ || DEFAULT_DPI)) / DEFAULT_DPI\n            : undefined;\n        var nominalCount = minWidth * pointResolution;\n        var suffix = '';\n        if (units == Units.DEGREES) {\n            var metersPerDegree = METERS_PER_UNIT[ProjUnits.DEGREES];\n            nominalCount *= metersPerDegree;\n            if (nominalCount < metersPerDegree / 60) {\n                suffix = '\\u2033'; // seconds\n                pointResolution *= 3600;\n            }\n            else if (nominalCount < metersPerDegree) {\n                suffix = '\\u2032'; // minutes\n                pointResolution *= 60;\n            }\n            else {\n                suffix = '\\u00b0'; // degrees\n            }\n        }\n        else if (units == Units.IMPERIAL) {\n            if (nominalCount < 0.9144) {\n                suffix = 'in';\n                pointResolution /= 0.0254;\n            }\n            else if (nominalCount < 1609.344) {\n                suffix = 'ft';\n                pointResolution /= 0.3048;\n            }\n            else {\n                suffix = 'mi';\n                pointResolution /= 1609.344;\n            }\n        }\n        else if (units == Units.NAUTICAL) {\n            pointResolution /= 1852;\n            suffix = 'NM';\n        }\n        else if (units == Units.METRIC) {\n            if (nominalCount < 0.001) {\n                suffix = 'μm';\n                pointResolution *= 1000000;\n            }\n            else if (nominalCount < 1) {\n                suffix = 'mm';\n                pointResolution *= 1000;\n            }\n            else if (nominalCount < 1000) {\n                suffix = 'm';\n            }\n            else {\n                suffix = 'km';\n                pointResolution /= 1000;\n            }\n        }\n        else if (units == Units.US) {\n            if (nominalCount < 0.9144) {\n                suffix = 'in';\n                pointResolution *= 39.37;\n            }\n            else if (nominalCount < 1609.344) {\n                suffix = 'ft';\n                pointResolution /= 0.30480061;\n            }\n            else {\n                suffix = 'mi';\n                pointResolution /= 1609.3472;\n            }\n        }\n        else {\n            assert(false, 33); // Invalid units\n        }\n        var i = 3 * Math.floor(Math.log(minWidth * pointResolution) / Math.log(10));\n        var count, width, decimalCount;\n        var previousCount, previousWidth, previousDecimalCount;\n        while (true) {\n            decimalCount = Math.floor(i / 3);\n            var decimal = Math.pow(10, decimalCount);\n            count = LEADING_DIGITS[((i % 3) + 3) % 3] * decimal;\n            width = Math.round(count / pointResolution);\n            if (isNaN(width)) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n                return;\n            }\n            if (maxWidth !== undefined && width >= maxWidth) {\n                count = previousCount;\n                width = previousWidth;\n                decimalCount = previousDecimalCount;\n                break;\n            }\n            else if (width >= minWidth) {\n                break;\n            }\n            previousCount = count;\n            previousWidth = width;\n            previousDecimalCount = decimalCount;\n            ++i;\n        }\n        var html;\n        if (this.scaleBar_) {\n            html = this.createScaleBar(width, count, suffix);\n        }\n        else {\n            html = count.toFixed(decimalCount < 0 ? -decimalCount : 0) + ' ' + suffix;\n        }\n        if (this.renderedHTML_ != html) {\n            this.innerElement_.innerHTML = html;\n            this.renderedHTML_ = html;\n        }\n        if (this.renderedWidth_ != width) {\n            this.innerElement_.style.width = width + 'px';\n            this.renderedWidth_ = width;\n        }\n        if (!this.renderedVisible_) {\n            this.element.style.display = '';\n            this.renderedVisible_ = true;\n        }\n    };\n    /**\n     * @private\n     * @param {number} width The current width of the scalebar.\n     * @param {number} scale The current scale.\n     * @param {string} suffix The suffix to append to the scale text.\n     * @return {string} The stringified HTML of the scalebar.\n     */\n    ScaleLine.prototype.createScaleBar = function (width, scale, suffix) {\n        var mapScale = '1 : ' + Math.round(this.getScaleForResolution()).toLocaleString();\n        var scaleSteps = [];\n        var stepWidth = width / this.scaleBarSteps_;\n        var backgroundColor = 'ol-scale-singlebar-odd';\n        for (var i = 0; i < this.scaleBarSteps_; i++) {\n            if (i === 0) {\n                // create the first marker at position 0\n                scaleSteps.push(this.createMarker('absolute', i));\n            }\n            scaleSteps.push('<div>' +\n                '<div ' +\n                'class=\"ol-scale-singlebar ' +\n                backgroundColor +\n                '\" ' +\n                'style=' +\n                '\"width: ' +\n                stepWidth +\n                'px;\"' +\n                '>' +\n                '</div>' +\n                this.createMarker('relative', i) +\n                /*render text every second step, except when only 2 steps */\n                (i % 2 === 0 || this.scaleBarSteps_ === 2\n                    ? this.createStepText(i, width, false, scale, suffix)\n                    : '') +\n                '</div>');\n            if (i === this.scaleBarSteps_ - 1) {\n                {\n                    /*render text at the end */\n                }\n                scaleSteps.push(this.createStepText(i + 1, width, true, scale, suffix));\n            }\n            // switch style of steps\n            backgroundColor =\n                backgroundColor === 'ol-scale-singlebar-odd'\n                    ? 'ol-scale-singlebar-even'\n                    : 'ol-scale-singlebar-odd';\n        }\n        var scaleBarText;\n        if (this.scaleBarText_) {\n            scaleBarText =\n                '<div ' +\n                    'class=\"ol-scale-text\" ' +\n                    'style=\"width: ' +\n                    width +\n                    'px;\">' +\n                    mapScale +\n                    '</div>';\n        }\n        else {\n            scaleBarText = '';\n        }\n        var container = '<div ' +\n            'style=\"display: flex;\">' +\n            scaleBarText +\n            scaleSteps.join('') +\n            '</div>';\n        return container;\n    };\n    /**\n     * Creates a marker at given position\n     * @param {string} position The position, absolute or relative\n     * @param {number} i The iterator\n     * @return {string} The stringified div containing the marker\n     */\n    ScaleLine.prototype.createMarker = function (position, i) {\n        var top = position === 'absolute' ? 3 : -10;\n        return ('<div ' +\n            'class=\"ol-scale-step-marker\" ' +\n            'style=\"position: ' +\n            position +\n            ';' +\n            'top: ' +\n            top +\n            'px;\"' +\n            '></div>');\n    };\n    /**\n     * Creates the label for a marker marker at given position\n     * @param {number} i The iterator\n     * @param {number} width The width the scalebar will currently use\n     * @param {boolean} isLast Flag indicating if we add the last step text\n     * @param {number} scale The current scale for the whole scalebar\n     * @param {string} suffix The suffix for the scale\n     * @return {string} The stringified div containing the step text\n     */\n    ScaleLine.prototype.createStepText = function (i, width, isLast, scale, suffix) {\n        var length = i === 0 ? 0 : Math.round((scale / this.scaleBarSteps_) * i * 100) / 100;\n        var lengthString = length + (i === 0 ? '' : ' ' + suffix);\n        var margin = i === 0 ? -3 : (width / this.scaleBarSteps_) * -1;\n        var minWidth = i === 0 ? 0 : (width / this.scaleBarSteps_) * 2;\n        return ('<div ' +\n            'class=\"ol-scale-step-text\" ' +\n            'style=\"' +\n            'margin-left: ' +\n            margin +\n            'px;' +\n            'text-align: ' +\n            (i === 0 ? 'left' : 'center') +\n            '; ' +\n            'min-width: ' +\n            minWidth +\n            'px;' +\n            'left: ' +\n            (isLast ? width + 'px' : 'unset') +\n            ';\"' +\n            '>' +\n            lengthString +\n            '</div>');\n    };\n    /**\n     * Returns the appropriate scale for the given resolution and units.\n     * @return {number} The appropriate scale.\n     */\n    ScaleLine.prototype.getScaleForResolution = function () {\n        var resolution = getPointResolution(this.viewState_.projection, this.viewState_.resolution, this.viewState_.center, ProjUnits.METERS);\n        var dpi = this.dpi_ || DEFAULT_DPI;\n        var inchesPerMeter = 1000 / 25.4;\n        return parseFloat(resolution.toString()) * inchesPerMeter * dpi;\n    };\n    /**\n     * Update the scale line element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    ScaleLine.prototype.render = function (mapEvent) {\n        var frameState = mapEvent.frameState;\n        if (!frameState) {\n            this.viewState_ = null;\n        }\n        else {\n            this.viewState_ = frameState.viewState;\n        }\n        this.updateElement_();\n    };\n    return ScaleLine;\n}(Control));\nexport default ScaleLine;\n//# sourceMappingURL=ScaleLine.js.map","/**\n * @module ol/css\n */\n/**\n * @typedef {Object} FontParameters\n * @property {string} style Style.\n * @property {string} variant Variant.\n * @property {string} weight Weight.\n * @property {string} size Size.\n * @property {string} lineHeight LineHeight.\n * @property {string} family Family.\n * @property {Array<string>} families Families.\n */\n/**\n * The CSS class for hidden feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_HIDDEN = 'ol-hidden';\n/**\n * The CSS class that we'll give the DOM elements to have them selectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_SELECTABLE = 'ol-selectable';\n/**\n * The CSS class that we'll give the DOM elements to have them unselectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSELECTABLE = 'ol-unselectable';\n/**\n * The CSS class for unsupported feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSUPPORTED = 'ol-unsupported';\n/**\n * The CSS class for controls.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_CONTROL = 'ol-control';\n/**\n * The CSS class that we'll give the DOM elements that are collapsed, i.e.\n * to those elements which usually can be expanded.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_COLLAPSED = 'ol-collapsed';\n/**\n * From https://stackoverflow.com/questions/10135697/regex-to-parse-any-css-font\n * @type {RegExp}\n */\nvar fontRegEx = new RegExp([\n    '^\\\\s*(?=(?:(?:[-a-z]+\\\\s*){0,2}(italic|oblique))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(small-caps))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)',\n    '(?:(?:normal|\\\\1|\\\\2|\\\\3)\\\\s*){0,3}((?:xx?-)?',\n    '(?:small|large)|medium|smaller|larger|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx]))',\n    '(?:\\\\s*\\\\/\\\\s*(normal|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx])?))',\n    '?\\\\s*([-,\\\\\"\\\\\\'\\\\sa-z]+?)\\\\s*$',\n].join(''), 'i');\nvar fontRegExMatchIndex = [\n    'style',\n    'variant',\n    'weight',\n    'size',\n    'lineHeight',\n    'family',\n];\n/**\n * Get the list of font families from a font spec.  Note that this doesn't work\n * for font families that have commas in them.\n * @param {string} fontSpec The CSS font property.\n * @return {FontParameters|null} The font parameters (or null if the input spec is invalid).\n */\nexport var getFontParameters = function (fontSpec) {\n    var match = fontSpec.match(fontRegEx);\n    if (!match) {\n        return null;\n    }\n    var style = /** @type {FontParameters} */ ({\n        lineHeight: 'normal',\n        size: '1.2em',\n        style: 'normal',\n        weight: 'normal',\n        variant: 'normal',\n    });\n    for (var i = 0, ii = fontRegExMatchIndex.length; i < ii; ++i) {\n        var value = match[i + 1];\n        if (value !== undefined) {\n            style[fontRegExMatchIndex[i]] = value;\n        }\n    }\n    style.families = style.family.split(/,\\s?/);\n    return style;\n};\n//# sourceMappingURL=css.js.map","import { WORKER_OFFSCREEN_CANVAS } from './has.js';\n/**\n * @module ol/dom\n */\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number} [opt_width] Canvas width.\n * @param {number} [opt_height] Canvas height.\n * @param {Array<HTMLCanvasElement>} [opt_canvasPool] Canvas pool to take existing canvas from.\n * @param {CanvasRenderingContext2DSettings} [opt_Context2DSettings] CanvasRenderingContext2DSettings\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(opt_width, opt_height, opt_canvasPool, opt_Context2DSettings) {\n    /** @type {HTMLCanvasElement|OffscreenCanvas} */\n    var canvas;\n    if (opt_canvasPool && opt_canvasPool.length) {\n        canvas = opt_canvasPool.shift();\n    }\n    else if (WORKER_OFFSCREEN_CANVAS) {\n        canvas = new OffscreenCanvas(opt_width || 300, opt_height || 300);\n    }\n    else {\n        canvas = document.createElement('canvas');\n    }\n    if (opt_width) {\n        canvas.width = opt_width;\n    }\n    if (opt_height) {\n        canvas.height = opt_height;\n    }\n    //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n    return /** @type {CanvasRenderingContext2D} */ (canvas.getContext('2d', opt_Context2DSettings));\n}\n/**\n * Releases canvas memory to avoid exceeding memory limits in Safari.\n * See https://pqina.nl/blog/total-canvas-memory-use-exceeds-the-maximum-limit/\n * @param {CanvasRenderingContext2D} context Context.\n */\nexport function releaseCanvas(context) {\n    var canvas = context.canvas;\n    canvas.width = 1;\n    canvas.height = 1;\n    context.clearRect(0, 0, 1, 1);\n}\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n    var width = element.offsetWidth;\n    var style = getComputedStyle(element);\n    width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n    return width;\n}\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n    var height = element.offsetHeight;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n    return height;\n}\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    if (parent) {\n        parent.replaceChild(newNode, oldNode);\n    }\n}\n/**\n * @param {Node} node The node to remove.\n * @return {Node|null} The node that was removed or null.\n */\nexport function removeNode(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n    while (node.lastChild) {\n        node.removeChild(node.lastChild);\n    }\n}\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n    var oldChildren = node.childNodes;\n    for (var i = 0; true; ++i) {\n        var oldChild = oldChildren[i];\n        var newChild = children[i];\n        // check if our work is done\n        if (!oldChild && !newChild) {\n            break;\n        }\n        // check if children match\n        if (oldChild === newChild) {\n            continue;\n        }\n        // check if a new child needs to be added\n        if (!oldChild) {\n            node.appendChild(newChild);\n            continue;\n        }\n        // check if an old child needs to be removed\n        if (!newChild) {\n            node.removeChild(oldChild);\n            --i;\n            continue;\n        }\n        // reorder\n        node.insertBefore(newChild, oldChild);\n    }\n}\n//# sourceMappingURL=dom.js.map","/**\n * @module ol/easing\n */\n/**\n * Start slow and speed up.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeIn(t) {\n    return Math.pow(t, 3);\n}\n/**\n * Start fast and slow down.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeOut(t) {\n    return 1 - easeIn(1 - t);\n}\n/**\n * Start slow, speed up, and then slow down again.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function inAndOut(t) {\n    return 3 * t * t - 2 * t * t * t;\n}\n/**\n * Maintain a constant speed over time.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function linear(t) {\n    return t;\n}\n/**\n * Start slow, speed up, and at the very end slow down again.  This has the\n * same general behavior as {@link module:ol/easing.inAndOut}, but the final\n * slowdown is delayed.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function upAndDown(t) {\n    if (t < 0.5) {\n        return inAndOut(2 * t);\n    }\n    else {\n        return 1 - inAndOut(2 * (t - 0.5));\n    }\n}\n//# sourceMappingURL=easing.js.map","/**\n * @module ol/events\n */\nimport { clear } from './obj.js';\n/**\n * Key to use with {@link module:ol/Observable.unByKey}.\n * @typedef {Object} EventsKey\n * @property {ListenerFunction} listener Listener.\n * @property {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @property {string} type Type.\n * @api\n */\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n/**\n * @typedef {Object} ListenerObject\n * @property {ListenerFunction} handleEvent HandleEvent listener function.\n */\n/**\n * @typedef {ListenerFunction|ListenerObject} Listener\n */\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events.unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [opt_this] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean} [opt_once] If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, opt_this, opt_once) {\n    if (opt_this && opt_this !== target) {\n        listener = listener.bind(opt_this);\n    }\n    if (opt_once) {\n        var originalListener_1 = listener;\n        listener = function () {\n            target.removeEventListener(type, listener);\n            originalListener_1.apply(this, arguments);\n        };\n    }\n    var eventsKey = {\n        target: target,\n        type: type,\n        listener: listener,\n    };\n    target.addEventListener(type, listener);\n    return eventsKey;\n}\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events.unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events.listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [opt_this] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, opt_this) {\n    return listen(target, type, listener, opt_this, true);\n}\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events.listen} or {@link module:ol/events.listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n    if (key && key.target) {\n        key.target.removeEventListener(key.type, key.listener);\n        clear(key);\n    }\n}\n//# sourceMappingURL=events.js.map","/**\n * @module ol/events/Event\n */\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nvar BaseEvent = /** @class */ (function () {\n    /**\n     * @param {string} type Type.\n     */\n    function BaseEvent(type) {\n        /**\n         * @type {boolean}\n         */\n        this.propagationStopped;\n        /**\n         * @type {boolean}\n         */\n        this.defaultPrevented;\n        /**\n         * The event type.\n         * @type {string}\n         * @api\n         */\n        this.type = type;\n        /**\n         * The event target.\n         * @type {Object}\n         * @api\n         */\n        this.target = null;\n    }\n    /**\n     * Prevent default. This means that no emulated `click`, `singleclick` or `doubleclick` events\n     * will be fired.\n     * @api\n     */\n    BaseEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n    };\n    /**\n     * Stop event propagation.\n     * @api\n     */\n    BaseEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    return BaseEvent;\n}());\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n    evt.stopPropagation();\n}\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n    evt.preventDefault();\n}\nexport default BaseEvent;\n//# sourceMappingURL=Event.js.map","/**\n * @module ol/events/EventType\n */\n/**\n * @enum {string}\n * @const\n */\nexport default {\n    /**\n     * Generic change event. Triggered when the revision counter is increased.\n     * @event module:ol/events/Event~BaseEvent#change\n     * @api\n     */\n    CHANGE: 'change',\n    /**\n     * Generic error event. Triggered when an error occurs.\n     * @event module:ol/events/Event~BaseEvent#error\n     * @api\n     */\n    ERROR: 'error',\n    BLUR: 'blur',\n    CLEAR: 'clear',\n    CONTEXTMENU: 'contextmenu',\n    CLICK: 'click',\n    DBLCLICK: 'dblclick',\n    DRAGENTER: 'dragenter',\n    DRAGOVER: 'dragover',\n    DROP: 'drop',\n    FOCUS: 'focus',\n    KEYDOWN: 'keydown',\n    KEYPRESS: 'keypress',\n    LOAD: 'load',\n    RESIZE: 'resize',\n    TOUCHMOVE: 'touchmove',\n    WHEEL: 'wheel',\n};\n//# sourceMappingURL=EventType.js.map","/**\n * @module ol/events/KeyCode\n */\n/**\n * @enum {number}\n * @const\n */\nexport default {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n};\n//# sourceMappingURL=KeyCode.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport Event from './Event.js';\nimport { VOID } from '../functions.js';\nimport { clear } from '../obj.js';\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nvar Target = /** @class */ (function (_super) {\n    __extends(Target, _super);\n    /**\n     * @param {*} [opt_target] Default event target for dispatched events.\n     */\n    function Target(opt_target) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {*}\n         */\n        _this.eventTarget_ = opt_target;\n        /**\n         * @private\n         * @type {Object<string, number>}\n         */\n        _this.pendingRemovals_ = null;\n        /**\n         * @private\n         * @type {Object<string, number>}\n         */\n        _this.dispatching_ = null;\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").Listener>>}\n         */\n        _this.listeners_ = null;\n        return _this;\n    }\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").Listener} listener Listener.\n     */\n    Target.prototype.addEventListener = function (type, listener) {\n        if (!type || !listener) {\n            return;\n        }\n        var listeners = this.listeners_ || (this.listeners_ = {});\n        var listenersForType = listeners[type] || (listeners[type] = []);\n        if (listenersForType.indexOf(listener) === -1) {\n            listenersForType.push(listener);\n        }\n    };\n    /**\n     * Dispatches an event and calls all listeners listening for events\n     * of this type. The event parameter can either be a string or an\n     * Object with a `type` property.\n     *\n     * @param {import(\"./Event.js\").default|string} event Event object.\n     * @return {boolean|undefined} `false` if anyone called preventDefault on the\n     *     event object or if any of the listeners returned false.\n     * @api\n     */\n    Target.prototype.dispatchEvent = function (event) {\n        var isString = typeof event === 'string';\n        var type = isString ? event : event.type;\n        var listeners = this.listeners_ && this.listeners_[type];\n        if (!listeners) {\n            return;\n        }\n        var evt = isString ? new Event(event) : /** @type {Event} */ (event);\n        if (!evt.target) {\n            evt.target = this.eventTarget_ || this;\n        }\n        var dispatching = this.dispatching_ || (this.dispatching_ = {});\n        var pendingRemovals = this.pendingRemovals_ || (this.pendingRemovals_ = {});\n        if (!(type in dispatching)) {\n            dispatching[type] = 0;\n            pendingRemovals[type] = 0;\n        }\n        ++dispatching[type];\n        var propagate;\n        for (var i = 0, ii = listeners.length; i < ii; ++i) {\n            if ('handleEvent' in listeners[i]) {\n                propagate = /** @type {import(\"../events.js\").ListenerObject} */ (listeners[i]).handleEvent(evt);\n            }\n            else {\n                propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (listeners[i]).call(this, evt);\n            }\n            if (propagate === false || evt.propagationStopped) {\n                propagate = false;\n                break;\n            }\n        }\n        if (--dispatching[type] === 0) {\n            var pr = pendingRemovals[type];\n            delete pendingRemovals[type];\n            while (pr--) {\n                this.removeEventListener(type, VOID);\n            }\n            delete dispatching[type];\n        }\n        return propagate;\n    };\n    /**\n     * Clean up.\n     */\n    Target.prototype.disposeInternal = function () {\n        this.listeners_ && clear(this.listeners_);\n    };\n    /**\n     * Get the listeners for a specified event type. Listeners are returned in the\n     * order that they will be called in.\n     *\n     * @param {string} type Type.\n     * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n     */\n    Target.prototype.getListeners = function (type) {\n        return (this.listeners_ && this.listeners_[type]) || undefined;\n    };\n    /**\n     * @param {string} [opt_type] Type. If not provided,\n     *     `true` will be returned if this event target has any listeners.\n     * @return {boolean} Has listeners.\n     */\n    Target.prototype.hasListener = function (opt_type) {\n        if (!this.listeners_) {\n            return false;\n        }\n        return opt_type\n            ? opt_type in this.listeners_\n            : Object.keys(this.listeners_).length > 0;\n    };\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").Listener} listener Listener.\n     */\n    Target.prototype.removeEventListener = function (type, listener) {\n        var listeners = this.listeners_ && this.listeners_[type];\n        if (listeners) {\n            var index = listeners.indexOf(listener);\n            if (index !== -1) {\n                if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n                    // make listener a no-op, and remove later in #dispatchEvent()\n                    listeners[index] = VOID;\n                    ++this.pendingRemovals_[type];\n                }\n                else {\n                    listeners.splice(index, 1);\n                    if (listeners.length === 0) {\n                        delete this.listeners_[type];\n                    }\n                }\n            }\n        }\n    };\n    return Target;\n}(Disposable));\nexport default Target;\n//# sourceMappingURL=Target.js.map","/**\n * @module ol/events/condition\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport { FALSE, TRUE } from '../functions.js';\nimport { MAC, WEBKIT } from '../has.js';\nimport { assert } from '../asserts.js';\n/**\n * A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * `{boolean}`. If the condition is met, true should be returned.\n *\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default): boolean} Condition\n */\n/**\n * Creates a condition function that passes when all provided conditions pass.\n * @param {...Condition} var_args Conditions to check.\n * @return {Condition} Condition function.\n */\nexport function all(var_args) {\n    var conditions = arguments;\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @return {boolean} All conditions passed.\n     */\n    return function (event) {\n        var pass = true;\n        for (var i = 0, ii = conditions.length; i < ii; ++i) {\n            pass = pass && conditions[i](event);\n            if (!pass) {\n                break;\n            }\n        }\n        return pass;\n    };\n}\n/**\n * Return `true` if only the alt-key is pressed, `false` otherwise (e.g. when\n * additionally the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt key is pressed.\n * @api\n */\nexport var altKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the alt-key and shift-key is pressed, `false` otherwise\n * (e.g. when additionally the platform-modifier-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt and shift keys are pressed.\n * @api\n */\nexport var altShiftKeysOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n};\n/**\n * Return `true` if the map has the focus. This condition requires a map target\n * element with a `tabindex` attribute, e.g. `<div id=\"map\" tabindex=\"1\">`.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map has the focus.\n * @api\n */\nexport var focus = function (event) {\n    var targetElement = event.map.getTargetElement();\n    var activeElement = event.map.getOwnerDocument().activeElement;\n    return targetElement.contains(activeElement);\n};\n/**\n * Return `true` if the map has the focus or no 'tabindex' attribute set.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map container has the focus or no 'tabindex' attribute.\n */\nexport var focusWithTabindex = function (event) {\n    return event.map.getTargetElement().hasAttribute('tabindex')\n        ? focus(event)\n        : true;\n};\n/**\n * Return always true.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True.\n * @api\n */\nexport var always = TRUE;\n/**\n * Return `true` if the event is a `click` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `click` event.\n * @api\n */\nexport var click = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.CLICK;\n};\n/**\n * Return `true` if the event has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} The result.\n */\nexport var mouseActionButton = function (mapBrowserEvent) {\n    var originalEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n    return originalEvent.button == 0 && !(WEBKIT && MAC && originalEvent.ctrlKey);\n};\n/**\n * Return always false.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} False.\n * @api\n */\nexport var never = FALSE;\n/**\n * Return `true` if the browser event is a `pointermove` event, `false`\n * otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the browser event is a `pointermove` event.\n * @api\n */\nexport var pointerMove = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == 'pointermove';\n};\n/**\n * Return `true` if the event is a map `singleclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `singleclick` event.\n * @api\n */\nexport var singleClick = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK;\n};\n/**\n * Return `true` if the event is a map `dblclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `dblclick` event.\n * @api\n */\nexport var doubleClick = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.DBLCLICK;\n};\n/**\n * Return `true` if no modifier key (alt-, shift- or platform-modifier-key) is\n * pressed.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if there no modifier keys are pressed.\n * @api\n */\nexport var noModifierKeys = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the platform-modifier-key (the meta-key on Mac,\n * ctrl-key otherwise) is pressed, `false` otherwise (e.g. when additionally\n * the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the platform modifier key is pressed.\n * @api\n */\nexport var platformModifierKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        (MAC ? originalEvent.metaKey : originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the shift-key is pressed, `false` otherwise (e.g. when\n * additionally the alt-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the shift key is pressed.\n * @api\n */\nexport var shiftKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n};\n/**\n * Return `true` if the target element is not editable, i.e. not an `input`,\n * `select`, or `textarea` element and no `contenteditable` attribute is\n * set or inherited, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if the target element is not editable.\n * @api\n */\nexport var targetNotEditable = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    var tagName = /** @type {Element} */ (originalEvent.target).tagName;\n    return (tagName !== 'INPUT' &&\n        tagName !== 'SELECT' &&\n        tagName !== 'TEXTAREA' &&\n        // `isContentEditable` is only available on `HTMLElement`, but it may also be a\n        // different type like `SVGElement`.\n        // @ts-ignore\n        !originalEvent.target.isContentEditable);\n};\n/**\n * Return `true` if the event originates from a mouse device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a mouse device.\n * @api\n */\nexport var mouseOnly = function (mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvent.pointerType == 'mouse';\n};\n/**\n * Return `true` if the event originates from a touchable device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a touchable device.\n * @api\n */\nexport var touchOnly = function (mapBrowserEvent) {\n    var pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvt !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvt.pointerType === 'touch';\n};\n/**\n * Return `true` if the event originates from a digital pen.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a digital pen.\n * @api\n */\nexport var penOnly = function (mapBrowserEvent) {\n    var pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvt !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvt.pointerType === 'pen';\n};\n/**\n * Return `true` if the event originates from a primary pointer in\n * contact with the surface or if the left mouse button is pressed.\n * See https://www.w3.org/TR/pointerevents/#button-states.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a primary pointer.\n * @api\n */\nexport var primaryAction = function (mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    return pointerEvent.isPrimary && pointerEvent.button === 0;\n};\n//# sourceMappingURL=condition.js.map","/**\n * @module ol/featureloader\n */\nimport { VOID } from './functions.js';\n/**\n *\n * @type {boolean}\n * @private\n */\nvar withCredentials = false;\n/**\n * {@link module:ol/source/Vector~VectorSource} sources use a function of this type to\n * load features.\n *\n * This function takes up to 5 arguments. These are an {@link module:ol/extent~Extent} representing\n * the area to be loaded, a `{number}` representing the resolution (map units per pixel), an\n * {@link module:ol/proj/Projection~Projection} for the projection, an optional success callback that should get\n * the loaded features passed as an argument and an optional failure callback with no arguments. If\n * the callbacks are not used, the corresponding vector source will not fire `'featuresloadend'` and\n * `'featuresloaderror'` events. `this` within the function is bound to the\n * {@link module:ol/source/Vector~VectorSource} it's called from.\n *\n * The function is responsible for loading the features and adding them to the\n * source.\n * @typedef {function(this:(import(\"./source/Vector\").default|import(\"./VectorTile.js\").default),\n *           import(\"./extent.js\").Extent,\n *           number,\n *           import(\"./proj/Projection.js\").default,\n *           function(Array<import(\"./Feature.js\").default>): void=,\n *           function(): void=): void} FeatureLoader\n * @api\n */\n/**\n * {@link module:ol/source/Vector~VectorSource} sources use a function of this type to\n * get the url to load features from.\n *\n * This function takes an {@link module:ol/extent~Extent} representing the area\n * to be loaded, a `{number}` representing the resolution (map units per pixel)\n * and an {@link module:ol/proj/Projection~Projection} for the projection  as\n * arguments and returns a `{string}` representing the URL.\n * @typedef {function(import(\"./extent.js\").Extent, number, import(\"./proj/Projection.js\").default): string} FeatureUrlFunction\n * @api\n */\n/**\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @param {function(Array<import(\"./Feature.js\").default>, import(\"./proj/Projection.js\").default): void} success Success\n *      Function called with the loaded features and optionally with the data projection.\n * @param {function(): void} failure Failure\n *      Function called when loading failed.\n */\nexport function loadFeaturesXhr(url, format, extent, resolution, projection, success, failure) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', typeof url === 'function' ? url(extent, resolution, projection) : url, true);\n    if (format.getType() == 'arraybuffer') {\n        xhr.responseType = 'arraybuffer';\n    }\n    xhr.withCredentials = withCredentials;\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    xhr.onload = function (event) {\n        // status will be 0 for file:// urls\n        if (!xhr.status || (xhr.status >= 200 && xhr.status < 300)) {\n            var type = format.getType();\n            /** @type {Document|Node|Object|string|undefined} */\n            var source = void 0;\n            if (type == 'json' || type == 'text') {\n                source = xhr.responseText;\n            }\n            else if (type == 'xml') {\n                source = xhr.responseXML;\n                if (!source) {\n                    source = new DOMParser().parseFromString(xhr.responseText, 'application/xml');\n                }\n            }\n            else if (type == 'arraybuffer') {\n                source = /** @type {ArrayBuffer} */ (xhr.response);\n            }\n            if (source) {\n                success(\n                /** @type {Array<import(\"./Feature.js\").default>} */\n                (format.readFeatures(source, {\n                    extent: extent,\n                    featureProjection: projection,\n                })), format.readProjection(source));\n            }\n            else {\n                failure();\n            }\n        }\n        else {\n            failure();\n        }\n    };\n    /**\n     * @private\n     */\n    xhr.onerror = failure;\n    xhr.send();\n}\n/**\n * Create an XHR feature loader for a `url` and `format`. The feature loader\n * loads features (with XHR), parses the features, and adds them to the\n * vector source.\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @return {FeatureLoader} The feature loader.\n * @api\n */\nexport function xhr(url, format) {\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @param {function(Array<import(\"./Feature.js\").default>): void} [success] Success\n     *      Function called when loading succeeded.\n     * @param {function(): void} [failure] Failure\n     *      Function called when loading failed.\n     * @this {import(\"./source/Vector\").default}\n     */\n    return function (extent, resolution, projection, success, failure) {\n        var source = /** @type {import(\"./source/Vector\").default} */ (this);\n        loadFeaturesXhr(url, format, extent, resolution, projection, \n        /**\n         * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n         * @param {import(\"./proj/Projection.js\").default} dataProjection Data\n         * projection.\n         */\n        function (features, dataProjection) {\n            source.addFeatures(features);\n            if (success !== undefined) {\n                success(features);\n            }\n        }, \n        /* FIXME handle error */ failure ? failure : VOID);\n    };\n}\n/**\n * Setter for the withCredentials configuration for the XHR.\n *\n * @param {boolean} xhrWithCredentials The value of withCredentials to set.\n * Compare https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/\n * @api\n */\nexport function setWithCredentials(xhrWithCredentials) {\n    withCredentials = xhrWithCredentials;\n}\n//# sourceMappingURL=featureloader.js.map","/**\n * @module ol/format/Feature\n */\nimport Units from '../proj/Units.js';\nimport { abstract } from '../util.js';\nimport { assign } from '../obj.js';\nimport { equivalent as equivalentProjection, get as getProjection, transformExtent, } from '../proj.js';\n/**\n * @typedef {Object} ReadOptions\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection] Projection of the data we are reading.\n * If not provided, the projection will be derived from the data (where possible) or\n * the `dataProjection` of the format is assigned (where set). If the projection\n * can not be derived from the data and if no `dataProjection` is set for a format,\n * the features will not be reprojected.\n * @property {import(\"../extent.js\").Extent} [extent] Tile extent in map units of the tile being read.\n * This is only required when reading data with tile pixels as geometry units. When configured,\n * a `dataProjection` with `TILE_PIXELS` as `units` and the tile's pixel extent as `extent` needs to be\n * provided.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection of the feature geometries\n * created by the format reader. If not provided, features will be returned in the\n * `dataProjection`.\n */\n/**\n * @typedef {Object} WriteOptions\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection] Projection of the data we are writing.\n * If not provided, the `dataProjection` of the format is assigned (where set).\n * If no `dataProjection` is set for a format, the features will be returned\n * in the `featureProjection`.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection of the feature geometries\n * that will be serialized by the format writer. If not provided, geometries are assumed\n * to be in the `dataProjection` if that is set; in other words, they are not transformed.\n * @property {boolean} [rightHanded] When writing geometries, follow the right-hand\n * rule for linear ring orientation.  This means that polygons will have counter-clockwise\n * exterior rings and clockwise interior rings.  By default, coordinates are serialized\n * as they are provided at construction.  If `true`, the right-hand rule will\n * be applied.  If `false`, the left-hand rule will be applied (clockwise for\n * exterior and counter-clockwise for interior rings).  Note that not all\n * formats support this.  The GeoJSON format does use this property when writing\n * geometries.\n * @property {number} [decimals] Maximum number of decimal places for coordinates.\n * Coordinates are stored internally as floats, but floating-point arithmetic can create\n * coordinates with a large number of decimal places, not generally wanted on output.\n * Set a number here to round coordinates. Can also be used to ensure that\n * coordinates read in can be written back out with the same number of decimals.\n * Default is no rounding.\n */\n/**\n * @typedef {'arraybuffer' | 'json' | 'text' | 'xml'} Type\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for feature formats.\n * {@link module:ol/format/Feature~FeatureFormat} subclasses provide the ability to decode and encode\n * {@link module:ol/Feature~Feature} objects from a variety of commonly used geospatial\n * file formats.  See the documentation for each format for more details.\n *\n * @abstract\n * @api\n */\nvar FeatureFormat = /** @class */ (function () {\n    function FeatureFormat() {\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default|undefined}\n         */\n        this.dataProjection = undefined;\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default|undefined}\n         */\n        this.defaultFeatureProjection = undefined;\n        /**\n         * A list media types supported by the format in descending order of preference.\n         * @type {Array<string>}\n         */\n        this.supportedMediaTypes = null;\n    }\n    /**\n     * Adds the data projection to the read options.\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Options.\n     * @return {ReadOptions|undefined} Options.\n     * @protected\n     */\n    FeatureFormat.prototype.getReadOptions = function (source, opt_options) {\n        var options;\n        if (opt_options) {\n            var dataProjection = opt_options.dataProjection\n                ? getProjection(opt_options.dataProjection)\n                : this.readProjection(source);\n            if (opt_options.extent &&\n                dataProjection &&\n                dataProjection.getUnits() === Units.TILE_PIXELS) {\n                dataProjection = getProjection(dataProjection);\n                dataProjection.setWorldExtent(opt_options.extent);\n            }\n            options = {\n                dataProjection: dataProjection,\n                featureProjection: opt_options.featureProjection,\n            };\n        }\n        return this.adaptOptions(options);\n    };\n    /**\n     * Sets the `dataProjection` on the options, if no `dataProjection`\n     * is set.\n     * @param {WriteOptions|ReadOptions|undefined} options\n     *     Options.\n     * @protected\n     * @return {WriteOptions|ReadOptions|undefined}\n     *     Updated options.\n     */\n    FeatureFormat.prototype.adaptOptions = function (options) {\n        return assign({\n            dataProjection: this.dataProjection,\n            featureProjection: this.defaultFeatureProjection,\n        }, options);\n    };\n    /**\n     * @abstract\n     * @return {Type} The format type.\n     */\n    FeatureFormat.prototype.getType = function () {\n        return abstract();\n    };\n    /**\n     * Read a single feature from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Read options.\n     * @return {import(\"../Feature.js\").FeatureLike} Feature.\n     */\n    FeatureFormat.prototype.readFeature = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read all features from a source.\n     *\n     * @abstract\n     * @param {Document|Element|ArrayBuffer|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Read options.\n     * @return {Array<import(\"../Feature.js\").FeatureLike>} Features.\n     */\n    FeatureFormat.prototype.readFeatures = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read a single geometry from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Read options.\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    FeatureFormat.prototype.readGeometry = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read the projection from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @return {import(\"../proj/Projection.js\").default|undefined} Projection.\n     */\n    FeatureFormat.prototype.readProjection = function (source) {\n        return abstract();\n    };\n    /**\n     * Encode a feature in this format.\n     *\n     * @abstract\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {WriteOptions} [opt_options] Write options.\n     * @return {string|ArrayBuffer} Result.\n     */\n    FeatureFormat.prototype.writeFeature = function (feature, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode an array of features in this format.\n     *\n     * @abstract\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {WriteOptions} [opt_options] Write options.\n     * @return {string|ArrayBuffer} Result.\n     */\n    FeatureFormat.prototype.writeFeatures = function (features, opt_options) {\n        return abstract();\n    };\n    /**\n     * Write a single geometry in this format.\n     *\n     * @abstract\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {WriteOptions} [opt_options] Write options.\n     * @return {string|ArrayBuffer} Result.\n     */\n    FeatureFormat.prototype.writeGeometry = function (geometry, opt_options) {\n        return abstract();\n    };\n    return FeatureFormat;\n}());\nexport default FeatureFormat;\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {boolean} write Set to true for writing, false for reading.\n * @param {WriteOptions|ReadOptions} [opt_options] Options.\n * @return {import(\"../geom/Geometry.js\").default} Transformed geometry.\n */\nexport function transformGeometryWithOptions(geometry, write, opt_options) {\n    var featureProjection = opt_options\n        ? getProjection(opt_options.featureProjection)\n        : null;\n    var dataProjection = opt_options\n        ? getProjection(opt_options.dataProjection)\n        : null;\n    var transformed;\n    if (featureProjection &&\n        dataProjection &&\n        !equivalentProjection(featureProjection, dataProjection)) {\n        transformed = (write ? geometry.clone() : geometry).transform(write ? featureProjection : dataProjection, write ? dataProjection : featureProjection);\n    }\n    else {\n        transformed = geometry;\n    }\n    if (write &&\n        opt_options &&\n        /** @type {WriteOptions} */ (opt_options).decimals !== undefined) {\n        var power_1 = Math.pow(10, \n        /** @type {WriteOptions} */ (opt_options).decimals);\n        // if decimals option on write, round each coordinate appropriately\n        /**\n         * @param {Array<number>} coordinates Coordinates.\n         * @return {Array<number>} Transformed coordinates.\n         */\n        var transform = function (coordinates) {\n            for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n                coordinates[i] = Math.round(coordinates[i] * power_1) / power_1;\n            }\n            return coordinates;\n        };\n        if (transformed === geometry) {\n            transformed = geometry.clone();\n        }\n        transformed.applyTransform(transform);\n    }\n    return transformed;\n}\n/**\n * @param {import(\"../extent.js\").Extent} extent Extent.\n * @param {ReadOptions} [opt_options] Read options.\n * @return {import(\"../extent.js\").Extent} Transformed extent.\n */\nexport function transformExtentWithOptions(extent, opt_options) {\n    var featureProjection = opt_options\n        ? getProjection(opt_options.featureProjection)\n        : null;\n    var dataProjection = opt_options\n        ? getProjection(opt_options.dataProjection)\n        : null;\n    if (featureProjection &&\n        dataProjection &&\n        !equivalentProjection(featureProjection, dataProjection)) {\n        return transformExtent(extent, dataProjection, featureProjection);\n    }\n    else {\n        return extent;\n    }\n}\n//# sourceMappingURL=Feature.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/JSONFeature\n */\nimport FeatureFormat from './Feature.js';\nimport { abstract } from '../util.js';\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for JSON feature formats.\n *\n * @abstract\n */\nvar JSONFeature = /** @class */ (function (_super) {\n    __extends(JSONFeature, _super);\n    function JSONFeature() {\n        return _super.call(this) || this;\n    }\n    /**\n     * @return {import(\"./Feature.js\").Type} Format.\n     */\n    JSONFeature.prototype.getType = function () {\n        return 'json';\n    };\n    /**\n     * Read a feature.  Only works for a single feature. Use `readFeatures` to\n     * read a feature collection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @return {import(\"../Feature.js\").default} Feature.\n     * @api\n     */\n    JSONFeature.prototype.readFeature = function (source, opt_options) {\n        return this.readFeatureFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * Read all features.  Works with both a single feature and a feature\n     * collection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    JSONFeature.prototype.readFeatures = function (source, opt_options) {\n        return this.readFeaturesFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    JSONFeature.prototype.readFeatureFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     */\n    JSONFeature.prototype.readFeaturesFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read a geometry.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     * @api\n     */\n    JSONFeature.prototype.readGeometry = function (source, opt_options) {\n        return this.readGeometryFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    JSONFeature.prototype.readGeometryFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read the projection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    JSONFeature.prototype.readProjection = function (source) {\n        return this.readProjectionFromObject(getObject(source));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    JSONFeature.prototype.readProjectionFromObject = function (object) {\n        return abstract();\n    };\n    /**\n     * Encode a feature as string.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {string} Encoded feature.\n     * @api\n     */\n    JSONFeature.prototype.writeFeature = function (feature, opt_options) {\n        return JSON.stringify(this.writeFeatureObject(feature, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeFeatureObject = function (feature, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode an array of features as string.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {string} Encoded features.\n     * @api\n     */\n    JSONFeature.prototype.writeFeatures = function (features, opt_options) {\n        return JSON.stringify(this.writeFeaturesObject(features, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeFeaturesObject = function (features, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode a geometry as string.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {string} Encoded geometry.\n     * @api\n     */\n    JSONFeature.prototype.writeGeometry = function (geometry, opt_options) {\n        return JSON.stringify(this.writeGeometryObject(geometry, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeGeometryObject = function (geometry, opt_options) {\n        return abstract();\n    };\n    return JSONFeature;\n}(FeatureFormat));\n/**\n * @param {Document|Element|Object|string} source Source.\n * @return {Object} Object.\n */\nfunction getObject(source) {\n    if (typeof source === 'string') {\n        var object = JSON.parse(source);\n        return object ? /** @type {Object} */ (object) : null;\n    }\n    else if (source !== null) {\n        return source;\n    }\n    else {\n        return null;\n    }\n}\nexport default JSONFeature;\n//# sourceMappingURL=JSONFeature.js.map","/**\n * @module ol/format/GeoJSON\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Feature from '../Feature.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport JSONFeature from './JSONFeature.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport { assert } from '../asserts.js';\nimport { assign, isEmpty } from '../obj.js';\nimport { get as getProjection } from '../proj.js';\nimport { transformGeometryWithOptions } from './Feature.js';\n/**\n * @typedef {import(\"geojson\").GeoJSON} GeoJSONObject\n * @typedef {import(\"geojson\").Feature} GeoJSONFeature\n * @typedef {import(\"geojson\").FeatureCollection} GeoJSONFeatureCollection\n * @typedef {import(\"geojson\").Geometry} GeoJSONGeometry\n * @typedef {import(\"geojson\").Point} GeoJSONPoint\n * @typedef {import(\"geojson\").LineString} GeoJSONLineString\n * @typedef {import(\"geojson\").Polygon} GeoJSONPolygon\n * @typedef {import(\"geojson\").MultiPoint} GeoJSONMultiPoint\n * @typedef {import(\"geojson\").MultiLineString} GeoJSONMultiLineString\n * @typedef {import(\"geojson\").MultiPolygon} GeoJSONMultiPolygon\n * @typedef {import(\"geojson\").GeometryCollection} GeoJSONGeometryCollection\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection='EPSG:4326'] Default data projection.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection for features read or\n * written by the format.  Options passed to read or write methods will take precedence.\n * @property {string} [geometryName] Geometry name to use when creating features.\n * @property {boolean} [extractGeometryName=false] Certain GeoJSON providers include\n * the geometry_name field in the feature GeoJSON. If set to `true` the GeoJSON reader\n * will look for that field to set the geometry name. If both this field is set to `true`\n * and a `geometryName` is provided, the `geometryName` will take precedence.\n */\n/**\n * @classdesc\n * Feature format for reading and writing data in the GeoJSON format.\n *\n * @api\n */\nvar GeoJSON = /** @class */ (function (_super) {\n    __extends(GeoJSON, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function GeoJSON(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this) || this;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.dataProjection = getProjection(options.dataProjection ? options.dataProjection : 'EPSG:4326');\n        if (options.featureProjection) {\n            /**\n             * @type {import(\"../proj/Projection.js\").default}\n             */\n            _this.defaultFeatureProjection = getProjection(options.featureProjection);\n        }\n        /**\n         * Name of the geometry attribute for features.\n         * @type {string|undefined}\n         * @private\n         */\n        _this.geometryName_ = options.geometryName;\n        /**\n         * Look for the geometry name in the feature GeoJSON\n         * @type {boolean|undefined}\n         * @private\n         */\n        _this.extractGeometryName_ = options.extractGeometryName;\n        _this.supportedMediaTypes = [\n            'application/geo+json',\n            'application/vnd.geo+json',\n        ];\n        return _this;\n    }\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    GeoJSON.prototype.readFeatureFromObject = function (object, opt_options) {\n        /**\n         * @type {GeoJSONFeature}\n         */\n        var geoJSONFeature = null;\n        if (object['type'] === 'Feature') {\n            geoJSONFeature = /** @type {GeoJSONFeature} */ (object);\n        }\n        else {\n            geoJSONFeature = {\n                'type': 'Feature',\n                'geometry': /** @type {GeoJSONGeometry} */ (object),\n                'properties': null,\n            };\n        }\n        var geometry = readGeometry(geoJSONFeature['geometry'], opt_options);\n        var feature = new Feature();\n        if (this.geometryName_) {\n            feature.setGeometryName(this.geometryName_);\n        }\n        else if (this.extractGeometryName_ &&\n            'geometry_name' in geoJSONFeature !== undefined) {\n            feature.setGeometryName(geoJSONFeature['geometry_name']);\n        }\n        feature.setGeometry(geometry);\n        if ('id' in geoJSONFeature) {\n            feature.setId(geoJSONFeature['id']);\n        }\n        if (geoJSONFeature['properties']) {\n            feature.setProperties(geoJSONFeature['properties'], true);\n        }\n        return feature;\n    };\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {Array<Feature>} Features.\n     */\n    GeoJSON.prototype.readFeaturesFromObject = function (object, opt_options) {\n        var geoJSONObject = /** @type {GeoJSONObject} */ (object);\n        /** @type {Array<import(\"../Feature.js\").default>} */\n        var features = null;\n        if (geoJSONObject['type'] === 'FeatureCollection') {\n            var geoJSONFeatureCollection = /** @type {GeoJSONFeatureCollection} */ (object);\n            features = [];\n            var geoJSONFeatures = geoJSONFeatureCollection['features'];\n            for (var i = 0, ii = geoJSONFeatures.length; i < ii; ++i) {\n                features.push(this.readFeatureFromObject(geoJSONFeatures[i], opt_options));\n            }\n        }\n        else {\n            features = [this.readFeatureFromObject(object, opt_options)];\n        }\n        return features;\n    };\n    /**\n     * @param {GeoJSONGeometry} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    GeoJSON.prototype.readGeometryFromObject = function (object, opt_options) {\n        return readGeometry(object, opt_options);\n    };\n    /**\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    GeoJSON.prototype.readProjectionFromObject = function (object) {\n        var crs = object['crs'];\n        var projection;\n        if (crs) {\n            if (crs['type'] == 'name') {\n                projection = getProjection(crs['properties']['name']);\n            }\n            else if (crs['type'] === 'EPSG') {\n                projection = getProjection('EPSG:' + crs['properties']['code']);\n            }\n            else {\n                assert(false, 36); // Unknown SRS type\n            }\n        }\n        else {\n            projection = this.dataProjection;\n        }\n        return /** @type {import(\"../proj/Projection.js\").default} */ (projection);\n    };\n    /**\n     * Encode a feature as a GeoJSON Feature object.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONFeature} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeatureObject = function (feature, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        /** @type {GeoJSONFeature} */\n        var object = {\n            'type': 'Feature',\n            geometry: null,\n            properties: null,\n        };\n        var id = feature.getId();\n        if (id !== undefined) {\n            object.id = id;\n        }\n        if (!feature.hasProperties()) {\n            return object;\n        }\n        var properties = feature.getProperties();\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            object.geometry = writeGeometry(geometry, opt_options);\n            delete properties[feature.getGeometryName()];\n        }\n        if (!isEmpty(properties)) {\n            object.properties = properties;\n        }\n        return object;\n    };\n    /**\n     * Encode an array of features as a GeoJSON object.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONFeatureCollection} GeoJSON Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeaturesObject = function (features, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        var objects = [];\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            objects.push(this.writeFeatureObject(features[i], opt_options));\n        }\n        return {\n            type: 'FeatureCollection',\n            features: objects,\n        };\n    };\n    /**\n     * Encode a geometry as a GeoJSON object.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONGeometry|GeoJSONGeometryCollection} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeGeometryObject = function (geometry, opt_options) {\n        return writeGeometry(geometry, this.adaptOptions(opt_options));\n    };\n    return GeoJSON;\n}(JSONFeature));\n/**\n * @param {GeoJSONGeometry|GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {import(\"../geom/Geometry.js\").default} Geometry.\n */\nfunction readGeometry(object, opt_options) {\n    if (!object) {\n        return null;\n    }\n    /**\n     * @type {import(\"../geom/Geometry.js\").default}\n     */\n    var geometry;\n    switch (object['type']) {\n        case 'Point': {\n            geometry = readPointGeometry(/** @type {GeoJSONPoint} */ (object));\n            break;\n        }\n        case 'LineString': {\n            geometry = readLineStringGeometry(\n            /** @type {GeoJSONLineString} */ (object));\n            break;\n        }\n        case 'Polygon': {\n            geometry = readPolygonGeometry(/** @type {GeoJSONPolygon} */ (object));\n            break;\n        }\n        case 'MultiPoint': {\n            geometry = readMultiPointGeometry(\n            /** @type {GeoJSONMultiPoint} */ (object));\n            break;\n        }\n        case 'MultiLineString': {\n            geometry = readMultiLineStringGeometry(\n            /** @type {GeoJSONMultiLineString} */ (object));\n            break;\n        }\n        case 'MultiPolygon': {\n            geometry = readMultiPolygonGeometry(\n            /** @type {GeoJSONMultiPolygon} */ (object));\n            break;\n        }\n        case 'GeometryCollection': {\n            geometry = readGeometryCollectionGeometry(\n            /** @type {GeoJSONGeometryCollection} */ (object));\n            break;\n        }\n        default: {\n            throw new Error('Unsupported GeoJSON type: ' + object['type']);\n        }\n    }\n    return transformGeometryWithOptions(geometry, false, opt_options);\n}\n/**\n * @param {GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {GeometryCollection} Geometry collection.\n */\nfunction readGeometryCollectionGeometry(object, opt_options) {\n    var geometries = object['geometries'].map(\n    /**\n     * @param {GeoJSONGeometry} geometry Geometry.\n     * @return {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     */\n    function (geometry) {\n        return readGeometry(geometry, opt_options);\n    });\n    return new GeometryCollection(geometries);\n}\n/**\n * @param {GeoJSONPoint} object Object.\n * @return {Point} Point.\n */\nfunction readPointGeometry(object) {\n    return new Point(object['coordinates']);\n}\n/**\n * @param {GeoJSONLineString} object Object.\n * @return {LineString} LineString.\n */\nfunction readLineStringGeometry(object) {\n    return new LineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiLineString} object Object.\n * @return {MultiLineString} MultiLineString.\n */\nfunction readMultiLineStringGeometry(object) {\n    return new MultiLineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPoint} object Object.\n * @return {MultiPoint} MultiPoint.\n */\nfunction readMultiPointGeometry(object) {\n    return new MultiPoint(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPolygon} object Object.\n * @return {MultiPolygon} MultiPolygon.\n */\nfunction readMultiPolygonGeometry(object) {\n    return new MultiPolygon(object['coordinates']);\n}\n/**\n * @param {GeoJSONPolygon} object Object.\n * @return {Polygon} Polygon.\n */\nfunction readPolygonGeometry(object) {\n    return new Polygon(object['coordinates']);\n}\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeGeometry(geometry, opt_options) {\n    geometry = transformGeometryWithOptions(geometry, true, opt_options);\n    var type = geometry.getType();\n    /** @type {GeoJSONGeometry} */\n    var geoJSON;\n    switch (type) {\n        case 'Point': {\n            geoJSON = writePointGeometry(\n            /** @type {Point} */ (geometry), opt_options);\n            break;\n        }\n        case 'LineString': {\n            geoJSON = writeLineStringGeometry(\n            /** @type {LineString} */ (geometry), opt_options);\n            break;\n        }\n        case 'Polygon': {\n            geoJSON = writePolygonGeometry(\n            /** @type {Polygon} */ (geometry), opt_options);\n            break;\n        }\n        case 'MultiPoint': {\n            geoJSON = writeMultiPointGeometry(\n            /** @type {MultiPoint} */ (geometry), opt_options);\n            break;\n        }\n        case 'MultiLineString': {\n            geoJSON = writeMultiLineStringGeometry(\n            /** @type {MultiLineString} */ (geometry), opt_options);\n            break;\n        }\n        case 'MultiPolygon': {\n            geoJSON = writeMultiPolygonGeometry(\n            /** @type {MultiPolygon} */ (geometry), opt_options);\n            break;\n        }\n        case 'GeometryCollection': {\n            geoJSON = writeGeometryCollectionGeometry(\n            /** @type {GeometryCollection} */ (geometry), opt_options);\n            break;\n        }\n        case 'Circle': {\n            geoJSON = {\n                type: 'GeometryCollection',\n                geometries: [],\n            };\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return geoJSON;\n}\n/**\n * @param {GeometryCollection} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometryCollection} GeoJSON geometry collection.\n */\nfunction writeGeometryCollectionGeometry(geometry, opt_options) {\n    var geometries = geometry.getGeometriesArray().map(function (geometry) {\n        var options = assign({}, opt_options);\n        delete options.featureProjection;\n        return writeGeometry(geometry, options);\n    });\n    return {\n        type: 'GeometryCollection',\n        geometries: geometries,\n    };\n}\n/**\n * @param {LineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'LineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiLineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiLineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPoint} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPointGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiPoint',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPolygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'MultiPolygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\n/**\n * @param {Point} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePointGeometry(geometry, opt_options) {\n    return {\n        type: 'Point',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {Polygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'Polygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\nexport default GeoJSON;\n//# sourceMappingURL=GeoJSON.js.map"],"names":["binarySearch","haystack","needle","opt_comparator","mid","cmp","comparator","numberSafeCompareFunction","low","high","length","found","a","b","includes","arr","obj","indexOf","linearFindNearest","target","direction","n","i","reverseSubArray","begin","end","tmp","extend","data","extension","Array","isArray","find","func","value","equals","arr1","arr2","len1","findIndex","index","every","el","idx","isSorted","opt_func","opt_strict","compare","currentVal","res","createExtent","extent","onlyCenter","smooth","center","resolution","size","opt_isMoving","opt_centerShift","viewWidth","viewHeight","shiftX","shiftY","minX","maxX","minY","maxY","x","y","ratio","Math","log","max","none","HEX_COLOR_RE_","NAMED_COLOR_RE_","asString","color","toString","fromNamed","document","createElement","style","body","appendChild","rgb","getComputedStyle","removeChild","fromString","MAX_CACHE_SIZE","cache","cacheSize","s","hasOwnProperty","key","fromStringInternal_","asArray","r","g","exec","d","hasAlpha","parseInt","substr","slice","split","map","Number","normalize","push","undefined","round","isStringColor","test","asColorLike","__extends","extendStatics","Object","setPrototypeOf","__proto__","p","prototype","call","TypeError","String","__","this","constructor","create","Attribution","_super","opt_options","_this","options","element","render","ulElement_","collapsed_","collapsed","userCollapsed_","overrideCollapsible_","collapsible","collapsible_","className","tipLabel","expandClassName","collapseLabel","collapseClassName","collapseLabel_","textContent","label","label_","activeLabel","toggleButton_","setAttribute","title","addEventListener","EventType","handleClick_","bind","cssClasses","renderedAttributions_","renderedVisible_","collectSourceAttributions_","frameState","lookup","visibleAttributions","layerStatesArray","ii","layerState","viewState","source","getSource","attributionGetter","getAttributions","attributions","getAttributionsCollapsible","j","jj","setCollapsible","updateElement_","visible","display","innerHTML","event","preventDefault","handleToggle_","classList","toggle","getCollapsible","setCollapsed","getCollapsed","mapEvent","Control","Rotate","compassClassName","add","button","callResetNorth_","resetNorth","duration_","duration","autoHide_","autoHide","rotation_","resetNorth_","getMap","view","getView","rotation","getRotation","PI","animate","easing","setRotation","transform","contains","remove","Zoom","delta","zoomInClassName","zoomOutClassName","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","inElement","createTextNode","outElement","zoomByDelta_","currentZoom","getZoom","newZoom","getConstrainedZoom","getAnimating","cancelAnimations","zoom","setZoom","defaults","controls","Collection","zoomControl","zoomOptions","rotateControl","rotate","rotateOptions","attributionControl","attribution","attributionOptions","pointerEvents","target_","map_","listenerKeys","setTarget","disposeInternal","setMap","getOverlayContainerStopEvent","getElementById","events","FullScreenEventType","ENTERFULLSCREEN","LEAVEFULLSCREEN","FullScreen","on","once","un","keys_","keys","source_","isInFullscreen_","boundHandleMapTargetChange_","handleMapTargetChange_","cssClassName_","documentListeners_","activeClassName_","activeClassName","inactiveClassName_","inactiveClassName","labelNode_","labelActive","labelActiveNode_","button_","setClassName_","concat","handleFullScreen_","doc","getOwnerDocument","isFullScreenSupported","isFullScreen","exitFullScreen","getTargetElement","requestFullScreenWithKeys","requestFullScreen","handleFullScreenChange_","wasInFullscreen","dispatchEvent","updateSize","fullscreen","_a","_b","_c","_d","apply","oldMap","removeChangeListener","addChangeListener","listeners","requestFullscreen","fullscreenEnabled","fullscreenElement","exitFullscreen","UNITS_PROP","Units","DEGREES","IMPERIAL","NAUTICAL","METRIC","US","LEADING_DIGITS","DEFAULT_DPI","ScaleLine","bar","innerElement_","viewState_","minWidth_","minWidth","maxWidth_","maxWidth","renderedWidth_","renderedHTML_","handleUnitsChanged_","setUnits","units","scaleBar_","scaleBarSteps_","steps","scaleBarText_","text","dpi_","dpi","getUnits","get","set","setDpi","projection","pointResolutionUnits","pointResolution","nominalCount","suffix","metersPerDegree","count","width","decimalCount","previousCount","previousWidth","previousDecimalCount","html","floor","decimal","pow","isNaN","createScaleBar","toFixed","scale","scaleBarText","mapScale","getScaleForResolution","toLocaleString","scaleSteps","stepWidth","backgroundColor","createMarker","createStepText","container","join","position","top","isLast","lengthString","margin","inchesPerMeter","parseFloat","CLASS_HIDDEN","CLASS_UNSELECTABLE","CLASS_UNSUPPORTED","CLASS_CONTROL","CLASS_COLLAPSED","fontRegEx","RegExp","fontRegExMatchIndex","getFontParameters","fontSpec","match","lineHeight","weight","variant","families","family","createCanvasContext2D","opt_width","opt_height","opt_canvasPool","opt_Context2DSettings","canvas","shift","OffscreenCanvas","height","getContext","releaseCanvas","context","clearRect","replaceNode","newNode","oldNode","parent","parentNode","replaceChild","removeNode","node","removeChildren","lastChild","replaceChildren","children","oldChildren","childNodes","oldChild","newChild","insertBefore","easeIn","t","easeOut","inAndOut","linear","listen","type","listener","opt_this","opt_once","originalListener_1","removeEventListener","arguments","eventsKey","listenOnce","unlistenByKey","BaseEvent","propagationStopped","defaultPrevented","stopPropagation","CHANGE","ERROR","BLUR","CLEAR","CONTEXTMENU","CLICK","DBLCLICK","DRAGENTER","DRAGOVER","DROP","FOCUS","KEYDOWN","KEYPRESS","LOAD","RESIZE","TOUCHMOVE","WHEEL","LEFT","UP","RIGHT","DOWN","Target","opt_target","eventTarget_","pendingRemovals_","dispatching_","listeners_","listenersForType","isString","evt","propagate","dispatching","pendingRemovals","handleEvent","pr","getListeners","hasListener","opt_type","splice","all","var_args","conditions","pass","altKeyOnly","mapBrowserEvent","originalEvent","altKey","metaKey","ctrlKey","shiftKey","altShiftKeysOnly","focus","targetElement","activeElement","focusWithTabindex","hasAttribute","always","click","mouseActionButton","never","singleClick","noModifierKeys","shiftKeyOnly","targetNotEditable","tagName","isContentEditable","mouseOnly","pointerEvent","pointerType","primaryAction","isPrimary","withCredentials","loadFeaturesXhr","url","format","success","failure","xhr","XMLHttpRequest","open","getType","responseType","onload","status","responseText","responseXML","DOMParser","parseFromString","readFeatures","featureProjection","readProjection","onerror","send","features","dataProjection","addFeatures","FeatureFormat","defaultFeatureProjection","supportedMediaTypes","getReadOptions","setWorldExtent","adaptOptions","readFeature","readGeometry","writeFeature","feature","writeFeatures","writeGeometry","geometry","transformGeometryWithOptions","write","transformed","clone","decimals","power_1","coordinates","applyTransform","JSONFeature","readFeatureFromObject","getObject","readFeaturesFromObject","object","readGeometryFromObject","readProjectionFromObject","JSON","stringify","writeFeatureObject","writeFeaturesObject","writeGeometryObject","parse","GeoJSON","geometryName_","geometryName","extractGeometryName_","extractGeometryName","geoJSONFeature","Feature","setGeometryName","setGeometry","setId","setProperties","geoJSONObject","geoJSONFeatureCollection","geoJSONFeatures","crs","properties","id","getId","hasProperties","getProperties","getGeometry","getGeometryName","objects","readPointGeometry","readLineStringGeometry","readPolygonGeometry","readMultiPointGeometry","readMultiLineStringGeometry","readMultiPolygonGeometry","readGeometryCollectionGeometry","Error","geometries","GeometryCollection","Point","LineString","MultiLineString","MultiPoint","MultiPolygon","Polygon","geoJSON","writePointGeometry","writeLineStringGeometry","writePolygonGeometry","writeMultiPointGeometry","writeMultiLineStringGeometry","writeMultiPolygonGeometry","writeGeometryCollectionGeometry","getGeometriesArray","getCoordinates","right","rightHanded"],"sourceRoot":""}