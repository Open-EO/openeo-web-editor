{"version":3,"file":"js/5192.0427729d.js","mappings":"iOASA,SACAA,OAAAA,CAAAA,EAAAA,GACAC,QAAAA,CAIA,wBACA,WAGAC,EAFA,gBACA,sBACAA,EAAAA,OAAAA,QAAAA,KAAAA,KAAAA,GAAAA,EAAAA,EAAAA,aAAAA,KAEA,uCACAA,EAGAA,KAIAA,EAGA,6BACA,wBAEA,GACA,mCAEA,EAEAC,cAAAA,EAAAA,GAAAA,GACA,yCACA,aACA,yEACA,qBAEA,WACAC,WACAC,WAAAA,EACAC,OAAAA,IAEA,WACAC,MAAAA,iBACAC,wBAAAA,EACAC,WASA,OAPA,GACA,wBAEA,qBAGA,2DACA,CACA,EAEAC,gBAAAA,GACA,mBAEA,wBACAC,EAAAA,IAAAA,IAEAA,EAAAA,QAAAA,KACA,ICzEoQ,I,ICAhQC,EAAQC,E,UAORC,GAAY,OACd,EACAF,EACAC,GACA,EACA,KACA,KACA,MAIF,QAAeC,EAAiB,O,gDClBhC,IAAIF,EAAS,WAAkB,IAAIG,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAKJ,EAAIK,KAAK,CAACH,EAAG,kBAAkB,CAACI,IAAI,WAAWF,MAAM,CAAC,IAAMJ,EAAIO,QAAQ,EAChK,EACGT,EAAkB,G,4CCWtB,SACAU,KAAAA,kBACAvB,OAAAA,CAAAA,EAAAA,EAAAA,EAAAA,GACAwB,MAAAA,CACAtB,UAAAA,CAGAuB,KAAAA,CAAAA,MAAAA,QACAC,QAAAA,IAAAA,OAGAzB,QAAAA,CACA,kBACA,MASA,EAPA0B,EADA,iEACAA,KAAAA,UAAAA,OAAAA,QAAAA,KAGAA,KAAAA,UAKA,SACA,gCACAC,EAAAA,EAAAA,KAAAA,GAAAA,EAAAA,EAAAA,aAAAA,KACAC,GAAAA,IAAAA,EAAAA,EAAAA,oBAAAA,OAEA,CACA,kCACA,gBACAD,EAAAA,GACA,aACAC,GAAAA,IAAAA,EAAAA,EAAAA,oBAAAA,EAAAA,EAAAA,aAAAA,IACA,IACAD,EAAAA,GAGA,OAEA,0CACA,mBACA,iBACA,ICxDwQ,I,cCQpQd,GAAY,OACd,EACAF,EACAC,GACA,EACA,KACA,KACA,MAIF,QAAeC,EAAiB,O","sources":["webpack://@openeo/web-editor/src/components/maps/ExtentMixin.vue","webpack://@openeo/web-editor/./src/components/maps/ExtentMixin.vue?105c","webpack://@openeo/web-editor/./src/components/maps/ExtentMixin.vue","webpack://@openeo/web-editor/./src/components/maps/MapExtentViewer.vue","webpack://@openeo/web-editor/src/components/maps/MapExtentViewer.vue","webpack://@openeo/web-editor/./src/components/maps/MapExtentViewer.vue?f860","webpack://@openeo/web-editor/./src/components/maps/MapExtentViewer.vue?5a5e"],"sourcesContent":["<script>\nimport GeoJsonMixin from './GeoJsonMixin.vue';\nimport Utils from '../../utils.js';\n\nimport Feature from 'ol/Feature';\nimport { fromExtent as PolygonFromExtent } from 'ol/geom/Polygon';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\n\nexport default {\n\tmixins: [GeoJsonMixin],\n\tmethods: {\n\t\t// data can be:\n\t\t// bbox: Array of Array (west, south, east, north - WGS84) or STAC Collection\n\t\t// geometry: GeoJSON Object (WGS84) or STAC Item\n\t\tasync addExtent(data, fill = true) {\n\t\t\tlet footprint = null;\n\t\t\tif (Utils.isObject(data)) {\n\t\t\t\tif (data.type === 'Collection') {\n\t\t\t\t\tfootprint = data.extent.spatial.bbox.map(bbox => Utils.extentToBBox(bbox));\n\t\t\t\t}\n\t\t\t\telse if (data.type !== 'Feature' || data.geometry || data.bbox) {\n\t\t\t\t\tfootprint = data;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfootprint = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfootprint = data;\n\t\t\t}\n\n\t\t\tif (Array.isArray(footprint) && footprint.length > 0) {\n\t\t\t\tthis.addRectangles(footprint, fill);\n\t\t\t}\n\t\t\telse if (footprint) {\n\t\t\t\tthis.addGeoJson(footprint, false, \"Footprint\", fill);\n\t\t\t}\n\t\t},\n\n\t\taddRectangles(rectangles, fill = true) {\n\t\t\tlet mapProj = this.map.getView().getProjection();\n\t\t\tlet features = rectangles.map(bbox => {\n\t\t\t\tlet polygon = PolygonFromExtent([bbox.west, bbox.south, bbox.east, bbox.north]).transform(\"EPSG:4326\", mapProj);\n\t\t\t\treturn new Feature(polygon);\n\t\t\t});\n\t\t\tlet source = new VectorSource({\n\t\t\t\tfeatures,\n\t\t\t\tprojection: mapProj,\n\t\t\t\twrapX: false\n\t\t\t});\n\t\t\tlet layer = new VectorLayer({\n\t\t\t\ttitle: \"Bounding Boxes\",\n\t\t\t\tdisplayInLayerSwitcher: false,\n\t\t\t\tsource\n\t\t\t});\n\t\t\tif (!fill) {\n\t\t\t\tthis.removeLayerFill(layer);\n\t\t\t}\n\t\t\tthis.map.addLayer(layer);\n\t\t\t// ToDo: The Collection component has some smart fitting behavior in setMapSize()\n\t\t\t// Implement something similar here, too.\n\t\t\tthis.map.getView().fit(source.getExtent(), this.getFitOptions());\n\t\t\treturn layer;\n\t\t},\n\n\t\tremoveLayerFill(layer) {\n\t\t\tlet style = layer.getStyle();\n\t\t\t// https://github.com/openlayers/openlayers/issues/10131\n\t\t\tif (typeof style === 'function') {\n\t\t\t\tstyle = style()[0];\n\t\t\t}\n\t\t\tstyle.setFill(null);\n\t\t}\n\n\t}\n\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExtentMixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExtentMixin.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./ExtentMixin.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtentMixin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":_vm.id}},[_c('ProgressControl',{ref:\"progress\",attrs:{\"map\":_vm.map}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :id=\"id\">\n\t\t<ProgressControl ref=\"progress\" :map=\"map\" />\n\t</div>\n</template>\n\n<script>\nimport MapMixin from './MapMixin.vue';\nimport StacExtentMixin from './ExtentMixin.vue';\nimport Utils from '../../utils.js';\n\nimport { isEmpty as extentIsEmpty } from 'ol/extent';\n\nexport default {\n\tname: 'MapExtentViewer',\n\tmixins: [MapMixin, StacExtentMixin],\n\tprops: {\n\t\tfootprint: {\n\t\t\t// bbox: Array of Array (west, south, east, north - WGS84)\n\t\t\t// geometry: GeoJSON Object (WGS84)\n\t\t\ttype: [Array, Object],\n\t\t\tdefault: () => null\n\t\t}\n\t},\n\tmethods: {\n\t\tasync renderMap() {\n\t\t\tlet data;\n\t\t\tif (Utils.isObject(this.footprint) && this.footprint.type === 'Collection') {\n\t\t\t\tdata = this.footprint.extent.spatial.bbox;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdata = this.footprint;\n\t\t\t}\n\n\t\t\t// Check max bounds and whether we can use Web Mercaror or WGS84\n\t\t\tlet value;\n\t\t\tlet isWebMercatorCompatible = true;\n\t\t\tif (Array.isArray(data) && data.length > 0) {\n\t\t\t\tvalue = data.map(bbox => Utils.extentToBBox(bbox));\n\t\t\t\tisWebMercatorCompatible = Utils.isBboxInWebMercator(value) !== false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet source = this.createGeoJsonSource(data);\n\t\t\t\tlet extent = source.getExtent();\n\t\t\t\tvalue = data;\n\t\t\t\tif (!extentIsEmpty(extent)) {\n\t\t\t\t\tisWebMercatorCompatible = Utils.isBboxInWebMercator(Utils.extentToBBox(extent)) !== false;\n\t\t\t\t\tif (!isWebMercatorCompatible) {\n\t\t\t\t\t\tvalue = source;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.createMap(isWebMercatorCompatible ? \"EPSG:3857\" : \"EPSG:4326\");\n\t\t\tthis.addBasemaps();\n\t\t\tthis.addExtent(value);\n\t\t}\n\n\t}\n\n}\n</script>\n\n<style src=\"./MapMixin.css\"></style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapExtentViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapExtentViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapExtentViewer.vue?vue&type=template&id=2eec136d&\"\nimport script from \"./MapExtentViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./MapExtentViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapMixin.css?vue&type=style&index=0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["mixins","methods","footprint","addRectangles","features","projection","wrapX","title","displayInLayerSwitcher","source","removeLayerFill","style","render","staticRenderFns","component","_vm","this","_c","_self","attrs","id","ref","map","name","props","type","default","data","value","isWebMercatorCompatible"],"sourceRoot":""}