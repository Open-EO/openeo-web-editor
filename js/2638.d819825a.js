"use strict";(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[2638],{62638:(t,a,s)=>{s.r(a),s.d(a,{default:()=>d});var n=function(){var t=this,a=t._self._c;return a("button",{directives:[{name:"show",rawName:"v-show",value:t.fn,expression:"fn"}],staticClass:"async-button",class:{awesome:t.fa},attrs:{type:"button",title:t.title,disabled:t.disabled},on:{click:t.update}},[a("span",{staticClass:"button-content"},[t.loading?a("span",{staticClass:"icon loading"},[t.fa?a("i",{class:t.loadingClasses}):a("LoadingIcon",{attrs:{rotate:""}})],1):!0===t.asyncState?a("span",{staticClass:"icon success"},[t.fa?a("i",{staticClass:"fas fa-check"}):a("span",[t._v("✔️")])]):!1===t.asyncState?a("span",{staticClass:"icon error"},[t.fa?a("i",{staticClass:"fas fa-times"}):a("span",[t._v("❌")])]):a("span",{staticClass:"icon default"},[t.fa?a("i",{class:t.icon}):t.icon?a("span",[t._v(t._s(t.icon))]):a("LoadingIcon")],1),a("span",{staticClass:"text"},[t._t("default")],2)])])},e=[],i=s(42918);const o={components:{LoadingIcon:i.A},name:"AsyncButton",props:{fn:{type:Function,required:!0},fa:{type:Boolean,default:!1},confirm:{type:Boolean,default:!1},icon:{type:String,default:""},title:{type:String,default:null},disabled:{type:Boolean,default:!1},consistent:{type:Boolean,default:!1}},data(){return{loading:!1,asyncState:null}},computed:{loadingClasses(){let t=this.consistent?this.icon.split(" "):["fas","fa-spinner"];return t.push("fa-spin"),t}},methods:{async update(t){if(null===this.asyncState&&!this.disabled)try{this.$emit("before",t),this.loading=!0,this.asyncState=await this.fn(t),this.confirm?"boolean"!==typeof this.asyncState&&(this.asyncState=!0):this.asyncState=null}catch(a){this.asyncState=!1}finally{this.loading=!1,this.$emit("after",this.asyncState),this.confirm&&setTimeout((()=>this.asyncState=null),3e3)}}}},l=o;var c=s(81656),u=(0,c.A)(l,n,e,!1,null,"46679896",null);const d=u.exports}}]);
//# sourceMappingURL=2638.d819825a.js.map