(globalThis["webpackChunk_openeo_web_editor"]=globalThis["webpackChunk_openeo_web_editor"]||[]).push([[3999],{93049:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal",style:{"z-index":t.zIndex},on:{mousedown:t.backgroundClose}},[e(t.containerTag,{ref:"container",tag:"component",staticClass:"modal-container",style:t.style,on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submitFunction.apply(null,arguments)}}},[e("header",{staticClass:"modal-header",on:{mousedown:t.startMove}},[t._t("header",(function(){return[e("h2",[t._v(t._s(t.title))]),e("span",{staticClass:"close",on:{click:t.close}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]}))],2),e("main",{staticClass:"modal-content"},[t._t("default")],2),e("footer",{staticClass:"modal-footer"},[t._t("footer",(function(){return[t.submitFunction?e("button",{attrs:{type:"submit"}},[t._v(t._s(t.submitButtonText))]):t._e()]}))],2)])],1)},i=[],n=s(43334),o=s(79879);const r={name:"Modal",mixins:[n.Z],props:{title:{type:String,default:null},minWidth:{type:String,default:null},width:{type:String,default:"auto"},show:{type:Boolean,default:!0},submitFunction:{type:Function,default:null},submitButtonText:{type:String,default:"Submit"}},data(){return{zIndex:1e3,position:null,dragPosition:null}},computed:{...o.Z.mapState("editor",["hightestModalZIndex"]),style(){let t={width:this.width};return this.minWidth&&(t["min-width"]=this.minWidth),Array.isArray(this.position)&&(t.position="absolute",t.left=this.position[0]+"px",t.top=this.position[1]+"px"),t},containerTag(){return this.submitFunction?"form":"div"}},watch:{show:{immediate:!0,handler(t){t?this.open():this.close()}}},methods:{...o.Z.mapMutations("editor",["openModal","closeModal"]),submit(t){this.submitFunction(t)},open(){this.openModal(),this.zIndex=this.hightestModalZIndex,window.addEventListener("keydown",this.escCloseListener),this.$emit("shown")},close(){window.removeEventListener("keydown",this.escCloseListener),this.closeModal(),this.$emit("closed")},startMove(t){"H2"!==t.target.tagName&&(this.dragPosition=[t.clientX,t.clientY],document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.stopMove),t.preventDefault(),t.stopPropagation())},stopMove(){document.removeEventListener("mousemove",this.move),document.removeEventListener("mouseup",this.stopMove)},move(t){t.preventDefault(),this.position=[this.$refs.container.offsetLeft-(this.dragPosition[0]-t.clientX),this.$refs.container.offsetTop-(this.dragPosition[1]-t.clientY)],this.dragPosition=[t.clientX,t.clientY]},escCloseListener(t){if("Escape"==t.key)return this.close(),t.preventDefault(),t.stopPropagation(),!1},backgroundClose(t){t.target===this.$el&&this.close()}}},c=r;var l=s(1001),d=(0,l.Z)(c,a,i,!1,null,null,null);const h=d.exports},3999:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>f});var a=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{id:"WizardModal",show:t.show,width:t.width,title:t.title},on:{closed:function(e){return t.$emit("closed")}},scopedSlots:t._u([{key:"default",fn:function(){return[t.selected?e("div",{staticClass:"wizard"},[e("div",{staticClass:"wizard-navigation"},[e("div",{staticClass:"wizard-progress-with-circle"},[e("div",{staticClass:"wizard-progress-bar",style:t.progressBarStyle})]),e("ul",{staticClass:"wizard-nav wizard-nav-pills",attrs:{role:"tablist"}},t._l(t.tabs,(function(s,a){return e("wizard-step",{key:a,attrs:{tab:s,index:a},nativeOn:{click:function(e){return t.navigateToTab(a)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.navigateToTab(a)}}})})),1)]),e(t.selected.component,{ref:"component",tag:"component",attrs:{parent:t.self,options:t.options},on:{input:t.execute,close:t.close}})],1):e("div",{staticClass:"start"},[e("div",{staticClass:"message warning"},[e("i",{staticClass:"fas fa-bullhorn"}),e("span",[t._v("Please note that this feature is "),e("strong",[t._v("experimental")]),t._v(" and there are chances that the generated models won't work.")])]),e("p",[t._v("This wizard helps you to create openEO processes in a simple way for some common use cases.")]),e("p",[t._v("Which use case do you want to work on today?")]),e("ul",[t._l(t.usecases,(function(s){return[s.hide?t._e():e("li",{key:s.component,staticClass:"element",on:{click:function(e){return t.start(s)}}},[e("div",{staticClass:"summary"},[e("strong",[t._v(t._s(t.getUsecaseTitle(s)))]),e("small",[t._v(t._s(s.description))])])])]}))],2)])]},proxy:!0},{key:"footer",fn:function(){return[t.selected?[e("div",{staticClass:"wizard-back"},[t.activeTabIndex>0?e("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.prevTab,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.prevTab.apply(null,arguments)}}},[e("button",{attrs:{tabindex:"-1",type:"button"}},[t._v("Back")])]):t.selected.hide?t._e():e("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.reset,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reset.apply(null,arguments)}}},[e("button",{attrs:{tabindex:"-1",type:"button"}},[t._v("Start over")])])]),e("div",{staticClass:"wizard-next"},[t.isLastStep?e("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextTab.apply(null,arguments)}}},[e("button",{attrs:{tabindex:"-1",type:"button"}},[t._v("Create")])]):e("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextTab.apply(null,arguments)}}},[e("button",{attrs:{tabindex:"-1",type:"button"}},[t._v("Next")])])])]:t._e()]},proxy:!0}])})},i=[],n=s(93049),o=s(61445),r=s(79879),c=s(4216),l=s(43334),d=s(25108);const h=c.Z.supportedWizards||[];let u={Download:()=>Promise.all([s.e(4763),s.e(4243),s.e(485),s.e(9445),s.e(114),s.e(8022),s.e(5072),s.e(2235),s.e(4210),s.e(4681),s.e(6933),s.e(7274),s.e(2325),s.e(9193)]).then(s.bind(s,45654)),UDP:()=>Promise.all([s.e(2370),s.e(4631),s.e(4763),s.e(4243),s.e(485),s.e(9445),s.e(114),s.e(8022),s.e(5072),s.e(2235),s.e(4210),s.e(4681),s.e(6933),s.e(9856),s.e(4832),s.e(9515),s.e(1814),s.e(2021),s.e(7080)]).then(s.bind(s,37080)),Modal:n.Z,WizardStep:o["default"]};for(let x of h)u[x.component]=()=>s(71400)(`./${x.component}.vue`);const p={name:"WizardModal",mixins:[l.Z],components:u,data(){return{show:!0,selected:null,usecases:[{component:"UDP",title:()=>"string"===typeof this.options.process?this.options.process.replace(/@.+/,""):"Run UDP",description:"Executes a user-defined process",hide:!0},{component:"Download",title:"Download Data",description:"Just download a small portion of data."},...c.Z.supportedWizards||[]],activeTabIndex:0,currentPercentage:0,maxStep:0,tabs:[],process:null}},props:{preselectUsecase:{type:String,default:null},options:{type:Object,default:()=>({})}},created(){this.preselectUsecase&&(this.selected=this.usecases.find((t=>t.component===this.preselectUsecase))||null)},computed:{...r.Z.mapGetters(["supports"]),supportsJobs(){return this.supports("createJob")&&this.supports("startJob")},supportsSync(){return this.supports("computeResult")},self(){return this},width(){return this.selected?"90%":"50%"},title(){let t="Process Wizard";return this.selected&&(t+=": "+this.getUsecaseTitle(this.selected)),t},isLastStep(){return this.activeTabIndex===this.tabs.length-1},progressBarStyle(){return{backgroundColor:this.color,width:`${this.progress}%`,color:this.color}},progress(){let t=1/(2*this.tabs.length)*100;return this.activeTabIndex>0&&(t*=2*this.activeTabIndex+1),t}},methods:{...r.Z.mapMutations("editor",["setProcess"]),start(t){this.selected=t},reset(){this.selected=null},close(t=null){this.show=!1,t&&r.Z.error(this,t,"Wizard Error")},async execute({process:t,mode:e,modeOptions:s}){this.setProcess(t),"sync"==e&&this.supportsSync?this.broadcast("executeProcess"):"job"==e&&this.supportsJobs&&this.broadcast("startAndQueueProcess",s)},getUsecaseTitle(t){return"function"==typeof t.title?t.title():t.title},addTab(t,e){this.tabs.splice(e,0,t),e<this.activeTabIndex+1&&(this.maxStep=e,this.changeTab(this.activeTabIndex+1,e))},removeTab(t){const e=this.tabs.indexOf(t);e>-1&&(e===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),e<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1),this.tabs.splice(e,1))},navigateToTab(t){let e=t>this.activeTabIndex;if(t<=this.maxStep){let s=()=>{e&&t-this.activeTabIndex>1?(this.changeTab(this.activeTabIndex,this.activeTabIndex+1),this.beforeTabChange(this.activeTabIndex,s)):(this.changeTab(this.activeTabIndex,t),this.afterTabChange(this.activeTabIndex))};e?this.beforeTabChange(this.activeTabIndex,s):(this.setValidationError(null),s())}return t<=this.maxStep},nextTab(){let t=()=>{this.activeTabIndex<this.tabs.length-1?(this.changeTab(this.activeTabIndex,this.activeTabIndex+1),this.afterTabChange(this.activeTabIndex)):this.isLastStep&&this.$refs.component.finish().then(this.close).catch((t=>r.Z.exception(this,t)))};this.beforeTabChange(this.activeTabIndex,t)},prevTab(){let t=()=>{this.activeTabIndex>0&&(this.setValidationError(null),this.changeTab(this.activeTabIndex,this.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,t):t()},setValidationError(t){t&&r.Z.error(this,t),this.tabs[this.activeTabIndex].validationError=t},beforeTabChange(t,e){const s="Please fill the form";this.setValidationError(null);let a=this.tabs[t];if(a&&void 0!==a.beforeChange)try{let t=a.beforeChange();t instanceof Promise?t.then((t=>t?e():this.setValidationError(s))).catch((t=>this.setValidationError(t.message))):t?e():(d.log("fallvback"),this.setValidationError(s))}catch(i){d.log("catch"),this.setValidationError(i.message)}else e()},afterTabChange(t){let e=this.tabs[t];e&&void 0!==e.afterChange&&e.afterChange()},changeTab(t,e){let s=this.tabs[t],a=this.tabs[e];return s&&(s.active=!1),a&&(a.active=!0),this.activeTabIndex=e,this.activateTabAndCheckStep(this.activeTabIndex),!0},deactivateTabs(){this.tabs.forEach((t=>t.active=!1))},activateTab(t){this.deactivateTabs();let e=this.tabs[t];e&&(e.active=!0,e.checked=!0)},activateTabAndCheckStep(t){this.activateTab(t),t>this.maxStep&&(this.maxStep=t),this.activeTabIndex=t},initializeTabs(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):d.warn(`Prop startIndex set to ${this.startIndex} is greater than the number of tabs - ${this.tabs.length}. Make sure that the starting index is less than the number of tabs registered`)}}},b=p;var v=s(1001),m=(0,v.Z)(b,a,i,!1,null,null,null);const f=m.exports},61445:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>l});var a=function(){var t=this,e=t._self._c;return e("li",{class:{active:t.tab.active,error:t.tab.validationError,checked:t.tab.checked}},[e("a",{class:{disabled:!t.tab.checked},attrs:{href:"javascript:void(0)"}},[e("div",{staticClass:"wizard-icon-circle",attrs:{tabindex:t.tab.checked?0:""}},[e("transition",{attrs:{mode:"out-in"}},[t.tab.active?e("div",{staticClass:"wizard-icon-container"},[e("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])]):e("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],1),e("span",{staticClass:"stepTitle"},[t._v(t._s(t.tab.title))])])])},i=[];const n={name:"wizard-step",props:{tab:{type:Object,required:!0},index:{type:Number,required:!0}}},o=n;var r=s(1001),c=(0,r.Z)(o,a,i,!1,null,null,null);const l=c.exports},71400:(t,e,s)=>{var a={"./Download.vue":[45654,4763,4243,485,9445,114,8022,5072,2235,4210,4681,6933,7274,2325,9193],"./SpectralIndices.vue":[70632,4763,4243,485,9445,114,8022,5072,2235,4210,4681,6933,7274,2325,8797],"./UDP.vue":[37080,2370,4631,4763,4243,485,9445,114,8022,5072,2235,4210,4681,6933,9856,4832,9515,1814,2021,7080],"./components/WizardStep.vue":[61445],"./components/WizardTab.vue":[58503,8503],"./tabs/ChooseBoundingBox.vue":[81489,4763,4243,485,9445,114,8022,5072,2235,4210,4681,6933,1466],"./tabs/ChooseCollection.vue":[95310,5310],"./tabs/ChooseFormat.vue":[38431,7274,9467],"./tabs/ChooseProcessParameters.vue":[61090,2370,4631,4763,4243,485,9445,114,8022,5072,2235,4210,4681,6933,9856,4832,2720,8584,7265,1090],"./tabs/ChooseProcessingMode.vue":[14167,4167],"./tabs/ChooseReducer.vue":[37660,7274,7405],"./tabs/ChooseSpectralIndices.vue":[91372,1372],"./tabs/ChooseTime.vue":[7413,2325,2902]};function i(t){if(!s.o(a,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],i=e[0];return Promise.all(e.slice(1).map(s.e)).then((()=>s(i)))}i.keys=()=>Object.keys(a),i.id=71400,t.exports=i}}]);
//# sourceMappingURL=3999.ddf82316.js.map