(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-613097b8"],{1489:function(e,t,s){"use strict";var i=s("60a2");const a={cpu:"CPU usage",memory:"Memory usage",duration:"Wall time",network:"Network Transfer IO",disk:"Storage IO",storage:"Storage space"};t["a"]={computed:{hasUsageMetrics(){return i["a"].size(this.usage)>0}},filters:{usageLabel(e){return a[e]?a[e]:i["a"].prettifyString(e)},usageValue(e){return"number"===typeof e?e.toLocaleString():e}}}},"19c6":function(e,t,s){"use strict";s("9b67")},2930:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",style:{"z-index":e.zIndex},on:{mousedown:e.backgroundClose}},[s("div",{ref:"container",staticClass:"modal-container",style:e.style},[s("header",{staticClass:"modal-header",on:{mousedown:e.startMove}},[e._t("header",(function(){return[s("h2",[e._v(e._s(e.title))]),s("span",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]}))],2),s("main",{staticClass:"modal-content"},[e._t("default")],2),s("footer",{staticClass:"modal-footer"},[e._t("footer")],2)])])},a=[],o=s("3115"),n=s("025e"),r={name:"Modal",mixins:[o["a"]],props:{title:{type:String,default:null},minWidth:{type:String,default:null},width:{type:String,default:"auto"},show:{type:Boolean,default:!0}},data(){return{zIndex:1e3,position:null,dragPosition:null}},computed:{...n["a"].mapState("editor",["hightestModalZIndex"]),style(){let e={width:this.width};return this.minWidth&&(e["min-width"]=this.minWidth),Array.isArray(this.position)&&(e.position="absolute",e.left=this.position[0]+"px",e.top=this.position[1]+"px"),e}},watch:{show:{immediate:!0,handler(e){e?this.open():this.close()}}},methods:{...n["a"].mapMutations("editor",["openModal","closeModal"]),open(){this.openModal(),this.zIndex=this.hightestModalZIndex,window.addEventListener("keydown",this.escCloseListener),this.$emit("shown")},close(){window.removeEventListener("keydown",this.escCloseListener),this.closeModal(),this.$emit("closed")},startMove(e){"H2"!==e.target.tagName&&(this.dragPosition=[e.clientX,e.clientY],document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.stopMove),e.preventDefault(),e.stopPropagation())},stopMove(){document.removeEventListener("mousemove",this.move),document.removeEventListener("mouseup",this.stopMove)},move(e){e.preventDefault(),this.position=[this.$refs.container.offsetLeft-(this.dragPosition[0]-e.clientX),this.$refs.container.offsetTop-(this.dragPosition[1]-e.clientY)],this.dragPosition=[e.clientX,e.clientY]},escCloseListener(e){if("Escape"==e.key)return this.close(),e.preventDefault(),e.stopPropagation(),!1},backgroundClose(e){e.target===this.$el&&this.close()}}},l=r,c=(s("8781"),s("2877")),d=Object(c["a"])(l,i,a,!1,null,null,null);t["a"]=d.exports},"4a8e":function(e,t,s){"use strict";var i=function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return i("li",{staticClass:"vue-component log-entry",class:(e={},e[t.log.level]=!0,e.expanded=t.expanded,e)},[i("summary",[i("span",{staticClass:"toggle",on:{click:function(e){return t.toggle()}}},[t._v("â–¸")]),i("span",{staticClass:"log-message",on:{click:function(e){!t.expanded&&t.toggle()}}},[t._v(t._s(t.log.message))]),t.log.level?i("ul",{staticClass:"badges small inline"},[t.relativeTime?i("li",{staticClass:"badge time",attrs:{title:t.formattedTime}},[t._v(t._s(t.relativeTime))]):t._e(),i("li",{staticClass:"badge",class:t.log.level},[t._v(t._s(t.log.level))])]):t._e()]),t.expanded?i("ul",{staticClass:"details"},[t.log.code?i("li",[t._v("Code: "+t._s(t.log.code))]):t._e(),Array.isArray(t.log.path)&&t.log.path.length?i("li",[t._v(" Path: "),i("ol",{staticClass:"path"},t._l(t.path,(function(e,s){return i("li",{key:s},[i("strong",[i("code",[t._v("#"+t._s(e.node_id))])]),e.process_id?[i("br"),t._v("Process: "),i("code",[t._v(t._s(e.process_id))]),e.namespace?[t._v(" in namespace "),i("code",[t._v(t._s(e.namespace))])]:t._e(),e.parameter?[i("br"),t._v("Parameter: "),i("code",[t._v(t._s(e.parameter))])]:t._e()]:t._e()],2)})),0)]):t._e(),t.hasData?i("li",[t._v(" Data: "),i("ObjectTree",{attrs:{data:t.log.data}})],1):t._e(),t.hasUsageMetrics?i("li",[t._v(" Usage metrics: "),i("ul",{staticClass:"usage"},t._l(t.usage,(function(e,s){return i("li",{key:s},[i("strong",{staticClass:"metric"},[t._v(t._s(t._f("usageLabel")(s)))]),t._v(": "+t._s(t._f("usageValue")(e.value))+" "),i("span",{staticClass:"unit"},[t._v(t._s(e.unit))])])})),0)]):t._e(),i("li",[t._v("ID: "+t._s(t.log.id))]),Array.isArray(t.log.links)&&t.log.links.length?i("li",[t._v(" Related Resources: "),i("LinkList",{attrs:{links:t.log.links}})],1):t._e()]):t._e()])},a=[],o=s("60a2"),n=s("1489");const r=[{length:1e3,unit:"ms"},{length:60,unit:"s"},{length:60,unit:"m"},{length:24,unit:"h"}];var l={name:"Log",mixins:[n["a"]],components:{LinkList:()=>s.e("chunk-241547dc").then(s.bind(null,"4845")),ObjectTree:()=>s.e("chunk-0b351486").then(s.bind(null,"0a37"))},props:{log:{type:Object,default:()=>[]},startTime:{type:String,default:null}},computed:{hasData(){return"undefined"!==typeof this.log.data},usage(){return this.log.usage},relativeTime(){if(!this.startTime||!this.log.time)return null;if(this.log.time===this.startTime)return o["a"].formatTimestamp(this.log.time);try{let e=new Date(this.startTime),t=new Date(this.log.time),s=t-e,i=[];for(let a of r){let e=s%a.length;if(s-=e,0!==e&&i.push(e+a.unit),s<a.length)break;s/=a.length}return"+"+i.reverse().join(" ")}catch(e){return null}},formattedTime(){return o["a"].formatTimestamp(this.log.time)},path(){return this.log.path.reverse()}},data(){return{expanded:!1}},methods:{toggle(){this.expanded=!this.expanded}}},c=l,d=(s("e6db"),s("2877")),u=Object(d["a"])(c,i,a,!1,null,null,null);t["a"]=u.exports},"5fc7":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{width:"50%",title:e.title},on:{closed:function(t){return e.$emit("closed")},shown:e.expand}},[s("ul",{staticClass:"error-modal"},[s("Log",{ref:"log",attrs:{log:e.log}})],1)])},a=[],o=s("2930"),n=s("4a8e"),r=s("025e"),l={name:"ErrorModal",components:{Log:n["a"],Modal:o["a"]},props:{error:{type:Error,default:()=>({})}},computed:{log(){return{id:this.error.id,code:this.error.code,level:"error",message:this.error.message,time:(new Date).toISOString(),data:this.error,links:this.error.links}},title(){if("string"===typeof this.error.code&&this.error.code.length>0){let e=r["a"].prettifyString(this.error.code);return"Error: "+e}return"Error"}},methods:{expand(){this.$nextTick(()=>{this.$refs.log&&!this.$refs.log.expanded&&this.$refs.log.toggle()})}}},c=l,d=(s("19c6"),s("2877")),u=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=u.exports},"6b1e":function(e,t,s){},8781:function(e,t,s){"use strict";s("6b1e")},"9b67":function(e,t,s){},e6db:function(e,t,s){"use strict";s("fb85")},fb85:function(e,t,s){}}]);
//# sourceMappingURL=chunk-613097b8.ee10ddcd.js.map